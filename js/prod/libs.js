/*
 * jQuery JavaScript Library v1.4.2
 * http://jquery.com/
 *
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2010, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Sat Feb 13 22:33:48 2010 -0500
 */
(function(aM,C){var a=function(aY,aZ){return new a.fn.init(aY,aZ)},n=aM.jQuery,R=aM.$,ab=aM.document,X,P=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,aW=/^.[^:#\[\.,]*$/,ax=/\S/,M=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,e=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=navigator.userAgent,u,K=false,ad=[],aG,at=Object.prototype.toString,ap=Object.prototype.hasOwnProperty,g=Array.prototype.push,F=Array.prototype.slice,s=Array.prototype.indexOf;a.fn=a.prototype={init:function(aY,a1){var a0,a2,aZ,a3;if(!aY){return this}if(aY.nodeType){this.context=this[0]=aY;this.length=1;return this}if(aY==="body"&&!a1){this.context=ab;this[0]=ab.body;this.selector="body";this.length=1;return this}if(typeof aY==="string"){a0=P.exec(aY);if(a0&&(a0[1]||!a1)){if(a0[1]){a3=(a1?a1.ownerDocument||a1:ab);aZ=e.exec(aY);if(aZ){if(a.isPlainObject(a1)){aY=[ab.createElement(aZ[1])];a.fn.attr.call(aY,a1,true)}else{aY=[a3.createElement(aZ[1])]}}else{aZ=J([a0[1]],[a3]);aY=(aZ.cacheable?aZ.fragment.cloneNode(true):aZ.fragment).childNodes}return a.merge(this,aY)}else{a2=ab.getElementById(a0[2]);if(a2){if(a2.id!==a0[2]){return X.find(aY)}this.length=1;this[0]=a2}this.context=ab;this.selector=aY;return this}}else{if(!a1&&/^\w+$/.test(aY)){this.selector=aY;this.context=ab;aY=ab.getElementsByTagName(aY);return a.merge(this,aY)}else{if(!a1||a1.jquery){return(a1||X).find(aY)}else{return a(a1).find(aY)}}}}else{if(a.isFunction(aY)){return X.ready(aY)}}if(aY.selector!==C){this.selector=aY.selector;this.context=aY.context}return a.makeArray(aY,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(aY){return aY==null?this.toArray():(aY<0?this.slice(aY)[0]:this[aY])},pushStack:function(aZ,a1,aY){var a0=a();if(a.isArray(aZ)){g.apply(a0,aZ)}else{a.merge(a0,aZ)}a0.prevObject=this;a0.context=this.context;if(a1==="find"){a0.selector=this.selector+(this.selector?" ":"")+aY}else{if(a1){a0.selector=this.selector+"."+a1+"("+aY+")"}}return a0},each:function(aZ,aY){return a.each(this,aZ,aY)},ready:function(aY){a.bindReady();if(a.isReady){aY.call(ab,a)}else{if(ad){ad.push(aY)}}return this},eq:function(aY){return aY===-1?this.slice(aY):this.slice(aY,+aY+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(aY){return this.pushStack(a.map(this,function(a0,aZ){return aY.call(a0,aZ,a0)}))},end:function(){return this.prevObject||a(null)},push:g,sort:[].sort,splice:[].splice};a.fn.init.prototype=a.fn;a.extend=a.fn.extend=function(){var a3=arguments[0]||{},a2=1,a1=arguments.length,a5=false,a6,a0,aY,aZ;if(typeof a3==="boolean"){a5=a3;a3=arguments[1]||{};a2=2}if(typeof a3!=="object"&&!a.isFunction(a3)){a3={}}if(a1===a2){a3=this;--a2}for(;a2<a1;a2++){if((a6=arguments[a2])!=null){for(a0 in a6){aY=a3[a0];aZ=a6[a0];if(a3===aZ){continue}if(a5&&aZ&&(a.isPlainObject(aZ)||a.isArray(aZ))){var a4=aY&&(a.isPlainObject(aY)||a.isArray(aY))?aY:a.isArray(aZ)?[]:{};a3[a0]=a.extend(a5,a4,aZ)}else{if(aZ!==C){a3[a0]=aZ}}}}}return a3};a.extend({noConflict:function(aY){aM.$=R;if(aY){aM.jQuery=n}return a},isReady:false,ready:function(){if(!a.isReady){if(!ab.body){return setTimeout(a.ready,13)}a.isReady=true;if(ad){var aZ,aY=0;while((aZ=ad[aY++])){aZ.call(ab,a)}ad=null}if(a.fn.triggerHandler){a(ab).triggerHandler("ready")}}},bindReady:function(){if(K){return}K=true;if(ab.readyState==="complete"){return a.ready()}if(ab.addEventListener){ab.addEventListener("DOMContentLoaded",aG,false);aM.addEventListener("load",a.ready,false)}else{if(ab.attachEvent){ab.attachEvent("onreadystatechange",aG);aM.attachEvent("onload",a.ready);var aY=false;try{aY=aM.frameElement==null}catch(aZ){}if(ab.documentElement.doScroll&&aY){x()}}}},isFunction:function(aY){return at.call(aY)==="[object Function]"},isArray:function(aY){return at.call(aY)==="[object Array]"},isPlainObject:function(aZ){if(!aZ||at.call(aZ)!=="[object Object]"||aZ.nodeType||aZ.setInterval){return false}if(aZ.constructor&&!ap.call(aZ,"constructor")&&!ap.call(aZ.constructor.prototype,"isPrototypeOf")){return false}var aY;for(aY in aZ){}return aY===C||ap.call(aZ,aY)},isEmptyObject:function(aZ){for(var aY in aZ){return false}return true},error:function(aY){throw aY},parseJSON:function(aY){if(typeof aY!=="string"||!aY){return null}aY=a.trim(aY);if(/^[\],:{}\s]*$/.test(aY.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return aM.JSON&&aM.JSON.parse?aM.JSON.parse(aY):(new Function("return "+aY))()}else{a.error("Invalid JSON: "+aY)}},noop:function(){},globalEval:function(a0){if(a0&&ax.test(a0)){var aZ=ab.getElementsByTagName("head")[0]||ab.documentElement,aY=ab.createElement("script");aY.type="text/javascript";if(a.support.scriptEval){aY.appendChild(ab.createTextNode(a0))}else{aY.text=a0}aZ.insertBefore(aY,aZ.firstChild);aZ.removeChild(aY)}},nodeName:function(aZ,aY){return aZ.nodeName&&aZ.nodeName.toUpperCase()===aY.toUpperCase()},each:function(a1,a5,a0){var aZ,a2=0,a3=a1.length,aY=a3===C||a.isFunction(a1);if(a0){if(aY){for(aZ in a1){if(a5.apply(a1[aZ],a0)===false){break}}}else{for(;a2<a3;){if(a5.apply(a1[a2++],a0)===false){break}}}}else{if(aY){for(aZ in a1){if(a5.call(a1[aZ],aZ,a1[aZ])===false){break}}}else{for(var a4=a1[0];a2<a3&&a5.call(a4,a2,a4)!==false;a4=a1[++a2]){}}}return a1},trim:function(aY){return(aY||"").replace(M,"")},makeArray:function(a0,aZ){var aY=aZ||[];if(a0!=null){if(a0.length==null||typeof a0==="string"||a.isFunction(a0)||(typeof a0!=="function"&&a0.setInterval)){g.call(aY,a0)}else{a.merge(aY,a0)}}return aY},inArray:function(a0,a1){if(a1.indexOf){return a1.indexOf(a0)}for(var aY=0,aZ=a1.length;aY<aZ;aY++){if(a1[aY]===a0){return aY}}return -1},merge:function(a2,a0){var a1=a2.length,aZ=0;if(typeof a0.length==="number"){for(var aY=a0.length;aZ<aY;aZ++){a2[a1++]=a0[aZ]}}else{while(a0[aZ]!==C){a2[a1++]=a0[aZ++]}}a2.length=a1;return a2},grep:function(aZ,a3,aY){var a0=[];for(var a1=0,a2=aZ.length;a1<a2;a1++){if(!aY!==!a3(aZ[a1],a1)){a0.push(aZ[a1])}}return a0},map:function(aZ,a4,aY){var a0=[],a3;for(var a1=0,a2=aZ.length;a1<a2;a1++){a3=a4(aZ[a1],a1,aY);if(a3!=null){a0[a0.length]=a3}}return a0.concat.apply([],a0)},guid:1,proxy:function(a0,aZ,aY){if(arguments.length===2){if(typeof aZ==="string"){aY=a0;a0=aY[aZ];aZ=C}else{if(aZ&&!a.isFunction(aZ)){aY=aZ;aZ=C}}}if(!aZ&&a0){aZ=function(){return a0.apply(aY||this,arguments)}}if(a0){aZ.guid=a0.guid=a0.guid||aZ.guid||a.guid++}return aZ},uaMatch:function(aZ){aZ=aZ.toLowerCase();var aY=/(webkit)[ \/]([\w.]+)/.exec(aZ)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(aZ)||/(msie) ([\w.]+)/.exec(aZ)||!/compatible/.test(aZ)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(aZ)||[];return{browser:aY[1]||"",version:aY[2]||"0"}},browser:{}});u=a.uaMatch(b);if(u.browser){a.browser[u.browser]=true;a.browser.version=u.version}if(a.browser.webkit){a.browser.safari=true}if(s){a.inArray=function(aY,aZ){return s.call(aZ,aY)}}X=a(ab);if(ab.addEventListener){aG=function(){ab.removeEventListener("DOMContentLoaded",aG,false);a.ready()}}else{if(ab.attachEvent){aG=function(){if(ab.readyState==="complete"){ab.detachEvent("onreadystatechange",aG);a.ready()}}}}function x(){if(a.isReady){return}try{ab.documentElement.doScroll("left")}catch(aY){setTimeout(x,1);return}a.ready()}function aV(aY,aZ){if(aZ.src){a.ajax({url:aZ.src,async:false,dataType:"script"})}else{a.globalEval(aZ.text||aZ.textContent||aZ.innerHTML||"")}if(aZ.parentNode){aZ.parentNode.removeChild(aZ)}}function an(aY,a6,a4,a0,a3,a5){var aZ=aY.length;if(typeof a6==="object"){for(var a1 in a6){an(aY,a1,a6[a1],a0,a3,a4)}return aY}if(a4!==C){a0=!a5&&a0&&a.isFunction(a4);for(var a2=0;a2<aZ;a2++){a3(aY[a2],a6,a0?a4.call(aY[a2],a2,a3(aY[a2],a6)):a4,a5)}return aY}return aZ?a3(aY[0],a6):C}function aP(){return(new Date).getTime()}(function(){a.support={};var a4=ab.documentElement,a3=ab.createElement("script"),aY=ab.createElement("div"),aZ="script"+aP();aY.style.display="none";aY.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var a6=aY.getElementsByTagName("*"),a5=aY.getElementsByTagName("a")[0];if(!a6||!a6.length||!a5){return}a.support={leadingWhitespace:aY.firstChild.nodeType===3,tbody:!aY.getElementsByTagName("tbody").length,htmlSerialize:!!aY.getElementsByTagName("link").length,style:/red/.test(a5.getAttribute("style")),hrefNormalized:a5.getAttribute("href")==="/a",opacity:/^0.55$/.test(a5.style.opacity),cssFloat:!!a5.style.cssFloat,checkOn:aY.getElementsByTagName("input")[0].value==="on",optSelected:ab.createElement("select").appendChild(ab.createElement("option")).selected,parentNode:aY.removeChild(aY.appendChild(ab.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};a3.type="text/javascript";try{a3.appendChild(ab.createTextNode("window."+aZ+"=1;"))}catch(a1){}a4.insertBefore(a3,a4.firstChild);if(aM[aZ]){a.support.scriptEval=true;delete aM[aZ]}try{delete a3.test}catch(a1){a.support.deleteExpando=false}a4.removeChild(a3);if(aY.attachEvent&&aY.fireEvent){aY.attachEvent("onclick",function a7(){a.support.noCloneEvent=false;aY.detachEvent("onclick",a7)});aY.cloneNode(true).fireEvent("onclick")}aY=ab.createElement("div");aY.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var a0=ab.createDocumentFragment();a0.appendChild(aY.firstChild);a.support.checkClone=a0.cloneNode(true).cloneNode(true).lastChild.checked;a(function(){var a8=ab.createElement("div");a8.style.width=a8.style.paddingLeft="1px";ab.body.appendChild(a8);a.boxModel=a.support.boxModel=a8.offsetWidth===2;ab.body.removeChild(a8).style.display="none";a8=null});var a2=function(a8){var ba=ab.createElement("div");a8="on"+a8;var a9=(a8 in ba);if(!a9){ba.setAttribute(a8,"return;");a9=typeof ba[a8]==="function"}ba=null;return a9};a.support.submitBubbles=a2("submit");a.support.changeBubbles=a2("change");a4=a3=aY=a6=a5=null})();a.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var aI="jQuery"+aP(),aH=0,aT={};a.extend({cache:{},expando:aI,noData:{embed:true,object:true,applet:true},data:function(a0,aZ,a2){if(a0.nodeName&&a.noData[a0.nodeName.toLowerCase()]){return}a0=a0==aM?aT:a0;var a3=a0[aI],aY=a.cache,a1;if(!a3&&typeof aZ==="string"&&a2===C){return null}if(!a3){a3=++aH}if(typeof aZ==="object"){a0[aI]=a3;a1=aY[a3]=a.extend(true,{},aZ)}else{if(!aY[a3]){a0[aI]=a3;aY[a3]={}}}a1=aY[a3];if(a2!==C){a1[aZ]=a2}return typeof aZ==="string"?a1[aZ]:a1},removeData:function(a0,aZ){if(a0.nodeName&&a.noData[a0.nodeName.toLowerCase()]){return}a0=a0==aM?aT:a0;var a2=a0[aI],aY=a.cache,a1=aY[a2];if(aZ){if(a1){delete a1[aZ];if(a.isEmptyObject(a1)){a.removeData(a0)}}}else{if(a.support.deleteExpando){delete a0[a.expando]}else{if(a0.removeAttribute){a0.removeAttribute(a.expando)}}delete aY[a2]}}});a.fn.extend({data:function(aY,a0){if(typeof aY==="undefined"&&this.length){return a.data(this[0])}else{if(typeof aY==="object"){return this.each(function(){a.data(this,aY)})}}var a1=aY.split(".");a1[1]=a1[1]?"."+a1[1]:"";if(a0===C){var aZ=this.triggerHandler("getData"+a1[1]+"!",[a1[0]]);if(aZ===C&&this.length){aZ=a.data(this[0],aY)}return aZ===C&&a1[1]?this.data(a1[0]):aZ}else{return this.trigger("setData"+a1[1]+"!",[a1[0],a0]).each(function(){a.data(this,aY,a0)})}},removeData:function(aY){return this.each(function(){a.removeData(this,aY)})}});a.extend({queue:function(aZ,aY,a1){if(!aZ){return}aY=(aY||"fx")+"queue";var a0=a.data(aZ,aY);if(!a1){return a0||[]}if(!a0||a.isArray(a1)){a0=a.data(aZ,aY,a.makeArray(a1))}else{a0.push(a1)}return a0},dequeue:function(a1,a0){a0=a0||"fx";var aY=a.queue(a1,a0),aZ=aY.shift();if(aZ==="inprogress"){aZ=aY.shift()}if(aZ){if(a0==="fx"){aY.unshift("inprogress")}aZ.call(a1,function(){a.dequeue(a1,a0)})}}});a.fn.extend({queue:function(aY,aZ){if(typeof aY!=="string"){aZ=aY;aY="fx"}if(aZ===C){return a.queue(this[0],aY)}return this.each(function(a1,a2){var a0=a.queue(this,aY,aZ);if(aY==="fx"&&a0[0]!=="inprogress"){a.dequeue(this,aY)}})},dequeue:function(aY){return this.each(function(){a.dequeue(this,aY)})},delay:function(aZ,aY){aZ=a.fx?a.fx.speeds[aZ]||aZ:aZ;aY=aY||"fx";return this.queue(aY,function(){var a0=this;setTimeout(function(){a.dequeue(a0,aY)},aZ)})},clearQueue:function(aY){return this.queue(aY||"fx",[])}});var ao=/[\n\t]/g,S=/\s+/,av=/\r/g,aQ=/href|src|style/,d=/(button|input)/i,z=/(button|input|object|select|textarea)/i,j=/^(a|area)$/i,I=/radio|checkbox/;a.fn.extend({attr:function(aY,aZ){return an(this,aY,aZ,true,a.attr)},removeAttr:function(aY,aZ){return this.each(function(){a.attr(this,aY,"");if(this.nodeType===1){this.removeAttribute(aY)}})},addClass:function(a5){if(a.isFunction(a5)){return this.each(function(a8){var a7=a(this);a7.addClass(a5.call(this,a8,a7.attr("class")))})}if(a5&&typeof a5==="string"){var aY=(a5||"").split(S);for(var a1=0,a0=this.length;a1<a0;a1++){var aZ=this[a1];if(aZ.nodeType===1){if(!aZ.className){aZ.className=a5}else{var a2=" "+aZ.className+" ",a4=aZ.className;for(var a3=0,a6=aY.length;a3<a6;a3++){if(a2.indexOf(" "+aY[a3]+" ")<0){a4+=" "+aY[a3]}}aZ.className=a.trim(a4)}}}}return this},removeClass:function(a3){if(a.isFunction(a3)){return this.each(function(a7){var a6=a(this);a6.removeClass(a3.call(this,a7,a6.attr("class")))})}if((a3&&typeof a3==="string")||a3===C){var a4=(a3||"").split(S);for(var a0=0,aZ=this.length;a0<aZ;a0++){var a2=this[a0];if(a2.nodeType===1&&a2.className){if(a3){var a1=(" "+a2.className+" ").replace(ao," ");for(var a5=0,aY=a4.length;a5<aY;a5++){a1=a1.replace(" "+a4[a5]+" "," ")}a2.className=a.trim(a1)}else{a2.className=""}}}}return this},toggleClass:function(a1,aZ){var a0=typeof a1,aY=typeof aZ==="boolean";if(a.isFunction(a1)){return this.each(function(a3){var a2=a(this);a2.toggleClass(a1.call(this,a3,a2.attr("class"),aZ),aZ)})}return this.each(function(){if(a0==="string"){var a4,a3=0,a2=a(this),a5=aZ,a6=a1.split(S);while((a4=a6[a3++])){a5=aY?a5:!a2.hasClass(a4);a2[a5?"addClass":"removeClass"](a4)}}else{if(a0==="undefined"||a0==="boolean"){if(this.className){a.data(this,"__className__",this.className)}this.className=this.className||a1===false?"":a.data(this,"__className__")||""}}})},hasClass:function(aY){var a1=" "+aY+" ";for(var a0=0,aZ=this.length;a0<aZ;a0++){if((" "+this[a0].className+" ").replace(ao," ").indexOf(a1)>-1){return true}}return false},val:function(a5){if(a5===C){var aZ=this[0];if(aZ){if(a.nodeName(aZ,"option")){return(aZ.attributes.value||{}).specified?aZ.value:aZ.text}if(a.nodeName(aZ,"select")){var a3=aZ.selectedIndex,a6=[],a7=aZ.options,a2=aZ.type==="select-one";if(a3<0){return null}for(var a0=a2?a3:0,a4=a2?a3+1:a7.length;a0<a4;a0++){var a1=a7[a0];if(a1.selected){a5=a(a1).val();if(a2){return a5}a6.push(a5)}}return a6}if(I.test(aZ.type)&&!a.support.checkOn){return aZ.getAttribute("value")===null?"on":aZ.value}return(aZ.value||"").replace(av,"")}return C}var aY=a.isFunction(a5);return this.each(function(ba){var a9=a(this),bb=a5;if(this.nodeType!==1){return}if(aY){bb=a5.call(this,ba,a9.val())}if(typeof bb==="number"){bb+=""}if(a.isArray(bb)&&I.test(this.type)){this.checked=a.inArray(a9.val(),bb)>=0}else{if(a.nodeName(this,"select")){var a8=a.makeArray(bb);a("option",this).each(function(){this.selected=a.inArray(a(this).val(),a8)>=0});if(!a8.length){this.selectedIndex=-1}}else{this.value=bb}}})}});a.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(aZ,aY,a4,a7){if(!aZ||aZ.nodeType===3||aZ.nodeType===8){return C}if(a7&&aY in a.attrFn){return a(aZ)[aY](a4)}var a0=aZ.nodeType!==1||!a.isXMLDoc(aZ),a3=a4!==C;aY=a0&&a.props[aY]||aY;if(aZ.nodeType===1){var a2=aQ.test(aY);if(aY==="selected"&&!a.support.optSelected){var a5=aZ.parentNode;if(a5){a5.selectedIndex;if(a5.parentNode){a5.parentNode.selectedIndex}}}if(aY in aZ&&a0&&!a2){if(a3){if(aY==="type"&&d.test(aZ.nodeName)&&aZ.parentNode){a.error("type property can't be changed")}aZ[aY]=a4}if(a.nodeName(aZ,"form")&&aZ.getAttributeNode(aY)){return aZ.getAttributeNode(aY).nodeValue}if(aY==="tabIndex"){var a6=aZ.getAttributeNode("tabIndex");return a6&&a6.specified?a6.value:z.test(aZ.nodeName)||j.test(aZ.nodeName)&&aZ.href?0:C}return aZ[aY]}if(!a.support.style&&a0&&aY==="style"){if(a3){aZ.style.cssText=""+a4}return aZ.style.cssText}if(a3){aZ.setAttribute(aY,""+a4)}var a1=!a.support.hrefNormalized&&a0&&a2?aZ.getAttribute(aY,2):aZ.getAttribute(aY);return a1===null?C:a1}return a.style(aZ,aY,a4)}});var aC=/\.(.*)$/,A=function(aY){return aY.replace(/[^\w\s\.\|`]/g,function(aZ){return"\\"+aZ})};a.event={add:function(a1,a5,ba,a3){if(a1.nodeType===3||a1.nodeType===8){return}if(a1.setInterval&&(a1!==aM&&!a1.frameElement)){a1=aM}var aZ,a9;if(ba.handler){aZ=ba;ba=aZ.handler}if(!ba.guid){ba.guid=a.guid++}var a6=a.data(a1);if(!a6){return}var bb=a6.events=a6.events||{},a4=a6.handle,a4;if(!a4){a6.handle=a4=function(){return typeof a!=="undefined"&&!a.event.triggered?a.event.handle.apply(a4.elem,arguments):C}}a4.elem=a1;a5=a5.split(" ");var a8,a2=0,aY;while((a8=a5[a2++])){a9=aZ?a.extend({},aZ):{handler:ba,data:a3};if(a8.indexOf(".")>-1){aY=a8.split(".");a8=aY.shift();a9.namespace=aY.slice(0).sort().join(".")}else{aY=[];a9.namespace=""}a9.type=a8;a9.guid=ba.guid;var a0=bb[a8],a7=a.event.special[a8]||{};if(!a0){a0=bb[a8]=[];if(!a7.setup||a7.setup.call(a1,a3,aY,a4)===false){if(a1.addEventListener){a1.addEventListener(a8,a4,false)}else{if(a1.attachEvent){a1.attachEvent("on"+a8,a4)}}}}if(a7.add){a7.add.call(a1,a9);if(!a9.handler.guid){a9.handler.guid=ba.guid}}a0.push(a9);a.event.global[a8]=true}a1=null},global:{},remove:function(bd,a8,aZ,a4){if(bd.nodeType===3||bd.nodeType===8){return}var bg,a3,a5,bb=0,a1,a6,a9,a2,a7,aY,bf,bc=a.data(bd),a0=bc&&bc.events;if(!bc||!a0){return}if(a8&&a8.type){aZ=a8.handler;a8=a8.type}if(!a8||typeof a8==="string"&&a8.charAt(0)==="."){a8=a8||"";for(a3 in a0){a.event.remove(bd,a3+a8)}return}a8=a8.split(" ");while((a3=a8[bb++])){bf=a3;aY=null;a1=a3.indexOf(".")<0;a6=[];if(!a1){a6=a3.split(".");a3=a6.shift();a9=new RegExp("(^|\\.)"+a.map(a6.slice(0).sort(),A).join("\\.(?:.*\\.)?")+"(\\.|$)")}a7=a0[a3];if(!a7){continue}if(!aZ){for(var ba=0;ba<a7.length;ba++){aY=a7[ba];if(a1||a9.test(aY.namespace)){a.event.remove(bd,bf,aY.handler,ba);a7.splice(ba--,1)}}continue}a2=a.event.special[a3]||{};for(var ba=a4||0;ba<a7.length;ba++){aY=a7[ba];if(aZ.guid===aY.guid){if(a1||a9.test(aY.namespace)){if(a4==null){a7.splice(ba--,1)}if(a2.remove){a2.remove.call(bd,aY)}}if(a4!=null){break}}}if(a7.length===0||a4!=null&&a7.length===1){if(!a2.teardown||a2.teardown.call(bd,a6)===false){ag(bd,a3,bc.handle)}bg=null;delete a0[a3]}}if(a.isEmptyObject(a0)){var be=bc.handle;if(be){be.elem=null}delete bc.events;delete bc.handle;if(a.isEmptyObject(bc)){a.removeData(bd)}}},trigger:function(aY,a2,a0){var a7=aY.type||aY,a1=arguments[3];if(!a1){aY=typeof aY==="object"?aY[aI]?aY:a.extend(a.Event(a7),aY):a.Event(a7);if(a7.indexOf("!")>=0){aY.type=a7=a7.slice(0,-1);aY.exclusive=true}if(!a0){aY.stopPropagation();if(a.event.global[a7]){a.each(a.cache,function(){if(this.events&&this.events[a7]){a.event.trigger(aY,a2,this.handle.elem)}})}}if(!a0||a0.nodeType===3||a0.nodeType===8){return C}aY.result=C;aY.target=a0;a2=a.makeArray(a2);a2.unshift(aY)}aY.currentTarget=a0;var a3=a.data(a0,"handle");if(a3){a3.apply(a0,a2)}var a8=a0.parentNode||a0.ownerDocument;try{if(!(a0&&a0.nodeName&&a.noData[a0.nodeName.toLowerCase()])){if(a0["on"+a7]&&a0["on"+a7].apply(a0,a2)===false){aY.result=false}}}catch(a5){}if(!aY.isPropagationStopped()&&a8){a.event.trigger(aY,a2,a8,true)}else{if(!aY.isDefaultPrevented()){var a4=aY.target,aZ,a9=a.nodeName(a4,"a")&&a7==="click",a6=a.event.special[a7]||{};if((!a6._default||a6._default.call(a0,aY)===false)&&!a9&&!(a4&&a4.nodeName&&a.noData[a4.nodeName.toLowerCase()])){try{if(a4[a7]){aZ=a4["on"+a7];if(aZ){a4["on"+a7]=null}a.event.triggered=true;a4[a7]()}}catch(a5){}if(aZ){a4["on"+a7]=aZ}a.event.triggered=false}}}},handle:function(aY){var a6,a0,aZ,a1,a7;aY=arguments[0]=a.event.fix(aY||aM.event);aY.currentTarget=this;a6=aY.type.indexOf(".")<0&&!aY.exclusive;if(!a6){aZ=aY.type.split(".");aY.type=aZ.shift();a1=new RegExp("(^|\\.)"+aZ.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}var a7=a.data(this,"events"),a0=a7[aY.type];if(a7&&a0){a0=a0.slice(0);for(var a3=0,a2=a0.length;a3<a2;a3++){var a5=a0[a3];if(a6||a1.test(a5.namespace)){aY.handler=a5.handler;aY.data=a5.data;aY.handleObj=a5;var a4=a5.handler.apply(this,arguments);if(a4!==C){aY.result=a4;if(a4===false){aY.preventDefault();aY.stopPropagation()}}if(aY.isImmediatePropagationStopped()){break}}}}return aY.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a1){if(a1[aI]){return a1}var aZ=a1;a1=a.Event(aZ);for(var a0=this.props.length,a3;a0;){a3=this.props[--a0];a1[a3]=aZ[a3]}if(!a1.target){a1.target=a1.srcElement||ab}if(a1.target.nodeType===3){a1.target=a1.target.parentNode}if(!a1.relatedTarget&&a1.fromElement){a1.relatedTarget=a1.fromElement===a1.target?a1.toElement:a1.fromElement}if(a1.pageX==null&&a1.clientX!=null){var a2=ab.documentElement,aY=ab.body;a1.pageX=a1.clientX+(a2&&a2.scrollLeft||aY&&aY.scrollLeft||0)-(a2&&a2.clientLeft||aY&&aY.clientLeft||0);a1.pageY=a1.clientY+(a2&&a2.scrollTop||aY&&aY.scrollTop||0)-(a2&&a2.clientTop||aY&&aY.clientTop||0)}if(!a1.which&&((a1.charCode||a1.charCode===0)?a1.charCode:a1.keyCode)){a1.which=a1.charCode||a1.keyCode}if(!a1.metaKey&&a1.ctrlKey){a1.metaKey=a1.ctrlKey}if(!a1.which&&a1.button!==C){a1.which=(a1.button&1?1:(a1.button&2?3:(a1.button&4?2:0)))}return a1},guid:100000000,proxy:a.proxy,special:{ready:{setup:a.bindReady,teardown:a.noop},live:{add:function(aY){a.event.add(this,aY.origType,a.extend({},aY,{handler:V}))},remove:function(aZ){var aY=true,a0=aZ.origType.replace(aC,"");a.each(a.data(this,"events").live||[],function(){if(a0===this.origType.replace(aC,"")){aY=false;return false}});if(aY){a.event.remove(this,aZ.origType,V)}}},beforeunload:{setup:function(a0,aZ,aY){if(this.setInterval){this.onbeforeunload=aY}return false},teardown:function(aZ,aY){if(this.onbeforeunload===aY){this.onbeforeunload=null}}}}};var ag=ab.removeEventListener?function(aZ,aY,a0){aZ.removeEventListener(aY,a0,false)}:function(aZ,aY,a0){aZ.detachEvent("on"+aY,a0)};a.Event=function(aY){if(!this.preventDefault){return new a.Event(aY)}if(aY&&aY.type){this.originalEvent=aY;this.type=aY.type}else{this.type=aY}this.timeStamp=aP();this[aI]=true};function aR(){return false}function f(){return true}a.Event.prototype={preventDefault:function(){this.isDefaultPrevented=f;var aY=this.originalEvent;if(!aY){return}if(aY.preventDefault){aY.preventDefault()}aY.returnValue=false},stopPropagation:function(){this.isPropagationStopped=f;var aY=this.originalEvent;if(!aY){return}if(aY.stopPropagation){aY.stopPropagation()}aY.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f;this.stopPropagation()},isDefaultPrevented:aR,isPropagationStopped:aR,isImmediatePropagationStopped:aR};var Q=function(aZ){var aY=aZ.relatedTarget;try{while(aY&&aY!==this){aY=aY.parentNode}if(aY!==this){aZ.type=aZ.data;a.event.handle.apply(this,arguments)}}catch(a0){}},ay=function(aY){aY.type=aY.data;a.event.handle.apply(this,arguments)};a.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(aZ,aY){a.event.special[aZ]={setup:function(a0){a.event.add(this,aY,a0&&a0.selector?ay:Q,aZ)},teardown:function(a0){a.event.remove(this,aY,a0&&a0.selector?ay:Q)}}});if(!a.support.submitBubbles){a.event.special.submit={setup:function(aZ,aY){if(this.nodeName.toLowerCase()!=="form"){a.event.add(this,"click.specialSubmit",function(a2){var a1=a2.target,a0=a1.type;if((a0==="submit"||a0==="image")&&a(a1).closest("form").length){return aA("submit",this,arguments)}});a.event.add(this,"keypress.specialSubmit",function(a2){var a1=a2.target,a0=a1.type;if((a0==="text"||a0==="password")&&a(a1).closest("form").length&&a2.keyCode===13){return aA("submit",this,arguments)}})}else{return false}},teardown:function(aY){a.event.remove(this,".specialSubmit")}}}if(!a.support.changeBubbles){var aq=/textarea|input|select/i,aS,i=function(aZ){var aY=aZ.type,a0=aZ.value;if(aY==="radio"||aY==="checkbox"){a0=aZ.checked}else{if(aY==="select-multiple"){a0=aZ.selectedIndex>-1?a.map(aZ.options,function(a1){return a1.selected}).join("-"):""}else{if(aZ.nodeName.toLowerCase()==="select"){a0=aZ.selectedIndex}}}return a0},O=function O(a0){var aY=a0.target,aZ,a1;if(!aq.test(aY.nodeName)||aY.readOnly){return}aZ=a.data(aY,"_change_data");a1=i(aY);if(a0.type!=="focusout"||aY.type!=="radio"){a.data(aY,"_change_data",a1)}if(aZ===C||a1===aZ){return}if(aZ!=null||a1){a0.type="change";return a.event.trigger(a0,arguments[1],aY)}};a.event.special.change={filters:{focusout:O,click:function(a0){var aZ=a0.target,aY=aZ.type;if(aY==="radio"||aY==="checkbox"||aZ.nodeName.toLowerCase()==="select"){return O.call(this,a0)}},keydown:function(a0){var aZ=a0.target,aY=aZ.type;if((a0.keyCode===13&&aZ.nodeName.toLowerCase()!=="textarea")||(a0.keyCode===32&&(aY==="checkbox"||aY==="radio"))||aY==="select-multiple"){return O.call(this,a0)}},beforeactivate:function(aZ){var aY=aZ.target;a.data(aY,"_change_data",i(aY))}},setup:function(a0,aZ){if(this.type==="file"){return false}for(var aY in aS){a.event.add(this,aY+".specialChange",aS[aY])}return aq.test(this.nodeName)},teardown:function(aY){a.event.remove(this,".specialChange");return aq.test(this.nodeName)}};aS=a.event.special.change.filters}function aA(aZ,a0,aY){aY[0].type=aZ;return a.event.handle.apply(a0,aY)}if(ab.addEventListener){a.each({focus:"focusin",blur:"focusout"},function(a0,aY){a.event.special[aY]={setup:function(){this.addEventListener(a0,aZ,true)},teardown:function(){this.removeEventListener(a0,aZ,true)}};function aZ(a1){a1=a.event.fix(a1);a1.type=aY;return a.event.handle.call(this,a1)}})}a.each(["bind","one"],function(aZ,aY){a.fn[aY]=function(a5,a6,a4){if(typeof a5==="object"){for(var a2 in a5){this[aY](a2,a6,a5[a2],a4)}return this}if(a.isFunction(a6)){a4=a6;a6=C}var a3=aY==="one"?a.proxy(a4,function(a7){a(this).unbind(a7,a3);return a4.apply(this,arguments)}):a4;if(a5==="unload"&&aY!=="one"){this.one(a5,a6,a4)}else{for(var a1=0,a0=this.length;a1<a0;a1++){a.event.add(this[a1],a5,a3,a6)}}return this}});a.fn.extend({unbind:function(a2,a1){if(typeof a2==="object"&&!a2.preventDefault){for(var a0 in a2){this.unbind(a0,a2[a0])}}else{for(var aZ=0,aY=this.length;aZ<aY;aZ++){a.event.remove(this[aZ],a2,a1)}}return this},delegate:function(aY,aZ,a1,a0){return this.live(aZ,a1,a0,aY)},undelegate:function(aY,aZ,a0){if(arguments.length===0){return this.unbind("live")}else{return this.die(aZ,null,a0,aY)}},trigger:function(aY,aZ){return this.each(function(){a.event.trigger(aY,aZ,this)})},triggerHandler:function(aY,a0){if(this[0]){var aZ=a.Event(aY);aZ.preventDefault();aZ.stopPropagation();a.event.trigger(aZ,a0,this[0]);return aZ.result}},toggle:function(a0){var aY=arguments,aZ=1;while(aZ<aY.length){a.proxy(a0,aY[aZ++])}return this.click(a.proxy(a0,function(a1){var a2=(a.data(this,"lastToggle"+a0.guid)||0)%aZ;a.data(this,"lastToggle"+a0.guid,a2+1);a1.preventDefault();return aY[a2].apply(this,arguments)||false}))},hover:function(aY,aZ){return this.mouseenter(aY).mouseleave(aZ||aY)}});var aw={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};a.each(["live","die"],function(aZ,aY){a.fn[aY]=function(a7,a4,a9,a2){var a8,a5=0,a6,a1,ba,a3=a2||this.selector,a0=a2?this:a(this.context);if(a.isFunction(a4)){a9=a4;a4=C}a7=(a7||"").split(" ");while((a8=a7[a5++])!=null){a6=aC.exec(a8);a1="";if(a6){a1=a6[0];a8=a8.replace(aC,"")}if(a8==="hover"){a7.push("mouseenter"+a1,"mouseleave"+a1);continue}ba=a8;if(a8==="focus"||a8==="blur"){a7.push(aw[a8]+a1);a8=a8+a1}else{a8=(aw[a8]||a8)+a1}if(aY==="live"){a0.each(function(){a.event.add(this,m(a8,a3),{data:a4,selector:a3,handler:a9,origType:a8,origHandler:a9,preType:ba})})}else{a0.unbind(m(a8,a3),a9)}}return this}});function V(aY){var a8,aZ=[],bb=[],a7=arguments,ba,a6,a9,a1,a3,a5,a2,a4,bc=a.data(this,"events");if(aY.liveFired===this||!bc||!bc.live||aY.button&&aY.type==="click"){return}aY.liveFired=this;var a0=bc.live.slice(0);for(a3=0;a3<a0.length;a3++){a9=a0[a3];if(a9.origType.replace(aC,"")===aY.type){bb.push(a9.selector)}else{a0.splice(a3--,1)}}a6=a(aY.target).closest(bb,aY.currentTarget);for(a5=0,a2=a6.length;a5<a2;a5++){for(a3=0;a3<a0.length;a3++){a9=a0[a3];if(a6[a5].selector===a9.selector){a1=a6[a5].elem;ba=null;if(a9.preType==="mouseenter"||a9.preType==="mouseleave"){ba=a(aY.relatedTarget).closest(a9.selector)[0]}if(!ba||ba!==a1){aZ.push({elem:a1,handleObj:a9})}}}}for(a5=0,a2=aZ.length;a5<a2;a5++){a6=aZ[a5];aY.currentTarget=a6.elem;aY.data=a6.handleObj.data;aY.handleObj=a6.handleObj;if(a6.handleObj.origHandler.apply(a6.elem,a7)===false){a8=false;break}}return a8}function m(aZ,aY){return"live."+(aZ&&aZ!=="*"?aZ+".":"")+aY.replace(/\./g,"`").replace(/ /g,"&")}a.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(aZ,aY){a.fn[aY]=function(a0){return a0?this.bind(aY,a0):this.trigger(aY)};if(a.attrFn){a.attrFn[aY]=true}});if(aM.attachEvent&&!aM.addEventListener){aM.attachEvent("onunload",function(){for(var aZ in a.cache){if(a.cache[aZ].handle){try{a.event.remove(a.cache[aZ].handle.elem)}catch(aY){}}}});
/*
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
}(function(){var a9=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,ba=0,bc=Object.prototype.toString,a4=false,a3=true;[0,0].sort(function(){a3=false;return 0});var a0=function(bl,bg,bo,bp){bo=bo||[];var br=bg=bg||ab;if(bg.nodeType!==1&&bg.nodeType!==9){return[]}if(!bl||typeof bl!=="string"){return bo}var bm=[],bi,bt,bw,bh,bk=true,bj=a1(bg),bq=bl;while((a9.exec(""),bi=a9.exec(bq))!==null){bq=bi[3];bm.push(bi[1]);if(bi[2]){bh=bi[3];break}}if(bm.length>1&&a5.exec(bl)){if(bm.length===2&&a6.relative[bm[0]]){bt=bd(bm[0]+bm[1],bg)}else{bt=a6.relative[bm[0]]?[bg]:a0(bm.shift(),bg);while(bm.length){bl=bm.shift();if(a6.relative[bl]){bl+=bm.shift()}bt=bd(bl,bt)}}}else{if(!bp&&bm.length>1&&bg.nodeType===9&&!bj&&a6.match.ID.test(bm[0])&&!a6.match.ID.test(bm[bm.length-1])){var bs=a0.find(bm.shift(),bg,bj);bg=bs.expr?a0.filter(bs.expr,bs.set)[0]:bs.set[0]}if(bg){var bs=bp?{expr:bm.pop(),set:a8(bp)}:a0.find(bm.pop(),bm.length===1&&(bm[0]==="~"||bm[0]==="+")&&bg.parentNode?bg.parentNode:bg,bj);bt=bs.expr?a0.filter(bs.expr,bs.set):bs.set;if(bm.length>0){bw=a8(bt)}else{bk=false}while(bm.length){var bv=bm.pop(),bu=bv;if(!a6.relative[bv]){bv=""}else{bu=bm.pop()}if(bu==null){bu=bg}a6.relative[bv](bw,bu,bj)}}else{bw=bm=[]}}if(!bw){bw=bt}if(!bw){a0.error(bv||bl)}if(bc.call(bw)==="[object Array]"){if(!bk){bo.push.apply(bo,bw)}else{if(bg&&bg.nodeType===1){for(var bn=0;bw[bn]!=null;bn++){if(bw[bn]&&(bw[bn]===true||bw[bn].nodeType===1&&a7(bg,bw[bn]))){bo.push(bt[bn])}}}else{for(var bn=0;bw[bn]!=null;bn++){if(bw[bn]&&bw[bn].nodeType===1){bo.push(bt[bn])}}}}}else{a8(bw,bo)}if(bh){a0(bh,br,bo,bp);a0.uniqueSort(bo)}return bo};a0.uniqueSort=function(bh){if(bb){a4=a3;bh.sort(bb);if(a4){for(var bg=1;bg<bh.length;bg++){if(bh[bg]===bh[bg-1]){bh.splice(bg--,1)}}}}return bh};a0.matches=function(bg,bh){return a0(bg,null,null,bh)};a0.find=function(bn,bg,bo){var bm,bk;if(!bn){return[]}for(var bj=0,bi=a6.order.length;bj<bi;bj++){var bl=a6.order[bj],bk;if((bk=a6.leftMatch[bl].exec(bn))){var bh=bk[1];bk.splice(1,1);if(bh.substr(bh.length-1)!=="\\"){bk[1]=(bk[1]||"").replace(/\\/g,"");bm=a6.find[bl](bk,bg,bo);if(bm!=null){bn=bn.replace(a6.match[bl],"");break}}}}if(!bm){bm=bg.getElementsByTagName("*")}return{set:bm,expr:bn}};a0.filter=function(br,bq,bu,bk){var bi=br,bw=[],bo=bq,bm,bg,bn=bq&&bq[0]&&a1(bq[0]);while(br&&bq.length){for(var bp in a6.filter){if((bm=a6.leftMatch[bp].exec(br))!=null&&bm[2]){var bh=a6.filter[bp],bv,bt,bj=bm[1];bg=false;bm.splice(1,1);if(bj.substr(bj.length-1)==="\\"){continue}if(bo===bw){bw=[]}if(a6.preFilter[bp]){bm=a6.preFilter[bp](bm,bo,bu,bw,bk,bn);if(!bm){bg=bv=true}else{if(bm===true){continue}}}if(bm){for(var bl=0;(bt=bo[bl])!=null;bl++){if(bt){bv=bh(bt,bm,bl,bo);var bs=bk^!!bv;if(bu&&bv!=null){if(bs){bg=true}else{bo[bl]=false}}else{if(bs){bw.push(bt);bg=true}}}}}if(bv!==C){if(!bu){bo=bw}br=br.replace(a6.match[bp],"");if(!bg){return[]}break}}}if(br===bi){if(bg==null){a0.error(br)}else{break}}bi=br}return bo};a0.error=function(bg){throw"Syntax error, unrecognized expression: "+bg};var a6=a0.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(bg){return bg.getAttribute("href")}},relative:{"+":function(bm,bh){var bj=typeof bh==="string",bl=bj&&!/\W/.test(bh),bn=bj&&!bl;if(bl){bh=bh.toLowerCase()}for(var bi=0,bg=bm.length,bk;bi<bg;bi++){if((bk=bm[bi])){while((bk=bk.previousSibling)&&bk.nodeType!==1){}bm[bi]=bn||bk&&bk.nodeName.toLowerCase()===bh?bk||false:bk===bh}}if(bn){a0.filter(bh,bm,true)}},">":function(bm,bh){var bk=typeof bh==="string";if(bk&&!/\W/.test(bh)){bh=bh.toLowerCase();for(var bi=0,bg=bm.length;bi<bg;bi++){var bl=bm[bi];if(bl){var bj=bl.parentNode;bm[bi]=bj.nodeName.toLowerCase()===bh?bj:false}}}else{for(var bi=0,bg=bm.length;bi<bg;bi++){var bl=bm[bi];if(bl){bm[bi]=bk?bl.parentNode:bl.parentNode===bh}}if(bk){a0.filter(bh,bm,true)}}},"":function(bj,bh,bl){var bi=ba++,bg=be;if(typeof bh==="string"&&!/\W/.test(bh)){var bk=bh=bh.toLowerCase();bg=aY}bg("parentNode",bh,bi,bj,bk,bl)},"~":function(bj,bh,bl){var bi=ba++,bg=be;if(typeof bh==="string"&&!/\W/.test(bh)){var bk=bh=bh.toLowerCase();bg=aY}bg("previousSibling",bh,bi,bj,bk,bl)}},find:{ID:function(bh,bi,bj){if(typeof bi.getElementById!=="undefined"&&!bj){var bg=bi.getElementById(bh[1]);return bg?[bg]:[]}},NAME:function(bi,bl){if(typeof bl.getElementsByName!=="undefined"){var bh=[],bk=bl.getElementsByName(bi[1]);for(var bj=0,bg=bk.length;bj<bg;bj++){if(bk[bj].getAttribute("name")===bi[1]){bh.push(bk[bj])}}return bh.length===0?null:bh}},TAG:function(bg,bh){return bh.getElementsByTagName(bg[1])}},preFilter:{CLASS:function(bj,bh,bi,bg,bm,bn){bj=" "+bj[1].replace(/\\/g,"")+" ";if(bn){return bj}for(var bk=0,bl;(bl=bh[bk])!=null;bk++){if(bl){if(bm^(bl.className&&(" "+bl.className+" ").replace(/[\t\n]/g," ").indexOf(bj)>=0)){if(!bi){bg.push(bl)}}else{if(bi){bh[bk]=false}}}}return false},ID:function(bg){return bg[1].replace(/\\/g,"")},TAG:function(bh,bg){return bh[1].toLowerCase()},CHILD:function(bg){if(bg[1]==="nth"){var bh=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(bg[2]==="even"&&"2n"||bg[2]==="odd"&&"2n+1"||!/\D/.test(bg[2])&&"0n+"+bg[2]||bg[2]);bg[2]=(bh[1]+(bh[2]||1))-0;bg[3]=bh[3]-0}bg[0]=ba++;return bg},ATTR:function(bk,bh,bi,bg,bl,bm){var bj=bk[1].replace(/\\/g,"");if(!bm&&a6.attrMap[bj]){bk[1]=a6.attrMap[bj]}if(bk[2]==="~="){bk[4]=" "+bk[4]+" "}return bk},PSEUDO:function(bk,bh,bi,bg,bl){if(bk[1]==="not"){if((a9.exec(bk[3])||"").length>1||/^\w/.test(bk[3])){bk[3]=a0(bk[3],null,null,bh)}else{var bj=a0.filter(bk[3],bh,bi,true^bl);if(!bi){bg.push.apply(bg,bj)}return false}}else{if(a6.match.POS.test(bk[0])||a6.match.CHILD.test(bk[0])){return true}}return bk},POS:function(bg){bg.unshift(true);return bg}},filters:{enabled:function(bg){return bg.disabled===false&&bg.type!=="hidden"},disabled:function(bg){return bg.disabled===true},checked:function(bg){return bg.checked===true},selected:function(bg){bg.parentNode.selectedIndex;return bg.selected===true},parent:function(bg){return !!bg.firstChild},empty:function(bg){return !bg.firstChild},has:function(bi,bh,bg){return !!a0(bg[3],bi).length},header:function(bg){return/h\d/i.test(bg.nodeName)},text:function(bg){return"text"===bg.type},radio:function(bg){return"radio"===bg.type},checkbox:function(bg){return"checkbox"===bg.type},file:function(bg){return"file"===bg.type},password:function(bg){return"password"===bg.type},submit:function(bg){return"submit"===bg.type},image:function(bg){return"image"===bg.type},reset:function(bg){return"reset"===bg.type},button:function(bg){return"button"===bg.type||bg.nodeName.toLowerCase()==="button"},input:function(bg){return/input|select|textarea|button/i.test(bg.nodeName)}},setFilters:{first:function(bh,bg){return bg===0},last:function(bi,bh,bg,bj){return bh===bj.length-1},even:function(bh,bg){return bg%2===0},odd:function(bh,bg){return bg%2===1},lt:function(bi,bh,bg){return bh<bg[3]-0},gt:function(bi,bh,bg){return bh>bg[3]-0},nth:function(bi,bh,bg){return bg[3]-0===bh},eq:function(bi,bh,bg){return bg[3]-0===bh}},filter:{PSEUDO:function(bm,bi,bj,bn){var bh=bi[1],bk=a6.filters[bh];if(bk){return bk(bm,bj,bi,bn)}else{if(bh==="contains"){return(bm.textContent||bm.innerText||aZ([bm])||"").indexOf(bi[3])>=0}else{if(bh==="not"){var bl=bi[3];for(var bj=0,bg=bl.length;bj<bg;bj++){if(bl[bj]===bm){return false}}return true}else{a0.error("Syntax error, unrecognized expression: "+bh)}}}},CHILD:function(bg,bj){var bm=bj[1],bh=bg;switch(bm){case"only":case"first":while((bh=bh.previousSibling)){if(bh.nodeType===1){return false}}if(bm==="first"){return true}bh=bg;case"last":while((bh=bh.nextSibling)){if(bh.nodeType===1){return false}}return true;case"nth":var bi=bj[2],bp=bj[3];if(bi===1&&bp===0){return true}var bl=bj[0],bo=bg.parentNode;if(bo&&(bo.sizcache!==bl||!bg.nodeIndex)){var bk=0;for(bh=bo.firstChild;bh;bh=bh.nextSibling){if(bh.nodeType===1){bh.nodeIndex=++bk}}bo.sizcache=bl}var bn=bg.nodeIndex-bp;if(bi===0){return bn===0}else{return(bn%bi===0&&bn/bi>=0)}}},ID:function(bh,bg){return bh.nodeType===1&&bh.getAttribute("id")===bg},TAG:function(bh,bg){return(bg==="*"&&bh.nodeType===1)||bh.nodeName.toLowerCase()===bg},CLASS:function(bh,bg){return(" "+(bh.className||bh.getAttribute("class"))+" ").indexOf(bg)>-1},ATTR:function(bl,bj){var bi=bj[1],bg=a6.attrHandle[bi]?a6.attrHandle[bi](bl):bl[bi]!=null?bl[bi]:bl.getAttribute(bi),bm=bg+"",bk=bj[2],bh=bj[4];return bg==null?bk==="!=":bk==="="?bm===bh:bk==="*="?bm.indexOf(bh)>=0:bk==="~="?(" "+bm+" ").indexOf(bh)>=0:!bh?bm&&bg!==false:bk==="!="?bm!==bh:bk==="^="?bm.indexOf(bh)===0:bk==="$="?bm.substr(bm.length-bh.length)===bh:bk==="|="?bm===bh||bm.substr(0,bh.length+1)===bh+"-":false},POS:function(bk,bh,bi,bl){var bg=bh[2],bj=a6.setFilters[bg];if(bj){return bj(bk,bi,bh,bl)}}}};var a5=a6.match.POS;for(var a2 in a6.match){a6.match[a2]=new RegExp(a6.match[a2].source+/(?![^\[]*\])(?![^\(]*\))/.source);a6.leftMatch[a2]=new RegExp(/(^(?:.|\r|\n)*?)/.source+a6.match[a2].source.replace(/\\(\d+)/g,function(bh,bg){return"\\"+(bg-0+1)}))}var a8=function(bh,bg){bh=Array.prototype.slice.call(bh,0);if(bg){bg.push.apply(bg,bh);return bg}return bh};try{Array.prototype.slice.call(ab.documentElement.childNodes,0)[0].nodeType}catch(bf){a8=function(bk,bj){var bh=bj||[];if(bc.call(bk)==="[object Array]"){Array.prototype.push.apply(bh,bk)}else{if(typeof bk.length==="number"){for(var bi=0,bg=bk.length;bi<bg;bi++){bh.push(bk[bi])}}else{for(var bi=0;bk[bi];bi++){bh.push(bk[bi])}}}return bh}}var bb;if(ab.documentElement.compareDocumentPosition){bb=function(bh,bg){if(!bh.compareDocumentPosition||!bg.compareDocumentPosition){if(bh==bg){a4=true}return bh.compareDocumentPosition?-1:1}var bi=bh.compareDocumentPosition(bg)&4?-1:bh===bg?0:1;if(bi===0){a4=true}return bi}}else{if("sourceIndex" in ab.documentElement){bb=function(bh,bg){if(!bh.sourceIndex||!bg.sourceIndex){if(bh==bg){a4=true}return bh.sourceIndex?-1:1}var bi=bh.sourceIndex-bg.sourceIndex;if(bi===0){a4=true}return bi}}else{if(ab.createRange){bb=function(bj,bh){if(!bj.ownerDocument||!bh.ownerDocument){if(bj==bh){a4=true}return bj.ownerDocument?-1:1}var bi=bj.ownerDocument.createRange(),bg=bh.ownerDocument.createRange();bi.setStart(bj,0);bi.setEnd(bj,0);bg.setStart(bh,0);bg.setEnd(bh,0);var bk=bi.compareBoundaryPoints(Range.START_TO_END,bg);if(bk===0){a4=true}return bk}}}}function aZ(bg){var bh="",bj;for(var bi=0;bg[bi];bi++){bj=bg[bi];if(bj.nodeType===3||bj.nodeType===4){bh+=bj.nodeValue}else{if(bj.nodeType!==8){bh+=aZ(bj.childNodes)}}}return bh}(function(){var bh=ab.createElement("div"),bi="script"+(new Date).getTime();bh.innerHTML="<a name='"+bi+"'/>";var bg=ab.documentElement;bg.insertBefore(bh,bg.firstChild);if(ab.getElementById(bi)){a6.find.ID=function(bk,bl,bm){if(typeof bl.getElementById!=="undefined"&&!bm){var bj=bl.getElementById(bk[1]);return bj?bj.id===bk[1]||typeof bj.getAttributeNode!=="undefined"&&bj.getAttributeNode("id").nodeValue===bk[1]?[bj]:C:[]}};a6.filter.ID=function(bl,bj){var bk=typeof bl.getAttributeNode!=="undefined"&&bl.getAttributeNode("id");return bl.nodeType===1&&bk&&bk.nodeValue===bj}}bg.removeChild(bh);bg=bh=null})();(function(){var bg=ab.createElement("div");bg.appendChild(ab.createComment(""));if(bg.getElementsByTagName("*").length>0){a6.find.TAG=function(bh,bl){var bk=bl.getElementsByTagName(bh[1]);if(bh[1]==="*"){var bj=[];for(var bi=0;bk[bi];bi++){if(bk[bi].nodeType===1){bj.push(bk[bi])}}bk=bj}return bk}}bg.innerHTML="<a href='#'></a>";if(bg.firstChild&&typeof bg.firstChild.getAttribute!=="undefined"&&bg.firstChild.getAttribute("href")!=="#"){a6.attrHandle.href=function(bh){return bh.getAttribute("href",2)}}bg=null})();if(ab.querySelectorAll){(function(){var bg=a0,bi=ab.createElement("div");bi.innerHTML="<p class='TEST'></p>";if(bi.querySelectorAll&&bi.querySelectorAll(".TEST").length===0){return}a0=function(bm,bl,bj,bk){bl=bl||ab;if(!bk&&bl.nodeType===9&&!a1(bl)){try{return a8(bl.querySelectorAll(bm),bj)}catch(bn){}}return bg(bm,bl,bj,bk)};for(var bh in bg){a0[bh]=bg[bh]}bi=null})()}(function(){var bg=ab.createElement("div");bg.innerHTML="<div class='test e'></div><div class='test'></div>";if(!bg.getElementsByClassName||bg.getElementsByClassName("e").length===0){return}bg.lastChild.className="e";if(bg.getElementsByClassName("e").length===1){return}a6.order.splice(1,0,"CLASS");a6.find.CLASS=function(bh,bi,bj){if(typeof bi.getElementsByClassName!=="undefined"&&!bj){return bi.getElementsByClassName(bh[1])}};bg=null})();function aY(bh,bm,bl,bp,bn,bo){for(var bj=0,bi=bp.length;bj<bi;bj++){var bg=bp[bj];if(bg){bg=bg[bh];var bk=false;while(bg){if(bg.sizcache===bl){bk=bp[bg.sizset];break}if(bg.nodeType===1&&!bo){bg.sizcache=bl;bg.sizset=bj}if(bg.nodeName.toLowerCase()===bm){bk=bg;break}bg=bg[bh]}bp[bj]=bk}}}function be(bh,bm,bl,bp,bn,bo){for(var bj=0,bi=bp.length;bj<bi;bj++){var bg=bp[bj];if(bg){bg=bg[bh];var bk=false;while(bg){if(bg.sizcache===bl){bk=bp[bg.sizset];break}if(bg.nodeType===1){if(!bo){bg.sizcache=bl;bg.sizset=bj}if(typeof bm!=="string"){if(bg===bm){bk=true;break}}else{if(a0.filter(bm,[bg]).length>0){bk=bg;break}}}bg=bg[bh]}bp[bj]=bk}}}var a7=ab.compareDocumentPosition?function(bh,bg){return !!(bh.compareDocumentPosition(bg)&16)}:function(bh,bg){return bh!==bg&&(bh.contains?bh.contains(bg):true)};var a1=function(bg){var bh=(bg?bg.ownerDocument||bg:0).documentElement;return bh?bh.nodeName!=="HTML":false};var bd=function(bg,bn){var bj=[],bk="",bl,bi=bn.nodeType?[bn]:bn;while((bl=a6.match.PSEUDO.exec(bg))){bk+=bl[0];bg=bg.replace(a6.match.PSEUDO,"")}bg=a6.relative[bg]?bg+"*":bg;for(var bm=0,bh=bi.length;bm<bh;bm++){a0(bg,bi[bm],bj)}return a0.filter(bk,bj)};a.find=a0;a.expr=a0.selectors;a.expr[":"]=a.expr.filters;a.unique=a0.uniqueSort;a.text=aZ;a.isXMLDoc=a1;a.contains=a7;return;aM.Sizzle=a0})();var N=/Until$/,Y=/^(?:parents|prevUntil|prevAll)/,aL=/,/,F=Array.prototype.slice;var ai=function(a1,a0,aY){if(a.isFunction(a0)){return a.grep(a1,function(a3,a2){return !!a0.call(a3,a2,a3)===aY})}else{if(a0.nodeType){return a.grep(a1,function(a3,a2){return(a3===a0)===aY})}else{if(typeof a0==="string"){var aZ=a.grep(a1,function(a2){return a2.nodeType===1});if(aW.test(a0)){return a.filter(a0,aZ,!aY)}else{a0=a.filter(a0,aZ)}}}}return a.grep(a1,function(a3,a2){return(a.inArray(a3,a0)>=0)===aY})};a.fn.extend({find:function(aY){var a0=this.pushStack("","find",aY),a3=0;for(var a1=0,aZ=this.length;a1<aZ;a1++){a3=a0.length;a.find(aY,this[a1],a0);if(a1>0){for(var a4=a3;a4<a0.length;a4++){for(var a2=0;a2<a3;a2++){if(a0[a2]===a0[a4]){a0.splice(a4--,1);break}}}}}return a0},has:function(aZ){var aY=a(aZ);return this.filter(function(){for(var a1=0,a0=aY.length;a1<a0;a1++){if(a.contains(this,aY[a1])){return true}}})},not:function(aY){return this.pushStack(ai(this,aY,false),"not",aY)},filter:function(aY){return this.pushStack(ai(this,aY,true),"filter",aY)},is:function(aY){return !!aY&&a.filter(aY,this).length>0},closest:function(a7,aY){if(a.isArray(a7)){var a4=[],a6=this[0],a3,a2={},a0;if(a6&&a7.length){for(var a1=0,aZ=a7.length;a1<aZ;a1++){a0=a7[a1];if(!a2[a0]){a2[a0]=a.expr.match.POS.test(a0)?a(a0,aY||this.context):a0}}while(a6&&a6.ownerDocument&&a6!==aY){for(a0 in a2){a3=a2[a0];if(a3.jquery?a3.index(a6)>-1:a(a6).is(a3)){a4.push({selector:a0,elem:a6});delete a2[a0]}}a6=a6.parentNode}}return a4}var a5=a.expr.match.POS.test(a7)?a(a7,aY||this.context):null;return this.map(function(a8,a9){while(a9&&a9.ownerDocument&&a9!==aY){if(a5?a5.index(a9)>-1:a(a9).is(a7)){return a9}a9=a9.parentNode}return null})},index:function(aY){if(!aY||typeof aY==="string"){return a.inArray(this[0],aY?a(aY):this.parent().children())}return a.inArray(aY.jquery?aY[0]:aY,this)},add:function(aY,aZ){var a1=typeof aY==="string"?a(aY,aZ||this.context):a.makeArray(aY),a0=a.merge(this.get(),a1);return this.pushStack(y(a1[0])||y(a0[0])?a0:a.unique(a0))},andSelf:function(){return this.add(this.prevObject)}});function y(aY){return !aY||!aY.parentNode||aY.parentNode.nodeType===11}a.each({parent:function(aZ){var aY=aZ.parentNode;return aY&&aY.nodeType!==11?aY:null},parents:function(aY){return a.dir(aY,"parentNode")},parentsUntil:function(aZ,aY,a0){return a.dir(aZ,"parentNode",a0)},next:function(aY){return a.nth(aY,2,"nextSibling")},prev:function(aY){return a.nth(aY,2,"previousSibling")},nextAll:function(aY){return a.dir(aY,"nextSibling")},prevAll:function(aY){return a.dir(aY,"previousSibling")},nextUntil:function(aZ,aY,a0){return a.dir(aZ,"nextSibling",a0)},prevUntil:function(aZ,aY,a0){return a.dir(aZ,"previousSibling",a0)},siblings:function(aY){return a.sibling(aY.parentNode.firstChild,aY)},children:function(aY){return a.sibling(aY.firstChild)},contents:function(aY){return a.nodeName(aY,"iframe")?aY.contentDocument||aY.contentWindow.document:a.makeArray(aY.childNodes)}},function(aY,aZ){a.fn[aY]=function(a2,a0){var a1=a.map(this,aZ,a2);if(!N.test(aY)){a0=a2}if(a0&&typeof a0==="string"){a1=a.filter(a0,a1)}a1=this.length>1?a.unique(a1):a1;if((this.length>1||aL.test(a0))&&Y.test(aY)){a1=a1.reverse()}return this.pushStack(a1,aY,F.call(arguments).join(","))}});a.extend({filter:function(a0,aY,aZ){if(aZ){a0=":not("+a0+")"}return a.find.matches(a0,aY)},dir:function(a0,aZ,a2){var aY=[],a1=a0[aZ];while(a1&&a1.nodeType!==9&&(a2===C||a1.nodeType!==1||!a(a1).is(a2))){if(a1.nodeType===1){aY.push(a1)}a1=a1[aZ]}return aY},nth:function(a2,aY,a0,a1){aY=aY||1;var aZ=0;for(;a2;a2=a2[a0]){if(a2.nodeType===1&&++aZ===aY){break}}return a2},sibling:function(a0,aZ){var aY=[];for(;a0;a0=a0.nextSibling){if(a0.nodeType===1&&a0!==aZ){aY.push(a0)}}return aY}});var T=/ jQuery\d+="(?:\d+|null)"/g,Z=/^\s+/,H=/(<([\w:]+)[^>]*?)\/>/g,al=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,c=/<([\w:]+)/,t=/<tbody/i,L=/<|&#?\w+;/,E=/<script|<object|<embed|<option|<style/i,l=/checked\s*(?:[^=]|=\s*.checked.)/i,p=function(aZ,a0,aY){return al.test(aY)?aZ:a0+"></"+aY+">"},ac={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ac.optgroup=ac.option;ac.tbody=ac.tfoot=ac.colgroup=ac.caption=ac.thead;ac.th=ac.td;if(!a.support.htmlSerialize){ac._default=[1,"div<div>","</div>"]}a.fn.extend({text:function(aY){if(a.isFunction(aY)){return this.each(function(a0){var aZ=a(this);aZ.text(aY.call(this,a0,aZ.text()))})}if(typeof aY!=="object"&&aY!==C){return this.empty().append((this[0]&&this[0].ownerDocument||ab).createTextNode(aY))}return a.text(this)},wrapAll:function(aY){if(a.isFunction(aY)){return this.each(function(a0){a(this).wrapAll(aY.call(this,a0))})}if(this[0]){var aZ=a(aY,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){aZ.insertBefore(this[0])}aZ.map(function(){var a0=this;while(a0.firstChild&&a0.firstChild.nodeType===1){a0=a0.firstChild}return a0}).append(this)}return this},wrapInner:function(aY){if(a.isFunction(aY)){return this.each(function(aZ){a(this).wrapInner(aY.call(this,aZ))})}return this.each(function(){var aZ=a(this),a0=aZ.contents();if(a0.length){a0.wrapAll(aY)}else{aZ.append(aY)}})},wrap:function(aY){return this.each(function(){a(this).wrapAll(aY)})},unwrap:function(){return this.parent().each(function(){if(!a.nodeName(this,"body")){a(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(aY){if(this.nodeType===1){this.appendChild(aY)}})},prepend:function(){return this.domManip(arguments,true,function(aY){if(this.nodeType===1){this.insertBefore(aY,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(aZ){this.parentNode.insertBefore(aZ,this)})}else{if(arguments.length){var aY=a(arguments[0]);aY.push.apply(aY,this.toArray());return this.pushStack(aY,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(aZ){this.parentNode.insertBefore(aZ,this.nextSibling)})}else{if(arguments.length){var aY=this.pushStack(this,"after",arguments);aY.push.apply(aY,a(arguments[0]).toArray());return aY}}},remove:function(aY,a1){for(var aZ=0,a0;(a0=this[aZ])!=null;aZ++){if(!aY||a.filter(aY,[a0]).length){if(!a1&&a0.nodeType===1){a.cleanData(a0.getElementsByTagName("*"));a.cleanData([a0])}if(a0.parentNode){a0.parentNode.removeChild(a0)}}}return this},empty:function(){for(var aY=0,aZ;(aZ=this[aY])!=null;aY++){if(aZ.nodeType===1){a.cleanData(aZ.getElementsByTagName("*"))}while(aZ.firstChild){aZ.removeChild(aZ.firstChild)}}return this},clone:function(aZ){var aY=this.map(function(){if(!a.support.noCloneEvent&&!a.isXMLDoc(this)){var a1=this.outerHTML,a0=this.ownerDocument;if(!a1){var a2=a0.createElement("div");a2.appendChild(this.cloneNode(true));a1=a2.innerHTML}return a.clean([a1.replace(T,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(Z,"")],a0)[0]}else{return this.cloneNode(true)}});if(aZ===true){q(this,aY);q(this.find("*"),aY.find("*"))}return aY},html:function(a0){if(a0===C){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(T,""):null}else{if(typeof a0==="string"&&!E.test(a0)&&(a.support.leadingWhitespace||!Z.test(a0))&&!ac[(c.exec(a0)||["",""])[1].toLowerCase()]){a0=a0.replace(H,p);try{for(var aZ=0,aY=this.length;aZ<aY;aZ++){if(this[aZ].nodeType===1){a.cleanData(this[aZ].getElementsByTagName("*"));this[aZ].innerHTML=a0}}}catch(a1){this.empty().append(a0)}}else{if(a.isFunction(a0)){this.each(function(a4){var a3=a(this),a2=a3.html();a3.empty().append(function(){return a0.call(this,a4,a2)})})}else{this.empty().append(a0)}}}return this},replaceWith:function(aY){if(this[0]&&this[0].parentNode){if(a.isFunction(aY)){return this.each(function(a1){var a0=a(this),aZ=a0.html();a0.replaceWith(aY.call(this,a1,aZ))})}if(typeof aY!=="string"){aY=a(aY).detach()}return this.each(function(){var a0=this.nextSibling,aZ=this.parentNode;a(this).remove();if(a0){a(a0).before(aY)}else{a(aZ).append(aY)}})}else{return this.pushStack(a(a.isFunction(aY)?aY():aY),"replaceWith",aY)}},detach:function(aY){return this.remove(aY,true)},domManip:function(a4,a9,a8){var a1,a2,a7=a4[0],aZ=[],a3,a6;if(!a.support.checkClone&&arguments.length===3&&typeof a7==="string"&&l.test(a7)){return this.each(function(){a(this).domManip(a4,a9,a8,true)})}if(a.isFunction(a7)){return this.each(function(bb){var ba=a(this);a4[0]=a7.call(this,bb,a9?ba.html():C);ba.domManip(a4,a9,a8)})}if(this[0]){a6=a7&&a7.parentNode;if(a.support.parentNode&&a6&&a6.nodeType===11&&a6.childNodes.length===this.length){a1={fragment:a6}}else{a1=J(a4,this,aZ)}a3=a1.fragment;if(a3.childNodes.length===1){a2=a3=a3.firstChild}else{a2=a3.firstChild}if(a2){a9=a9&&a.nodeName(a2,"tr");for(var a0=0,aY=this.length;a0<aY;a0++){a8.call(a9?a5(this[a0],a2):this[a0],a0>0||a1.cacheable||this.length>1?a3.cloneNode(true):a3)}}if(aZ.length){a.each(aZ,aV)}}return this;function a5(ba,bb){return a.nodeName(ba,"table")?(ba.getElementsByTagName("tbody")[0]||ba.appendChild(ba.ownerDocument.createElement("tbody"))):ba}}});function q(a0,aY){var aZ=0;aY.each(function(){if(this.nodeName!==(a0[aZ]&&a0[aZ].nodeName)){return}var a5=a.data(a0[aZ++]),a4=a.data(this,a5),a1=a5&&a5.events;if(a1){delete a4.handle;a4.events={};for(var a3 in a1){for(var a2 in a1[a3]){a.event.add(this,a3,a1[a3][a2],a1[a3][a2].data)}}}})}function J(a3,a1,aZ){var a2,aY,a0,a4=(a1&&a1[0]?a1[0].ownerDocument||a1[0]:ab);if(a3.length===1&&typeof a3[0]==="string"&&a3[0].length<512&&a4===ab&&!E.test(a3[0])&&(a.support.checkClone||!l.test(a3[0]))){aY=true;a0=a.fragments[a3[0]];if(a0){if(a0!==1){a2=a0}}}if(!a2){a2=a4.createDocumentFragment();a.clean(a3,a4,a2,aZ)}if(aY){a.fragments[a3[0]]=a0?a2:1}return{fragment:a2,cacheable:aY}}a.fragments={};a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(aY,aZ){a.fn[aY]=function(a0){var a3=[],a6=a(a0),a5=this.length===1&&this[0].parentNode;if(a5&&a5.nodeType===11&&a5.childNodes.length===1&&a6.length===1){a6[aZ](this[0]);return this}else{for(var a4=0,a1=a6.length;a4<a1;a4++){var a2=(a4>0?this.clone(true):this).get();a.fn[aZ].apply(a(a6[a4]),a2);a3=a3.concat(a2)}return this.pushStack(a3,aY,a6.selector)}}});a.extend({clean:function(a0,a2,a9,a4){a2=a2||ab;if(typeof a2.createElement==="undefined"){a2=a2.ownerDocument||a2[0]&&a2[0].ownerDocument||ab}var ba=[];for(var a8=0,a3;(a3=a0[a8])!=null;a8++){if(typeof a3==="number"){a3+=""}if(!a3){continue}if(typeof a3==="string"&&!L.test(a3)){a3=a2.createTextNode(a3)}else{if(typeof a3==="string"){a3=a3.replace(H,p);var bb=(c.exec(a3)||["",""])[1].toLowerCase(),a1=ac[bb]||ac._default,a7=a1[0],aZ=a2.createElement("div");aZ.innerHTML=a1[1]+a3+a1[2];while(a7--){aZ=aZ.lastChild}if(!a.support.tbody){var aY=t.test(a3),a6=bb==="table"&&!aY?aZ.firstChild&&aZ.firstChild.childNodes:a1[1]==="<table>"&&!aY?aZ.childNodes:[];for(var a5=a6.length-1;a5>=0;--a5){if(a.nodeName(a6[a5],"tbody")&&!a6[a5].childNodes.length){a6[a5].parentNode.removeChild(a6[a5])}}}if(!a.support.leadingWhitespace&&Z.test(a3)){aZ.insertBefore(a2.createTextNode(Z.exec(a3)[0]),aZ.firstChild)}a3=aZ.childNodes}}if(a3.nodeType){ba.push(a3)}else{ba=a.merge(ba,a3)}}if(a9){for(var a8=0;ba[a8];a8++){if(a4&&a.nodeName(ba[a8],"script")&&(!ba[a8].type||ba[a8].type.toLowerCase()==="text/javascript")){a4.push(ba[a8].parentNode?ba[a8].parentNode.removeChild(ba[a8]):ba[a8])}else{if(ba[a8].nodeType===1){ba.splice.apply(ba,[a8+1,0].concat(a.makeArray(ba[a8].getElementsByTagName("script"))))}a9.appendChild(ba[a8])}}}return ba},cleanData:function(aZ){var a2,a0,aY=a.cache,a5=a.event.special,a4=a.support.deleteExpando;for(var a3=0,a1;(a1=aZ[a3])!=null;a3++){a0=a1[a.expando];if(a0){a2=aY[a0];if(a2.events){for(var a6 in a2.events){if(a5[a6]){a.event.remove(a1,a6)}else{ag(a1,a6,a2.handle)}}}if(a4){delete a1[a.expando]}else{if(a1.removeAttribute){a1.removeAttribute(a.expando)}}delete aY[a0]}}}});var ar=/z-?index|font-?weight|opacity|zoom|line-?height/i,U=/alpha\([^)]*\)/,aa=/opacity=([^)]*)/,ah=/float/i,az=/-([a-z])/ig,v=/([A-Z])/g,aO=/^-?\d+(?:px)?$/i,aU=/^-?\d/,aK={position:"absolute",visibility:"hidden",display:"block"},W=["Left","Right"],aE=["Top","Bottom"],ak=ab.defaultView&&ab.defaultView.getComputedStyle,aN=a.support.cssFloat?"cssFloat":"styleFloat",k=function(aY,aZ){return aZ.toUpperCase()};a.fn.css=function(aY,aZ){return an(this,aY,aZ,true,function(a1,a0,a2){if(a2===C){return a.curCSS(a1,a0)}if(typeof a2==="number"&&!ar.test(a0)){a2+="px"}a.style(a1,a0,a2)})};a.extend({style:function(a2,aZ,a3){if(!a2||a2.nodeType===3||a2.nodeType===8){return C}if((aZ==="width"||aZ==="height")&&parseFloat(a3)<0){a3=C}var a1=a2.style||a2,a4=a3!==C;if(!a.support.opacity&&aZ==="opacity"){if(a4){a1.zoom=1;var aY=parseInt(a3,10)+""==="NaN"?"":"alpha(opacity="+a3*100+")";var a0=a1.filter||a.curCSS(a2,"filter")||"";a1.filter=U.test(a0)?a0.replace(U,aY):aY}return a1.filter&&a1.filter.indexOf("opacity=")>=0?(parseFloat(aa.exec(a1.filter)[1])/100)+"":""}if(ah.test(aZ)){aZ=aN}aZ=aZ.replace(az,k);if(a4){a1[aZ]=a3}return a1[aZ]},css:function(a1,aZ,a3,aY){if(aZ==="width"||aZ==="height"){var a5,a0=aK,a4=aZ==="width"?W:aE;function a2(){a5=aZ==="width"?a1.offsetWidth:a1.offsetHeight;if(aY==="border"){return}a.each(a4,function(){if(!aY){a5-=parseFloat(a.curCSS(a1,"padding"+this,true))||0}if(aY==="margin"){a5+=parseFloat(a.curCSS(a1,"margin"+this,true))||0}else{a5-=parseFloat(a.curCSS(a1,"border"+this+"Width",true))||0}})}if(a1.offsetWidth!==0){a2()}else{a.swap(a1,a0,a2)}return Math.max(0,Math.round(a5))}return a.curCSS(a1,aZ,a3)},curCSS:function(a4,aZ,a0){var a7,aY=a4.style,a1;if(!a.support.opacity&&aZ==="opacity"&&a4.currentStyle){a7=aa.test(a4.currentStyle.filter||"")?(parseFloat(RegExp.$1)/100)+"":"";return a7===""?"1":a7}if(ah.test(aZ)){aZ=aN}if(!a0&&aY&&aY[aZ]){a7=aY[aZ]}else{if(ak){if(ah.test(aZ)){aZ="float"}aZ=aZ.replace(v,"-$1").toLowerCase();var a6=a4.ownerDocument.defaultView;if(!a6){return null}var a8=a6.getComputedStyle(a4,null);if(a8){a7=a8.getPropertyValue(aZ)}if(aZ==="opacity"&&a7===""){a7="1"}}else{if(a4.currentStyle){var a3=aZ.replace(az,k);a7=a4.currentStyle[aZ]||a4.currentStyle[a3];if(!aO.test(a7)&&aU.test(a7)){var a2=aY.left,a5=a4.runtimeStyle.left;a4.runtimeStyle.left=a4.currentStyle.left;aY.left=a3==="fontSize"?"1em":(a7||0);a7=aY.pixelLeft+"px";aY.left=a2;a4.runtimeStyle.left=a5}}}}return a7},swap:function(a1,a0,a2){var aY={};for(var aZ in a0){aY[aZ]=a1.style[aZ];a1.style[aZ]=a0[aZ]}a2.call(a1);for(var aZ in a0){a1.style[aZ]=aY[aZ]}}});if(a.expr&&a.expr.filters){a.expr.filters.hidden=function(a1){var aZ=a1.offsetWidth,aY=a1.offsetHeight,a0=a1.nodeName.toLowerCase()==="tr";return aZ===0&&aY===0&&!a0?true:aZ>0&&aY>0&&!a0?false:a.curCSS(a1,"display")==="none"};a.expr.filters.visible=function(aY){return !a.expr.filters.hidden(aY)}}var af=aP(),aJ=/<script(.|\s)*?\/script>/gi,o=/select|textarea/i,aB=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,r=/=\?(&|$)/,D=/\?/,aX=/(\?|&)_=.*?(&|$)/,B=/^(\w+:)?\/\/([^\/?#]+)/,h=/%20/g,w=a.fn.load;a.fn.extend({load:function(a0,a3,a4){if(typeof a0!=="string"){return w.call(this,a0)}else{if(!this.length){return this}}var a2=a0.indexOf(" ");if(a2>=0){var aY=a0.slice(a2,a0.length);a0=a0.slice(0,a2)}var a1="GET";if(a3){if(a.isFunction(a3)){a4=a3;a3=null}else{if(typeof a3==="object"){a3=a.param(a3,a.ajaxSettings.traditional);a1="POST"}}}var aZ=this;a.ajax({url:a0,type:a1,dataType:"html",data:a3,complete:function(a6,a5){if(a5==="success"||a5==="notmodified"){aZ.html(aY?a("<div />").append(a6.responseText.replace(aJ,"")).find(aY):a6.responseText)}if(a4){aZ.each(a4,[a6.responseText,a5,a6])}}});return this},serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?a.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||o.test(this.nodeName)||aB.test(this.type))}).map(function(aY,aZ){var a0=a(this).val();return a0==null?null:a.isArray(a0)?a.map(a0,function(a2,a1){return{name:aZ.name,value:a2}}):{name:aZ.name,value:a0}}).get()}});a.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(aY,aZ){a.fn[aZ]=function(a0){return this.bind(aZ,a0)}});a.extend({get:function(aY,a0,a1,aZ){if(a.isFunction(a0)){aZ=aZ||a1;a1=a0;a0=null}return a.ajax({type:"GET",url:aY,data:a0,success:a1,dataType:aZ})},getScript:function(aY,aZ){return a.get(aY,null,aZ,"script")},getJSON:function(aY,aZ,a0){return a.get(aY,aZ,a0,"json")},post:function(aY,a0,a1,aZ){if(a.isFunction(a0)){aZ=aZ||a1;a1=a0;a0={}}return a.ajax({type:"POST",url:aY,data:a0,success:a1,dataType:aZ})},ajaxSetup:function(aY){a.extend(a.ajaxSettings,aY)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:aM.XMLHttpRequest&&(aM.location.protocol!=="file:"||!aM.ActiveXObject)?function(){return new aM.XMLHttpRequest()}:function(){try{return new aM.ActiveXObject("Microsoft.XMLHTTP")}catch(aY){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(bd){var a8=a.extend(true,{},a.ajaxSettings,bd);var bi,bc,bh,bj=bd&&bd.context||a8,a0=a8.type.toUpperCase();if(a8.data&&a8.processData&&typeof a8.data!=="string"){a8.data=a.param(a8.data,a8.traditional)}if(a8.dataType==="jsonp"){if(a0==="GET"){if(!r.test(a8.url)){a8.url+=(D.test(a8.url)?"&":"?")+(a8.jsonp||"callback")+"=?"}}else{if(!a8.data||!r.test(a8.data)){a8.data=(a8.data?a8.data+"&":"")+(a8.jsonp||"callback")+"=?"}}a8.dataType="json"}if(a8.dataType==="json"&&(a8.data&&r.test(a8.data)||r.test(a8.url))){bi=a8.jsonpCallback||("jsonp"+af++);if(a8.data){a8.data=(a8.data+"").replace(r,"="+bi+"$1")}a8.url=a8.url.replace(r,"="+bi+"$1");a8.dataType="script";aM[bi]=aM[bi]||function(bk){bh=bk;a3();a6();aM[bi]=C;try{delete aM[bi]}catch(bl){}if(a1){a1.removeChild(bf)}}}if(a8.dataType==="script"&&a8.cache===null){a8.cache=false}if(a8.cache===false&&a0==="GET"){var aY=aP();var bg=a8.url.replace(aX,"$1_="+aY+"$2");a8.url=bg+((bg===a8.url)?(D.test(a8.url)?"&":"?")+"_="+aY:"")}if(a8.data&&a0==="GET"){a8.url+=(D.test(a8.url)?"&":"?")+a8.data}if(a8.global&&!a.active++){a.event.trigger("ajaxStart")}var bb=B.exec(a8.url),a2=bb&&(bb[1]&&bb[1]!==location.protocol||bb[2]!==location.host);if(a8.dataType==="script"&&a0==="GET"&&a2){var a1=ab.getElementsByTagName("head")[0]||ab.documentElement;var bf=ab.createElement("script");bf.src=a8.url;if(a8.scriptCharset){bf.charset=a8.scriptCharset}if(!bi){var ba=false;bf.onload=bf.onreadystatechange=function(){if(!ba&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){ba=true;a3();a6();bf.onload=bf.onreadystatechange=null;if(a1&&bf.parentNode){a1.removeChild(bf)}}}}a1.insertBefore(bf,a1.firstChild);return C}var a5=false;var a4=a8.xhr();if(!a4){return}if(a8.username){a4.open(a0,a8.url,a8.async,a8.username,a8.password)}else{a4.open(a0,a8.url,a8.async)}try{if(a8.data||bd&&bd.contentType){a4.setRequestHeader("Content-Type",a8.contentType)}if(a8.ifModified){if(a.lastModified[a8.url]){a4.setRequestHeader("If-Modified-Since",a.lastModified[a8.url])}if(a.etag[a8.url]){a4.setRequestHeader("If-None-Match",a.etag[a8.url])}}if(!a2){a4.setRequestHeader("X-Requested-With","XMLHttpRequest")}a4.setRequestHeader("Accept",a8.dataType&&a8.accepts[a8.dataType]?a8.accepts[a8.dataType]+", */*":a8.accepts._default)}catch(be){}if(a8.beforeSend&&a8.beforeSend.call(bj,a4,a8)===false){if(a8.global&&!--a.active){a.event.trigger("ajaxStop")}a4.abort();return false}if(a8.global){a9("ajaxSend",[a4,a8])}var a7=a4.onreadystatechange=function(bk){if(!a4||a4.readyState===0||bk==="abort"){if(!a5){a6()}a5=true;if(a4){a4.onreadystatechange=a.noop}}else{if(!a5&&a4&&(a4.readyState===4||bk==="timeout")){a5=true;a4.onreadystatechange=a.noop;bc=bk==="timeout"?"timeout":!a.httpSuccess(a4)?"error":a8.ifModified&&a.httpNotModified(a4,a8.url)?"notmodified":"success";var bm;if(bc==="success"){try{bh=a.httpData(a4,a8.dataType,a8)}catch(bl){bc="parsererror";bm=bl}}if(bc==="success"||bc==="notmodified"){if(!bi){a3()}}else{a.handleError(a8,a4,bc,bm)}a6();if(bk==="timeout"){a4.abort()}if(a8.async){a4=null}}}};try{var aZ=a4.abort;a4.abort=function(){if(a4){aZ.call(a4)}a7("abort")}}catch(be){}if(a8.async&&a8.timeout>0){setTimeout(function(){if(a4&&!a5){a7("timeout")}},a8.timeout)}try{a4.send(a0==="POST"||a0==="PUT"||a0==="DELETE"?a8.data:null)}catch(be){a.handleError(a8,a4,null,be);a6()}if(!a8.async){a7()}function a3(){if(a8.success){a8.success.call(bj,bh,bc,a4)}if(a8.global){a9("ajaxSuccess",[a4,a8])}}function a6(){if(a8.complete){a8.complete.call(bj,a4,bc)}if(a8.global){a9("ajaxComplete",[a4,a8])}if(a8.global&&!--a.active){a.event.trigger("ajaxStop")}}function a9(bl,bk){(a8.context?a(a8.context):a.event).trigger(bl,bk)}return a4},handleError:function(aZ,a1,aY,a0){if(aZ.error){aZ.error.call(aZ.context||aZ,a1,aY,a0)}if(aZ.global){(aZ.context?a(aZ.context):a.event).trigger("ajaxError",[a1,aZ,a0])}},active:0,httpSuccess:function(aZ){try{return !aZ.status&&location.protocol==="file:"||(aZ.status>=200&&aZ.status<300)||aZ.status===304||aZ.status===1223||aZ.status===0}catch(aY){}return false},httpNotModified:function(a1,aY){var a0=a1.getResponseHeader("Last-Modified"),aZ=a1.getResponseHeader("Etag");if(a0){a.lastModified[aY]=a0}if(aZ){a.etag[aY]=aZ}return a1.status===304||a1.status===0},httpData:function(a3,a1,a0){var aZ=a3.getResponseHeader("content-type")||"",aY=a1==="xml"||!a1&&aZ.indexOf("xml")>=0,a2=aY?a3.responseXML:a3.responseText;if(aY&&a2.documentElement.nodeName==="parsererror"){a.error("parsererror")}if(a0&&a0.dataFilter){a2=a0.dataFilter(a2,a1)}if(typeof a2==="string"){if(a1==="json"||!a1&&aZ.indexOf("json")>=0){a2=a.parseJSON(a2)}else{if(a1==="script"||!a1&&aZ.indexOf("javascript")>=0){a.globalEval(a2)}}}return a2},param:function(aY,a1){var aZ=[];if(a1===C){a1=a.ajaxSettings.traditional}if(a.isArray(aY)||aY.jquery){a.each(aY,function(){a3(this.name,this.value)})}else{for(var a2 in aY){a0(a2,aY[a2])}}return aZ.join("&").replace(h,"+");function a0(a4,a5){if(a.isArray(a5)){a.each(a5,function(a7,a6){if(a1||/\[\]$/.test(a4)){a3(a4,a6)}else{a0(a4+"["+(typeof a6==="object"||a.isArray(a6)?a7:"")+"]",a6)}})}else{if(!a1&&a5!=null&&typeof a5==="object"){a.each(a5,function(a7,a6){a0(a4+"["+a7+"]",a6)})}else{a3(a4,a5)}}}function a3(a4,a5){a5=a.isFunction(a5)?a5():a5;aZ[aZ.length]=encodeURIComponent(a4)+"="+encodeURIComponent(a5)}}});var G={},ae=/toggle|show|hide/,au=/^([+-]=)?([\d+-.]+)(.*)$/,aF,aj=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];a.fn.extend({show:function(aZ,a7){if(aZ||aZ===0){return this.animate(aD("show",3),aZ,a7)}else{for(var a4=0,a1=this.length;a4<a1;a4++){var aY=a.data(this[a4],"olddisplay");this[a4].style.display=aY||"";if(a.css(this[a4],"display")==="none"){var a6=this[a4].nodeName,a5;if(G[a6]){a5=G[a6]}else{var a0=a("<"+a6+" />").appendTo("body");a5=a0.css("display");if(a5==="none"){a5="block"}a0.remove();G[a6]=a5}a.data(this[a4],"olddisplay",a5)}}for(var a3=0,a2=this.length;a3<a2;a3++){this[a3].style.display=a.data(this[a3],"olddisplay")||""}return this}},hide:function(a3,a4){if(a3||a3===0){return this.animate(aD("hide",3),a3,a4)}else{for(var a2=0,aZ=this.length;a2<aZ;a2++){var aY=a.data(this[a2],"olddisplay");if(!aY&&aY!=="none"){a.data(this[a2],"olddisplay",a.css(this[a2],"display"))}}for(var a1=0,a0=this.length;a1<a0;a1++){this[a1].style.display="none"}return this}},_toggle:a.fn.toggle,toggle:function(a0,aZ){var aY=typeof a0==="boolean";if(a.isFunction(a0)&&a.isFunction(aZ)){this._toggle.apply(this,arguments)}else{if(a0==null||aY){this.each(function(){var a1=aY?a0:a(this).is(":hidden");a(this)[a1?"show":"hide"]()})}else{this.animate(aD("toggle",3),a0,aZ)}}return this},fadeTo:function(aY,a0,aZ){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:a0},aY,aZ)},animate:function(a2,aZ,a1,a0){var aY=a.speed(aZ,a1,a0);if(a.isEmptyObject(a2)){return this.each(aY.complete)}return this[aY.queue===false?"each":"queue"](function(){var a5=a.extend({},aY),a7,a6=this.nodeType===1&&a(this).is(":hidden"),a3=this;for(a7 in a2){var a4=a7.replace(az,k);if(a7!==a4){a2[a4]=a2[a7];delete a2[a7];a7=a4}if(a2[a7]==="hide"&&a6||a2[a7]==="show"&&!a6){return a5.complete.call(this)}if((a7==="height"||a7==="width")&&this.style){a5.display=a.css(this,"display");a5.overflow=this.style.overflow}if(a.isArray(a2[a7])){(a5.specialEasing=a5.specialEasing||{})[a7]=a2[a7][1];a2[a7]=a2[a7][0]}}if(a5.overflow!=null){this.style.overflow="hidden"}a5.curAnim=a.extend({},a2);a.each(a2,function(a9,bd){var bc=new a.fx(a3,a5,a9);if(ae.test(bd)){bc[bd==="toggle"?a6?"show":"hide":bd](a2)}else{var bb=au.exec(bd),be=bc.cur(true)||0;if(bb){var a8=parseFloat(bb[2]),ba=bb[3]||"px";if(ba!=="px"){a3.style[a9]=(a8||1)+ba;be=((a8||1)/bc.cur(true))*be;a3.style[a9]=be+ba}if(bb[1]){a8=((bb[1]==="-="?-1:1)*a8)+be}bc.custom(be,a8,ba)}else{bc.custom(be,bd,"")}}});return true})},stop:function(aZ,aY){var a0=a.timers;if(aZ){this.queue([])}this.each(function(){for(var a1=a0.length-1;a1>=0;a1--){if(a0[a1].elem===this){if(aY){a0[a1](true)}a0.splice(a1,1)}}});if(!aY){this.dequeue()}return this}});a.each({slideDown:aD("show",1),slideUp:aD("hide",1),slideToggle:aD("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(aY,aZ){a.fn[aY]=function(a0,a1){return this.animate(aZ,a0,a1)}});a.extend({speed:function(a0,a1,aZ){var aY=a0&&typeof a0==="object"?a0:{complete:aZ||!aZ&&a1||a.isFunction(a0)&&a0,duration:a0,easing:aZ&&a1||a1&&!a.isFunction(a1)&&a1};aY.duration=a.fx.off?0:typeof aY.duration==="number"?aY.duration:a.fx.speeds[aY.duration]||a.fx.speeds._default;aY.old=aY.complete;aY.complete=function(){if(aY.queue!==false){a(this).dequeue()}if(a.isFunction(aY.old)){aY.old.call(this)}};return aY},easing:{linear:function(a0,a1,aY,aZ){return aY+aZ*a0},swing:function(a0,a1,aY,aZ){return((-Math.cos(a0*Math.PI)/2)+0.5)*aZ+aY}},timers:[],fx:function(aZ,aY,a0){this.options=aY;this.elem=aZ;this.prop=a0;if(!aY.orig){aY.orig={}}}});a.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(a.fx.step[this.prop]||a.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(aZ){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var aY=parseFloat(a.css(this.elem,this.prop,aZ));return aY&&aY>-10000?aY:parseFloat(a.curCSS(this.elem,this.prop))||0},custom:function(a2,a1,a0){this.startTime=aP();this.start=a2;this.end=a1;this.unit=a0||this.unit||"px";this.now=this.start;this.pos=this.state=0;var aY=this;function aZ(a3){return aY.step(a3)}aZ.elem=this.elem;if(aZ()&&a.timers.push(aZ)&&!aF){aF=setInterval(a.fx.tick,13)}},show:function(){this.options.orig[this.prop]=a.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());a(this.elem).show()},hide:function(){this.options.orig[this.prop]=a.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a1){var a6=aP(),a2=true;if(a1||a6>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var a3 in this.options.curAnim){if(this.options.curAnim[a3]!==true){a2=false}}if(a2){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;var a0=a.data(this.elem,"olddisplay");this.elem.style.display=a0?a0:this.options.display;if(a.css(this.elem,"display")==="none"){this.elem.style.display="block"}}if(this.options.hide){a(this.elem).hide()}if(this.options.hide||this.options.show){for(var aY in this.options.curAnim){a.style(this.elem,aY,this.options.orig[aY])}}this.options.complete.call(this.elem)}return false}else{var aZ=a6-this.startTime;this.state=aZ/this.options.duration;var a4=this.options.specialEasing&&this.options.specialEasing[this.prop];var a5=this.options.easing||(a.easing.swing?"swing":"linear");this.pos=a.easing[a4||a5](this.state,aZ,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};a.extend(a.fx,{tick:function(){var aZ=a.timers;for(var aY=0;aY<aZ.length;aY++){if(!aZ[aY]()){aZ.splice(aY--,1)}}if(!aZ.length){a.fx.stop()}},stop:function(){clearInterval(aF);aF=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(aY){a.style(aY.elem,"opacity",aY.now)},_default:function(aY){if(aY.elem.style&&aY.elem.style[aY.prop]!=null){aY.elem.style[aY.prop]=(aY.prop==="width"||aY.prop==="height"?Math.max(0,aY.now):aY.now)+aY.unit}else{aY.elem[aY.prop]=aY.now}}}});if(a.expr&&a.expr.filters){a.expr.filters.animated=function(aY){return a.grep(a.timers,function(aZ){return aY===aZ.elem}).length}}function aD(aZ,aY){var a0={};a.each(aj.concat.apply([],aj.slice(0,aY)),function(){a0[this]=aZ});return a0}if("getBoundingClientRect" in ab.documentElement){a.fn.offset=function(a7){var a0=this[0];if(a7){return this.each(function(a8){a.offset.setOffset(this,a7,a8)})}if(!a0||!a0.ownerDocument){return null}if(a0===a0.ownerDocument.body){return a.offset.bodyOffset(a0)}var a2=a0.getBoundingClientRect(),a6=a0.ownerDocument,a3=a6.body,aY=a6.documentElement,a1=aY.clientTop||a3.clientTop||0,a4=aY.clientLeft||a3.clientLeft||0,a5=a2.top+(self.pageYOffset||a.support.boxModel&&aY.scrollTop||a3.scrollTop)-a1,aZ=a2.left+(self.pageXOffset||a.support.boxModel&&aY.scrollLeft||a3.scrollLeft)-a4;return{top:a5,left:aZ}}}else{a.fn.offset=function(a9){var a3=this[0];if(a9){return this.each(function(ba){a.offset.setOffset(this,a9,ba)})}if(!a3||!a3.ownerDocument){return null}if(a3===a3.ownerDocument.body){return a.offset.bodyOffset(a3)}a.offset.initialize();var a0=a3.offsetParent,aZ=a3,a8=a3.ownerDocument,a6,a1=a8.documentElement,a4=a8.body,a5=a8.defaultView,aY=a5?a5.getComputedStyle(a3,null):a3.currentStyle,a7=a3.offsetTop,a2=a3.offsetLeft;while((a3=a3.parentNode)&&a3!==a4&&a3!==a1){if(a.offset.supportsFixedPosition&&aY.position==="fixed"){break}a6=a5?a5.getComputedStyle(a3,null):a3.currentStyle;a7-=a3.scrollTop;a2-=a3.scrollLeft;if(a3===a0){a7+=a3.offsetTop;a2+=a3.offsetLeft;if(a.offset.doesNotAddBorder&&!(a.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(a3.nodeName))){a7+=parseFloat(a6.borderTopWidth)||0;a2+=parseFloat(a6.borderLeftWidth)||0}aZ=a0,a0=a3.offsetParent}if(a.offset.subtractsBorderForOverflowNotVisible&&a6.overflow!=="visible"){a7+=parseFloat(a6.borderTopWidth)||0;a2+=parseFloat(a6.borderLeftWidth)||0}aY=a6}if(aY.position==="relative"||aY.position==="static"){a7+=a4.offsetTop;a2+=a4.offsetLeft}if(a.offset.supportsFixedPosition&&aY.position==="fixed"){a7+=Math.max(a1.scrollTop,a4.scrollTop);a2+=Math.max(a1.scrollLeft,a4.scrollLeft)}return{top:a7,left:a2}}}a.offset={initialize:function(){var aY=ab.body,aZ=ab.createElement("div"),a2,a4,a3,a5,a0=parseFloat(a.curCSS(aY,"marginTop",true))||0,a1="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.extend(aZ.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});aZ.innerHTML=a1;aY.insertBefore(aZ,aY.firstChild);a2=aZ.firstChild;a4=a2.firstChild;a5=a2.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(a4.offsetTop!==5);this.doesAddBorderForTableAndCells=(a5.offsetTop===5);a4.style.position="fixed",a4.style.top="20px";this.supportsFixedPosition=(a4.offsetTop===20||a4.offsetTop===15);a4.style.position=a4.style.top="";a2.style.overflow="hidden",a2.style.position="relative";this.subtractsBorderForOverflowNotVisible=(a4.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(aY.offsetTop!==a0);aY.removeChild(aZ);aY=aZ=a2=a4=a3=a5=null;a.offset.initialize=a.noop},bodyOffset:function(aY){var a0=aY.offsetTop,aZ=aY.offsetLeft;a.offset.initialize();if(a.offset.doesNotIncludeMarginInBodyOffset){a0+=parseFloat(a.curCSS(aY,"marginTop",true))||0;aZ+=parseFloat(a.curCSS(aY,"marginLeft",true))||0}return{top:a0,left:aZ}},setOffset:function(a3,aZ,a0){if(/static/.test(a.curCSS(a3,"position"))){a3.style.position="relative"}var a2=a(a3),a5=a2.offset(),aY=parseInt(a.curCSS(a3,"top",true),10)||0,a4=parseInt(a.curCSS(a3,"left",true),10)||0;if(a.isFunction(aZ)){aZ=aZ.call(a3,a0,a5)}var a1={top:(aZ.top-a5.top)+aY,left:(aZ.left-a5.left)+a4};if("using" in aZ){aZ.using.call(a3,a1)}else{a2.css(a1)}}};a.fn.extend({position:function(){if(!this[0]){return null}var a0=this[0],aZ=this.offsetParent(),a1=this.offset(),aY=/^body|html$/i.test(aZ[0].nodeName)?{top:0,left:0}:aZ.offset();a1.top-=parseFloat(a.curCSS(a0,"marginTop",true))||0;a1.left-=parseFloat(a.curCSS(a0,"marginLeft",true))||0;aY.top+=parseFloat(a.curCSS(aZ[0],"borderTopWidth",true))||0;aY.left+=parseFloat(a.curCSS(aZ[0],"borderLeftWidth",true))||0;return{top:a1.top-aY.top,left:a1.left-aY.left}},offsetParent:function(){return this.map(function(){var aY=this.offsetParent||ab.body;while(aY&&(!/^body|html$/i.test(aY.nodeName)&&a.css(aY,"position")==="static")){aY=aY.offsetParent}return aY})}});a.each(["Left","Top"],function(aZ,aY){var a0="scroll"+aY;a.fn[a0]=function(a3){var a1=this[0],a2;if(!a1){return null}if(a3!==C){return this.each(function(){a2=am(this);if(a2){a2.scrollTo(!aZ?a3:a(a2).scrollLeft(),aZ?a3:a(a2).scrollTop())}else{this[a0]=a3}})}else{a2=am(a1);return a2?("pageXOffset" in a2)?a2[aZ?"pageYOffset":"pageXOffset"]:a.support.boxModel&&a2.document.documentElement[a0]||a2.document.body[a0]:a1[a0]}}});function am(aY){return("scrollTo" in aY&&aY.document)?aY:aY.nodeType===9?aY.defaultView||aY.parentWindow:false}a.each(["Height","Width"],function(aZ,aY){var a0=aY.toLowerCase();a.fn["inner"+aY]=function(){return this[0]?a.css(this[0],a0,false,"padding"):null};a.fn["outer"+aY]=function(a1){return this[0]?a.css(this[0],a0,false,a1?"margin":"border"):null};a.fn[a0]=function(a1){var a2=this[0];if(!a2){return a1==null?null:this}if(a.isFunction(a1)){return this.each(function(a4){var a3=a(this);a3[a0](a1.call(this,a4,a3[a0]()))})}return("scrollTo" in a2&&a2.document)?a2.document.compatMode==="CSS1Compat"&&a2.document.documentElement["client"+aY]||a2.document.body["client"+aY]:(a2.nodeType===9)?Math.max(a2.documentElement["client"+aY],a2.body["scroll"+aY],a2.documentElement["scroll"+aY],a2.body["offset"+aY],a2.documentElement["offset"+aY]):a1===C?a.css(a2,a0):this.css(a0,typeof a1==="string"?a1:a1+"px")}});aM.jQuery=aM.$=a})(window);if(!Array.prototype.map){Array.prototype.map=function(c,d){var g=this.length;var a=new Array(g);for(var b=0;b<g;b++){if(b in this){a[b]=c.call(d,this[b],b,this)}}return a}}if(!Array.prototype.filter){Array.prototype.filter=function(d,g){var h=this.length;var a=new Array();for(var c=0;c<h;c++){if(c in this){var b=this[c];if(d.call(g,b,c,this)){a.push(b)}}}return a}}if(!Array.prototype.forEach){Array.prototype.forEach=function(b,c){var d=this.length>>>0;for(var a=0;a<d;a++){if(a in this){b.call(c,this[a],a,this)}}}}if(!Array.prototype.reduce){Array.prototype.reduce=function(d,b){var a=this.length;if(!a&&(arguments.length==1)){throw new Error("reduce: empty array, no initial value")}var c=0;if(arguments.length<2){while(true){if(c in this){b=this[c++];break}if(++c>=a){throw new Error("reduce: no values, no initial value")}}}for(;c<a;c++){if(c in this){b=d(b,this[c],c,this)}}return b}}var pv={};pv.version={major:3,minor:2};pv.identity=function(a){return a};pv.index=function(){return this.index};pv.child=function(){return this.childIndex};pv.parent=function(){return this.parent.index};pv.extend=function(b){function a(){}a.prototype=b.prototype||b;return new a()};try{eval("pv.parse = function(x) x;")}catch(e){pv.parse=function(a){var n=new RegExp("function\\s*(\\b\\w+)?\\s*\\([^)]*\\)\\s*","mg"),f,k,h=0,o="";while(f=n.exec(a)){var g=f.index+f[0].length;if(a.charAt(g)!="{"){o+=a.substring(h,g)+"{return ";h=g;for(var b=0;b>=0&&g<a.length;g++){var l=a.charAt(g);switch(l){case'"':case"'":while(++g<a.length&&(k=a.charAt(g))!=l){if(k=="\\"){g++}}break;case"[":case"(":b++;break;case"]":case")":b--;break;case";":case",":if(b==0){b--}break}}o+=pv.parse(a.substring(h,--g))+";}";h=g}n.lastIndex=g}o+=a.substring(h);return o}}pv.css=function(b,a){return window.getComputedStyle?window.getComputedStyle(b,null).getPropertyValue(a):b.currentStyle[a]};pv.error=function(a){(typeof console=="undefined")?alert(a):console.error(a)};pv.listen=function(c,a,b){b=pv.listener(b);return c.addEventListener?c.addEventListener(a,b,false):c.attachEvent("on"+a,b)};pv.listener=function(a){return a.$listener||(a.$listener=function(b){try{pv.event=b;return a.call(this,b)}finally{delete pv.event}})};pv.ancestor=function(b,c){while(c){if(c==b){return true}c=c.parentNode}return false};pv.id=function(){var a=1;return function(){return a++}}();pv.functor=function(a){return typeof a=="function"?a:function(){return a}};pv.listen(window,"load",function(){pv.$={i:0,x:document.getElementsByTagName("script")};for(;pv.$.i<pv.$.x.length;pv.$.i++){pv.$.s=pv.$.x[pv.$.i];if(pv.$.s.type=="text/javascript+protovis"){try{window.eval(pv.parse(pv.$.s.text))}catch(e){pv.error(e)}}}delete pv.$});pv.Format={};pv.Format.re=function(a){return a.replace(/[\\\^\$\*\+\?\[\]\(\)\.\{\}]/g,"\\$&")};pv.Format.pad=function(f,d,b){var a=d-String(b).length;return(a<1)?b:new Array(a+1).join(f)+b};pv.Format.date=function(a){var c=pv.Format.pad;function b(f){return a.replace(/%[a-zA-Z0-9]/g,function(i){switch(i){case"%a":return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][f.getDay()];case"%A":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][f.getDay()];case"%h":case"%b":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][f.getMonth()];case"%B":return["January","February","March","April","May","June","July","August","September","October","November","December"][f.getMonth()];case"%c":return f.toLocaleString();case"%C":return c("0",2,Math.floor(f.getFullYear()/100)%100);case"%d":return c("0",2,f.getDate());case"%x":case"%D":return c("0",2,f.getMonth()+1)+"/"+c("0",2,f.getDate())+"/"+c("0",2,f.getFullYear()%100);case"%e":return c(" ",2,f.getDate());case"%H":return c("0",2,f.getHours());case"%I":var g=f.getHours()%12;return g?c("0",2,g):12;case"%m":return c("0",2,f.getMonth()+1);case"%M":return c("0",2,f.getMinutes());case"%n":return"\n";case"%p":return f.getHours()<12?"AM":"PM";case"%T":case"%X":case"%r":var g=f.getHours()%12;return(g?c("0",2,g):12)+":"+c("0",2,f.getMinutes())+":"+c("0",2,f.getSeconds())+" "+(f.getHours()<12?"AM":"PM");case"%R":return c("0",2,f.getHours())+":"+c("0",2,f.getMinutes());case"%S":return c("0",2,f.getSeconds());case"%Q":return c("0",3,f.getMilliseconds());case"%t":return"\t";case"%u":var d=f.getDay();return d?d:1;case"%w":return f.getDay();case"%y":return c("0",2,f.getFullYear()%100);case"%Y":return f.getFullYear();case"%%":return"%"}return i})}b.format=b;b.parse=function(n){var l=1970,k=0,f=1,h=0,g=0,d=0;var j=[function(){}];var m=pv.Format.re(a).replace(/%[a-zA-Z0-9]/g,function(o){switch(o){case"%b":j.push(function(p){k={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11}[p]});return"([A-Za-z]+)";case"%h":case"%B":j.push(function(p){k={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11}[p]});return"([A-Za-z]+)";case"%e":case"%d":j.push(function(p){f=p});return"([0-9]+)";case"%I":case"%H":j.push(function(p){h=p});return"([0-9]+)";case"%m":j.push(function(p){k=p-1});return"([0-9]+)";case"%M":j.push(function(p){g=p});return"([0-9]+)";case"%p":j.push(function(p){if(h==12){if(p=="am"){h=0}}else{if(p=="pm"){h=Number(h)+12}}});return"(am|pm)";case"%S":j.push(function(p){d=p});return"([0-9]+)";case"%y":j.push(function(p){p=Number(p);l=p+(((0<=p)&&(p<69))?2000:(((p>=69)&&(p<100)?1900:0)))});return"([0-9]+)";case"%Y":j.push(function(p){l=p});return"([0-9]+)";case"%%":j.push(function(){});return"%"}return o});var i=n.match(m);if(i){i.forEach(function(o,p){j[p](o)})}return new Date(l,k,f,h,g,d)};return b};pv.Format.time=function(a){var c=pv.Format.pad;function b(g){g=Number(g);switch(a){case"short":if(g>=31536000000){return(g/31536000000).toFixed(1)+" years"}else{if(g>=604800000){return(g/604800000).toFixed(1)+" weeks"}else{if(g>=86400000){return(g/86400000).toFixed(1)+" days"}else{if(g>=3600000){return(g/3600000).toFixed(1)+" hours"}else{if(g>=60000){return(g/60000).toFixed(1)+" minutes"}}}}}return(g/1000).toFixed(1)+" seconds";case"long":var f=[],j=((g%60000)/1000)>>0,d=((g%3600000)/60000)>>0;f.push(c("0",2,j));if(g>=3600000){var i=((g%86400000)/3600000)>>0;f.push(c("0",2,d));if(g>=86400000){f.push(c("0",2,i));f.push(Math.floor(g/86400000).toFixed())}else{f.push(i.toFixed())}}else{f.push(d.toFixed())}return f.reverse().join(":")}}b.format=b;b.parse=function(j){switch(a){case"short":var i=/([0-9,.]+)\s*([a-z]+)/g,d,h=0;while(d=i.exec(j)){var k=parseFloat(d[0].replace(",","")),g=0;switch(d[2].toLowerCase()){case"year":case"years":g=31536000000;break;case"week":case"weeks":g=604800000;break;case"day":case"days":g=86400000;break;case"hour":case"hours":g=3600000;break;case"minute":case"minutes":g=60000;break;case"second":case"seconds":g=1000;break}h+=k*g}return h;case"long":var d=j.replace(",","").split(":").reverse(),h=0;if(d.length){h+=parseFloat(d[0])*1000}if(d.length>1){h+=parseFloat(d[1])*60000}if(d.length>2){h+=parseFloat(d[2])*3600000}if(d.length>3){h+=parseFloat(d[3])*86400000}return h}};return b};pv.Format.number=function(){var h=0,c=Infinity,a=0,k=0,f=0,b=1,g="0",j="0",i=true,d=".",m=",";function l(o){if(Infinity>f){o=Math.round(o*b)/b}var q=String(Math.abs(o)).split(".");var p=q[0],t=(o<0)?"-":"";if(p.length>c){p=p.substring(p.length-c)}if(i&&(p.length<h)){p=t+new Array(h-p.length+1).join(g)+p}if(p.length>3){p=p.replace(/\B(?=(?:\d{3})+(?!\d))/g,m)}if(!i&&(p.length<a)){p=new Array(a-p.length+1).join(g)+t+p}q[0]=p;var r=q[1]||"";if(r.length<k){q[1]=r+new Array(k-r.length+1).join(j)}return q.join(d)}l.format=l;l.parse=function(n){var q=pv.Format.re;var p=String(n).replace(new RegExp("^("+q(g)+")*"),"").replace(new RegExp("("+q(j)+")*$"),"").split(d);var o=p[0].replace(new RegExp(q(m),"g"),"");if(o.length>c){o=o.substring(o.length-c)}var r=p[1]?Number("0."+p[1]):0;if(Infinity>f){r=Math.round(r*b)/b}return Math.round(o)+r};l.integerDigits=function(o,n){if(arguments.length){h=Number(o);c=(arguments.length>1)?Number(n):h;a=h+Math.floor(h/3)*m.length;return this}return[h,c]};l.fractionDigits=function(o,n){if(arguments.length){k=Number(o);f=(arguments.length>1)?Number(n):k;b=Math.pow(10,f);return this}return[k,f]};l.integerPad=function(n){if(arguments.length){g=String(n);i=/\d/.test(g);return this}return g};l.fractionPad=function(n){if(arguments.length){j=String(n);return this}return j};l.decimal=function(n){if(arguments.length){d=String(n);return this}return d};l.group=function(n){if(arguments.length){m=n?String(n):"";a=h+Math.floor(h/3)*m.length;return this}return m};return l};pv.map=function(c,a){var b={};return a?c.map(function(g,f){b.index=f;return a.call(b,g)}):c.slice()};pv.repeat=function(b,a){if(arguments.length==1){a=2}return pv.blend(pv.range(a).map(function(){return b}))};pv.cross=function(g,f){var o=[];for(var k=0,l=g.length,d=f.length;k<l;k++){for(var h=0,c=g[k];h<d;h++){o.push([c,f[h]])}}return o};pv.blend=function(a){return Array.prototype.concat.apply([],a)};pv.transpose=function(f){var g=f.length,a=pv.max(f,function(h){return h.length});if(a>g){f.length=a;for(var d=g;d<a;d++){f[d]=new Array(g)}for(var d=0;d<g;d++){for(var b=d+1;b<a;b++){var c=f[d][b];f[d][b]=f[b][d];f[b][d]=c}}}else{for(var d=0;d<a;d++){f[d].length=g}for(var d=0;d<g;d++){for(var b=0;b<d;b++){var c=f[d][b];f[d][b]=f[b][d];f[b][d]=c}}}f.length=a;for(var d=0;d<a;d++){f[d].length=g}return f};pv.normalize=function(g,d){var b=pv.map(g,d),c=pv.sum(b);for(var a=0;a<b.length;a++){b[a]/=c}return b};pv.permute=function(g,a,b){if(!b){b=pv.identity}var c=new Array(a.length),d={};a.forEach(function(f,h){d.index=f;c[h]=b.call(d,g[f])});return c};pv.numerate=function(a,b){if(!b){b=pv.identity}var c={},d={};a.forEach(function(f,g){d.index=g;c[b.call(d,f)]=g});return c};pv.uniq=function(h,b){if(!b){b=pv.identity}var c={},a=[],d={},g;h.forEach(function(f,j){d.index=j;g=b.call(d,f);if(!(g in c)){c[g]=a.push(g)}});return a};pv.naturalOrder=function(d,c){return(d<c)?-1:((d>c)?1:0)};pv.reverseOrder=function(c,d){return(d<c)?-1:((d>c)?1:0)};pv.search=function(i,h,g){if(!g){g=pv.identity}var a=0,d=i.length-1;while(a<=d){var b=(a+d)>>1,c=g(i[b]);if(c<h){a=b+1}else{if(c>h){d=b-1}else{return b}}}return -a-1};pv.search.index=function(d,c,b){var a=pv.search(d,c,b);return(a<0)?(-a-1):a};pv.range=function(g,c,d){if(arguments.length==1){c=g;g=0}if(d==undefined){d=1}if((c-g)/d==Infinity){throw new Error("range must be finite")}var f=[],b=0,a;if(d<0){while((a=g+d*b++)>c){f.push(a)}}else{while((a=g+d*b++)<c){f.push(a)}}return f};pv.random=function(c,a,b){if(arguments.length==1){a=c;c=0}if(b==undefined){b=1}return b?(Math.floor(Math.random()*(a-c)/b)*b+c):(Math.random()*(a-c)+c)};pv.sum=function(c,a){var b={};return c.reduce(a?function(g,h,f){b.index=f;return g+a.call(b,h)}:function(f,g){return f+g},0)};pv.max=function(b,a){if(a==pv.index){return b.length-1}return Math.max.apply(null,a?pv.map(b,a):b)};pv.max.index=function(j,d){if(!j.length){return -1}if(d==pv.index){return j.length-1}if(!d){d=pv.identity}var b=0,h=-Infinity,g={};for(var c=0;c<j.length;c++){g.index=c;var a=d.call(g,j[c]);if(a>h){h=a;b=c}}return b};pv.min=function(b,a){if(a==pv.index){return 0}return Math.min.apply(null,a?pv.map(b,a):b)};pv.min.index=function(j,g){if(!j.length){return -1}if(g==pv.index){return 0}if(!g){g=pv.identity}var d=0,b=Infinity,h={};for(var c=0;c<j.length;c++){h.index=c;var a=g.call(h,j[c]);if(a<b){b=a;d=c}}return d};pv.mean=function(b,a){return pv.sum(b,a)/b.length};pv.median=function(c,b){if(b==pv.index){return(c.length-1)/2}c=pv.map(c,b).sort(pv.naturalOrder);if(c.length%2){return c[Math.floor(c.length/2)]}var a=c.length/2;return(c[a-1]+c[a])/2};pv.variance=function(k,g){if(k.length<1){return NaN}if(k.length==1){return 0}var a=pv.mean(k,g),c=0,j={};if(!g){g=pv.identity}for(var b=0;b<k.length;b++){j.index=b;var h=g.call(j,k[b])-a;c+=h*h}return c};pv.deviation=function(b,a){return Math.sqrt(pv.variance(b,a)/(b.length-1))};pv.log=function(c,a){return Math.log(c)/Math.log(a)};pv.logSymmetric=function(c,a){return(c==0)?0:((c<0)?-pv.log(-c,a):pv.log(c,a))};pv.logAdjusted=function(c,a){if(!isFinite(c)){return c}var d=c<0;if(c<a){c+=(a-c)/a}return d?-pv.log(c,a):pv.log(c,a)};pv.logFloor=function(c,a){return(c>0)?Math.pow(a,Math.floor(pv.log(c,a))):-Math.pow(a,-Math.floor(-pv.log(-c,a)))};pv.logCeil=function(c,a){return(c>0)?Math.pow(a,Math.ceil(pv.log(c,a))):-Math.pow(a,-Math.ceil(-pv.log(-c,a)))};(function(){var a=Math.PI/180,b=180/Math.PI;pv.radians=function(c){return a*c};pv.degrees=function(c){return b*c}})();pv.keys=function(b){var c=[];for(var a in b){c.push(a)}return c};pv.entries=function(b){var c=[];for(var a in b){c.push({key:a,value:b[a]})}return c};pv.values=function(b){var c=[];for(var a in b){c.push(b[a])}return c};pv.dict=function(d,g){var a={},h={};for(var c=0;c<d.length;c++){if(c in d){var b=d[c];h.index=c;a[b]=g.call(h,b)}}return a};pv.dom=function(a){return new pv.Dom(a)};pv.Dom=function(a){this.$map=a};pv.Dom.prototype.$leaf=function(a){return typeof a!="object"};pv.Dom.prototype.leaf=function(a){if(arguments.length){this.$leaf=a;return this}return this.$leaf};pv.Dom.prototype.root=function(d){var b=this.$leaf,a=c(this.$map);function c(h){var i=new pv.Dom.Node();for(var g in h){var f=h[g];i.appendChild(b(f)?new pv.Dom.Node(f):c(f)).nodeName=g}return i}a.nodeName=d;return a};pv.Dom.prototype.nodes=function(){return this.root().nodes()};pv.Dom.Node=function(a){this.nodeValue=a;this.childNodes=[]};pv.Dom.Node.prototype.parentNode=null;pv.Dom.Node.prototype.firstChild=null;pv.Dom.Node.prototype.lastChild=null;pv.Dom.Node.prototype.previousSibling=null;pv.Dom.Node.prototype.nextSibling=null;pv.Dom.Node.prototype.removeChild=function(b){var a=this.childNodes.indexOf(b);if(a==-1){throw new Error("child not found")}this.childNodes.splice(a,1);if(b.previousSibling){b.previousSibling.nextSibling=b.nextSibling}else{this.firstChild=b.nextSibling}if(b.nextSibling){b.nextSibling.previousSibling=b.previousSibling}else{this.lastChild=b.previousSibling}delete b.nextSibling;delete b.previousSibling;delete b.parentNode;return b};pv.Dom.Node.prototype.appendChild=function(a){if(a.parentNode){a.parentNode.removeChild(a)}a.parentNode=this;a.previousSibling=this.lastChild;if(this.lastChild){this.lastChild.nextSibling=a}else{this.firstChild=a}this.lastChild=a;this.childNodes.push(a);return a};pv.Dom.Node.prototype.insertBefore=function(c,b){if(!b){return this.appendChild(c)}var a=this.childNodes.indexOf(b);if(a==-1){throw new Error("child not found")}if(c.parentNode){c.parentNode.removeChild(c)}c.parentNode=this;c.nextSibling=b;c.previousSibling=b.previousSibling;if(b.previousSibling){b.previousSibling.nextSibling=c}else{if(b==this.lastChild){this.lastChild=c}this.firstChild=c}this.childNodes.splice(a,0,c);return c};pv.Dom.Node.prototype.replaceChild=function(c,b){var a=this.childNodes.indexOf(b);if(a==-1){throw new Error("child not found")}if(c.parentNode){c.parentNode.removeChild(c)}c.parentNode=this;c.nextSibling=b.nextSibling;c.previousSibling=b.previousSibling;if(b.previousSibling){b.previousSibling.nextSibling=c}else{this.firstChild=c}if(b.nextSibling){b.nextSibling.previousSibling=c}else{this.lastChild=c}this.childNodes[a]=c;return b};pv.Dom.Node.prototype.visitBefore=function(b){function a(g,d){b(g,d);for(var f=g.firstChild;f;f=f.nextSibling){a(f,d+1)}}a(this,0)};pv.Dom.Node.prototype.visitAfter=function(b){function a(g,d){for(var f=g.firstChild;f;f=f.nextSibling){a(f,d+1)}b(g,d)}a(this,0)};pv.Dom.Node.prototype.sort=function(b){if(this.firstChild){this.childNodes.sort(b);var d=this.firstChild=this.childNodes[0],g;delete d.previousSibling;for(var a=1;a<this.childNodes.length;a++){d.sort(b);g=this.childNodes[a];g.previousSibling=d;d=d.nextSibling=g}this.lastChild=d;delete d.nextSibling;d.sort(b)}return this};pv.Dom.Node.prototype.reverse=function(){var a=[];this.visitAfter(function(d){while(d.lastChild){a.push(d.removeChild(d.lastChild))}for(var b;b=a.pop();){d.insertBefore(b,d.firstChild)}});return this};pv.Dom.Node.prototype.nodes=function(){var b=[];function a(c){b.push(c);c.childNodes.forEach(a)}a(this,b);return b};pv.Dom.Node.prototype.toggle=function(a){if(a){return this.toggled?this.visitBefore(function(c){if(c.toggled){c.toggle()}}):this.visitAfter(function(c){if(!c.toggled){c.toggle()}})}var d=this;if(d.toggled){for(var b;b=d.toggled.pop();){d.appendChild(b)}delete d.toggled}else{if(d.lastChild){d.toggled=[];while(d.lastChild){d.toggled.push(d.removeChild(d.lastChild))}}}};pv.nodes=function(b){var a=new pv.Dom.Node();for(var c=0;c<b.length;c++){a.appendChild(new pv.Dom.Node(b[c]))}return a.nodes()};pv.tree=function(a){return new pv.Tree(a)};pv.Tree=function(a){this.array=a};pv.Tree.prototype.keys=function(a){this.k=a;return this};pv.Tree.prototype.value=function(a){this.v=a;return this};pv.Tree.prototype.map=function(){var g={},h={};for(var b=0;b<this.array.length;b++){h.index=b;var f=this.array[b],d=this.k.call(h,f),c=g;for(var a=0;a<d.length-1;a++){c=c[d[a]]||(c[d[a]]={})}c[d[a]]=this.v?this.v.call(h,f):f}return g};pv.nest=function(a){return new pv.Nest(a)};pv.Nest=function(a){this.array=a;this.keys=[]};pv.Nest.prototype.key=function(a){this.keys.push(a);return this};pv.Nest.prototype.sortKeys=function(a){this.keys[this.keys.length-1].order=a||pv.naturalOrder;return this};pv.Nest.prototype.sortValues=function(a){this.order=a||pv.naturalOrder;return this};pv.Nest.prototype.map=function(){var n={},g=[];for(var l,h=0;h<this.array.length;h++){var c=this.array[h];var b=n;for(l=0;l<this.keys.length-1;l++){var f=this.keys[l](c);if(!b[f]){b[f]={}}b=b[f]}f=this.keys[l](c);if(!b[f]){var d=[];g.push(d);b[f]=d}b[f].push(c)}if(this.order){for(var l=0;l<g.length;l++){g[l].sort(this.order)}}return n};pv.Nest.prototype.entries=function(){function a(f){var g=[];for(var d in f){var c=f[d];g.push({key:d,values:(c instanceof Array)?c:a(c)})}return g}function b(g,d){var f=this.keys[d].order;if(f){g.sort(function(i,h){return f(i.key,h.key)})}if(++d<this.keys.length){for(var c=0;c<g.length;c++){b.call(this,g[c].values,d)}}return g}return b.call(this,a(this.map()),0)};pv.Nest.prototype.rollup=function(b){function a(f){for(var c in f){var d=f[c];if(d instanceof Array){f[c]=b(d)}else{a(d)}}return f}return a(this.map())};pv.flatten=function(a){return new pv.Flatten(a)};pv.Flatten=function(a){this.map=a;this.keys=[]};pv.Flatten.prototype.key=function(a,b){this.keys.push({name:a,value:b});delete this.$leaf;return this};pv.Flatten.prototype.leaf=function(a){this.keys.length=0;this.$leaf=a;return this};pv.Flatten.prototype.array=function(){var b=[],a=[],g=this.keys,c=this.$leaf;if(c){function f(k,j){if(c(k)){b.push({keys:a.slice(),value:k})}else{for(var h in k){a.push(h);f(k[h],j+1);a.pop()}}}f(this.map,0);return b}function d(k,j){if(j<g.length-1){for(var h in k){a.push(h);d(k[h],j+1);a.pop()}}else{b.push(a.concat(k))}}d(this.map,0);return b.map(function(j){var h={};for(var o=0;o<g.length;o++){var n=g[o],l=j[o];h[n.name]=n.value?n.value.call(null,l):l}return h})};pv.vector=function(a,b){return new pv.Vector(a,b)};pv.Vector=function(a,b){this.x=a;this.y=b};pv.Vector.prototype.perp=function(){return new pv.Vector(-this.y,this.x)};pv.Vector.prototype.norm=function(){var a=this.length();return this.times(a?(1/a):1)};pv.Vector.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};pv.Vector.prototype.times=function(a){return new pv.Vector(this.x*a,this.y*a)};pv.Vector.prototype.plus=function(a,b){return(arguments.length==1)?new pv.Vector(this.x+a.x,this.y+a.y):new pv.Vector(this.x+a,this.y+b)};pv.Vector.prototype.minus=function(a,b){return(arguments.length==1)?new pv.Vector(this.x-a.x,this.y-a.y):new pv.Vector(this.x-a,this.y-b)};pv.Vector.prototype.dot=function(a,b){return(arguments.length==1)?this.x*a.x+this.y*a.y:this.x*a+this.y*b};pv.Transform=function(){};pv.Transform.prototype={k:1,x:0,y:0};pv.Transform.identity=new pv.Transform();pv.Transform.prototype.translate=function(a,c){var b=new pv.Transform();b.k=this.k;b.x=this.k*a+this.x;b.y=this.k*c+this.y;return b};pv.Transform.prototype.scale=function(b){var a=new pv.Transform();a.k=this.k*b;a.x=this.x;a.y=this.y;return a};pv.Transform.prototype.invert=function(){var b=new pv.Transform(),a=1/this.k;b.k=a;b.x=-this.x*a;b.y=-this.y*a;return b};pv.Transform.prototype.times=function(a){var b=new pv.Transform();b.k=this.k*a.k;b.x=this.k*a.x+this.x;b.y=this.k*a.y+this.y;return b};pv.Scale=function(){};pv.Scale.interpolator=function(b,a){if(typeof b=="number"){return function(c){return c*(a-b)+b}}b=pv.color(b).rgb();a=pv.color(a).rgb();return function(d){var c=b.a*(1-d)+a.a*d;if(c<0.00001){c=0}return(b.a==0)?pv.rgb(a.r,a.g,a.b,c):((a.a==0)?pv.rgb(b.r,b.g,b.b,c):pv.rgb(Math.round(b.r*(1-d)+a.r*d),Math.round(b.g*(1-d)+a.g*d),Math.round(b.b*(1-d)+a.b*d),c))}};pv.Scale.quantitative=function(){var p=[0,1],j=[0,1],a=[0,1],k=[pv.identity],q=Number,b=false,o=pv.identity,m=pv.identity,h=String;function s(d){return new Date(d)}function c(d){var f=pv.search(p,d);if(f<0){f=-f-2}f=Math.max(0,Math.min(k.length-1,f));return k[f]((o(d)-j[f])/(j[f+1]-j[f]))}c.transform=function(f,d){o=function(g){return b?-f(-g):f(g)};m=function(g){return b?-d(-g):d(g)};j=p.map(o);return this};c.domain=function(i,f,d){if(arguments.length){var g;if(i instanceof Array){if(arguments.length<2){f=pv.identity}if(arguments.length<3){d=f}g=i.length&&f(i[0]);p=i.length?[pv.min(i,f),pv.max(i,d)]:[]}else{g=i;p=Array.prototype.slice.call(arguments).map(Number)}if(!p.length){p=[-Infinity,Infinity]}else{if(p.length==1){p=[p[0],p[0]]}}b=(p[0]||p[p.length-1])<0;j=p.map(o);q=(g instanceof Date)?s:Number;return this}return p.map(q)};c.range=function(){if(arguments.length){a=Array.prototype.slice.call(arguments);if(!a.length){a=[-Infinity,Infinity]}else{if(a.length==1){a=[a[0],a[0]]}}k=[];for(var d=0;d<a.length-1;d++){k.push(pv.Scale.interpolator(a[d],a[d+1]))}return this}return a};c.invert=function(f){var d=pv.search(a,f);if(d<0){d=-d-2}d=Math.max(0,Math.min(k.length-1,d));return q(m(j[d]+(f-a[d])/(a[d+1]-a[d])*(j[d+1]-j[d])))};c.ticks=function(r){var f=p[0],u=p[p.length-1],y=u<f,v=y?u:f,z=y?f:u,D=z-v;if(!D||!isFinite(D)){if(q==s){h=pv.Format.date("%x")}return[q(v)]}if(q==s){function x(E,n){switch(n){case 31536000000:E.setMonth(0);case 2592000000:E.setDate(1);case 604800000:if(n==604800000){E.setDate(E.getDate()-E.getDay())}case 86400000:E.setHours(0);case 3600000:E.setMinutes(0);case 60000:E.setSeconds(0);case 1000:E.setMilliseconds(0)}}var w,C,B,i=1;if(D>=3*31536000000){w=31536000000;C="%Y";B=function(n){n.setFullYear(n.getFullYear()+i)}}else{if(D>=3*2592000000){w=2592000000;C="%m/%Y";B=function(n){n.setMonth(n.getMonth()+i)}}else{if(D>=3*604800000){w=604800000;C="%m/%d";B=function(n){n.setDate(n.getDate()+7*i)}}else{if(D>=3*86400000){w=86400000;C="%m/%d";B=function(n){n.setDate(n.getDate()+i)}}else{if(D>=3*3600000){w=3600000;C="%I:%M %p";B=function(n){n.setHours(n.getHours()+i)}}else{if(D>=3*60000){w=60000;C="%I:%M %p";B=function(n){n.setMinutes(n.getMinutes()+i)}}else{if(D>=3*1000){w=1000;C="%I:%M:%S";B=function(n){n.setSeconds(n.getSeconds()+i)}}else{w=1;C="%S.%Qs";B=function(n){n.setTime(n.getTime()+i)}}}}}}}}h=pv.Format.date(C);var l=new Date(v),d=[];x(l,w);var g=D/w;if(g>10){switch(w){case 3600000:i=(g>20)?6:3;l.setHours(Math.floor(l.getHours()/i)*i);break;case 2592000000:i=3;l.setMonth(Math.floor(l.getMonth()/i)*i);break;case 60000:i=(g>30)?15:((g>15)?10:5);l.setMinutes(Math.floor(l.getMinutes()/i)*i);break;case 1000:i=(g>90)?15:((g>60)?10:5);l.setSeconds(Math.floor(l.getSeconds()/i)*i);break;case 1:i=(g>1000)?250:((g>200)?100:((g>100)?50:((g>50)?25:5)));l.setMilliseconds(Math.floor(l.getMilliseconds()/i)*i);break;default:i=pv.logCeil(g/15,10);if(g/i<2){i/=5}else{if(g/i<5){i/=2}}l.setFullYear(Math.floor(l.getFullYear()/i)*i);break}}while(true){B(l);if(l>z){break}d.push(new Date(l))}return y?d.reverse():d}if(!arguments.length){r=10}var i=pv.logFloor(D/r,10),t=r/(D/i);if(t<=0.15){i*=10}else{if(t<=0.35){i*=5}else{if(t<=0.75){i*=2}}}var f=Math.ceil(v/i)*i,u=Math.floor(z/i)*i;h=pv.Format.number().fractionDigits(Math.max(0,-Math.floor(pv.log(i,10)+0.01)));var A=pv.range(f,u+i,i);return y?A.reverse():A};c.tickFormat=function(d){return h(d)};c.nice=function(){if(p.length!=2){return this}var r=p[0],f=p[p.length-1],g=f<r,i=g?f:r,d=g?r:f,l=d-i;if(!l||!isFinite(l)){return this}var n=Math.pow(10,Math.round(Math.log(l)/Math.log(10))-1);p=[Math.floor(i/n)*n,Math.ceil(d/n)*n];if(g){p.reverse()}j=p.map(o);return this};c.by=function(d){function g(){return c(d.apply(this,arguments))}for(var i in c){g[i]=c[i]}return g};c.domain.apply(c,arguments);return c};pv.Scale.linear=function(){var a=pv.Scale.quantitative();a.domain.apply(a,arguments);return a};pv.Scale.log=function(){var g=pv.Scale.quantitative(1,10),a,f,c=function(b){return Math.log(b)/f},d=function(b){return Math.pow(a,b)};g.ticks=function(){var o=g.domain(),p=o[0]<0,l=Math.floor(p?-c(-o[0]):c(o[0])),h=Math.ceil(p?-c(-o[1]):c(o[1])),m=[];if(p){m.push(-d(-l));for(;l++<h;){for(var b=a-1;b>0;b--){m.push(-d(-l)*b)}}}else{for(;l<h;l++){for(var b=1;b<a;b++){m.push(d(l)*b)}}m.push(d(l))}for(l=0;m[l]<o[0];l++){}for(h=m.length;m[h-1]>o[1];h--){}return m.slice(l,h)};g.tickFormat=function(b){return b.toPrecision(1)};g.nice=function(){var b=g.domain();return g.domain(pv.logFloor(b[0],a),pv.logCeil(b[1],a))};g.base=function(b){if(arguments.length){a=Number(b);f=Math.log(a);g.transform(c,d);return this}return a};g.domain.apply(g,arguments);return g.base(10)};pv.Scale.root=function(){var a=pv.Scale.quantitative();a.power=function(d){if(arguments.length){var c=Number(d),f=1/c;a.transform(function(b){return Math.pow(b,f)},function(b){return Math.pow(b,c)});return this}return c};a.domain.apply(a,arguments);return a.power(2)};pv.Scale.ordinal=function(){var g=[],a={},b=[],f=0;function c(d){if(!(d in a)){a[d]=g.push(d)-1}return b[a[d]%b.length]}c.domain=function(l,i){if(arguments.length){l=(l instanceof Array)?((arguments.length>1)?pv.map(l,i):l):Array.prototype.slice.call(arguments);g=[];var d={};for(var h=0;h<l.length;h++){var k=l[h];if(!(k in d)){d[k]=true;g.push(k)}}a=pv.numerate(g);return this}return g};c.range=function(h,d){if(arguments.length){b=(h instanceof Array)?((arguments.length>1)?pv.map(h,d):h):Array.prototype.slice.call(arguments);if(typeof b[0]=="string"){b=b.map(pv.color)}return this}return b};c.split=function(h,d){var i=(d-h)/this.domain().length;b=pv.range(h+i/2,d,i);return this};c.splitFlush=function(h,d){var j=this.domain().length,i=(d-h)/(j-1);b=(j==1)?[(h+d)/2]:pv.range(h,d+i/2,i);return this};c.splitBanded=function(h,d,m){if(arguments.length<3){m=1}if(m<0){var o=this.domain().length,k=-m*o,i=d-h-k,l=i/(o+1);b=pv.range(h+l,d,l-m);b.band=-m}else{var j=(d-h)/(this.domain().length+(1-m));b=pv.range(h+j*(1-m),d,j);b.band=j*m}return this};c.by=function(d){function h(){return c(d.apply(this,arguments))}for(var i in c){h[i]=c[i]}return h};c.domain.apply(c,arguments);return c};pv.Scale.quantile=function(){var h=-1,a=-1,b=[],f=[],g=pv.Scale.linear();function c(d){return g(Math.max(0,Math.min(a,pv.search.index(b,d)-1))/a)}c.quantiles=function(d){if(arguments.length){h=Number(d);if(h<0){b=[f[0]].concat(f);a=f.length-1}else{b=[];b[0]=f[0];for(var j=1;j<=h;j++){b[j]=f[~~(j*(f.length-1)/h)]}a=h-1}return this}return b};c.domain=function(i,d){if(arguments.length){f=(i instanceof Array)?pv.map(i,d):Array.prototype.slice.call(arguments);f.sort(pv.naturalOrder);c.quantiles(h);return this}return f};c.range=function(){if(arguments.length){g.range.apply(g,arguments);return this}return g.range()};c.by=function(d){function i(){return c(d.apply(this,arguments))}for(var j in c){i[j]=c[j]}return i};c.domain.apply(c,arguments);return c};pv.histogram=function(b,a){var c=true;return{bins:function(l){var d=pv.map(b,a),k=[];if(!arguments.length){l=pv.Scale.linear(d).ticks()}for(var h=0;h<l.length-1;h++){var g=k[h]=[];g.x=l[h];g.dx=l[h+1]-l[h];g.y=0}for(var h=0;h<d.length;h++){var f=pv.search.index(l,d[h])-1,g=k[Math.max(0,Math.min(k.length-1,f))];g.y++;g.push(b[h])}if(!c){for(var h=0;h<k.length;h++){k[h].y/=d.length}}return k},frequency:function(d){if(arguments.length){c=Boolean(d);return this}return c}}};pv.color=function(o){if(o.rgb){return o.rgb()}var q=/([a-z]+)\((.*)\)/i.exec(o);if(q){var p=q[2].split(","),n=1;switch(q[1]){case"hsla":case"rgba":n=parseFloat(p[3]);if(!n){return pv.Color.transparent}break}switch(q[1]){case"hsla":case"hsl":var j=parseFloat(p[0]),t=parseFloat(p[1])/100,d=parseFloat(p[2])/100;return(new pv.Color.Hsl(j,t,d,n)).rgb();case"rgba":case"rgb":function i(b){var a=parseFloat(b);return(b[b.length-1]=="%")?Math.round(a*2.55):a}var c=i(p[0]),k=i(p[1]),m=i(p[2]);return pv.rgb(c,k,m,n)}}var f=pv.Color.names[o];if(f){return f}if(o.charAt(0)=="#"){var c,k,m;if(o.length==4){c=o.charAt(1);c+=c;k=o.charAt(2);k+=k;m=o.charAt(3);m+=m}else{if(o.length==7){c=o.substring(1,3);k=o.substring(3,5);m=o.substring(5,7)}}return pv.rgb(parseInt(c,16),parseInt(k,16),parseInt(m,16),1)}return new pv.Color(o,1)};pv.Color=function(a,b){this.color=a;this.opacity=b};pv.Color.prototype.brighter=function(a){return this.rgb().brighter(a)};pv.Color.prototype.darker=function(a){return this.rgb().darker(a)};pv.rgb=function(h,f,c,d){return new pv.Color.Rgb(h,f,c,(arguments.length==4)?d:1)};pv.Color.Rgb=function(h,f,c,d){pv.Color.call(this,d?("rgb("+h+","+f+","+c+")"):"none",d);this.r=h;this.g=f;this.b=c;this.a=d};pv.Color.Rgb.prototype=pv.extend(pv.Color);pv.Color.Rgb.prototype.red=function(a){return pv.rgb(a,this.g,this.b,this.a)};pv.Color.Rgb.prototype.green=function(a){return pv.rgb(this.r,a,this.b,this.a)};pv.Color.Rgb.prototype.blue=function(a){return pv.rgb(this.r,this.g,a,this.a)};pv.Color.Rgb.prototype.alpha=function(b){return pv.rgb(this.r,this.g,this.b,b)};pv.Color.Rgb.prototype.rgb=function(){return this};pv.Color.Rgb.prototype.brighter=function(c){c=Math.pow(0.7,arguments.length?c:1);var h=this.r,f=this.g,a=this.b,d=30;if(!h&&!f&&!a){return pv.rgb(d,d,d,this.a)}if(h&&(h<d)){h=d}if(f&&(f<d)){f=d}if(a&&(a<d)){a=d}return pv.rgb(Math.min(255,Math.floor(h/c)),Math.min(255,Math.floor(f/c)),Math.min(255,Math.floor(a/c)),this.a)};pv.Color.Rgb.prototype.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return pv.rgb(Math.max(0,Math.floor(a*this.r)),Math.max(0,Math.floor(a*this.g)),Math.max(0,Math.floor(a*this.b)),this.a)};pv.hsl=function(f,d,c,b){return new pv.Color.Hsl(f,d,c,(arguments.length==4)?b:1)};pv.Color.Hsl=function(f,d,c,b){pv.Color.call(this,"hsl("+f+","+(d*100)+"%,"+(c*100)+"%)",b);this.h=f;this.s=d;this.l=c;this.a=b};pv.Color.Hsl.prototype=pv.extend(pv.Color);pv.Color.Hsl.prototype.hue=function(a){return pv.hsl(a,this.s,this.l,this.a)};pv.Color.Hsl.prototype.saturation=function(a){return pv.hsl(this.h,a,this.l,this.a)};pv.Color.Hsl.prototype.lightness=function(a){return pv.hsl(this.h,this.s,a,this.a)};pv.Color.Hsl.prototype.alpha=function(b){return pv.hsl(this.h,this.s,this.l,b)};pv.Color.Hsl.prototype.rgb=function(){var g=this.h,f=this.s,a=this.l;g=g%360;if(g<0){g+=360}f=Math.max(0,Math.min(f,1));a=Math.max(0,Math.min(a,1));var c=(a<=0.5)?(a*(1+f)):(a+f-a*f);var d=2*a-c;function b(j){if(j>360){j-=360}else{if(j<0){j+=360}}if(j<60){return d+(c-d)*j/60}if(j<180){return c}if(j<240){return d+(c-d)*(240-j)/60}return d}function i(j){return Math.round(b(j)*255)}return pv.rgb(i(g+120),i(g),i(g-120),this.a)};pv.Color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:pv.Color.transparent=pv.rgb(0,0,0,0)};(function(){var b=pv.Color.names;for(var a in b){b[a]=pv.color(b[a])}})();pv.colors=function(){var a=pv.Scale.ordinal();a.range.apply(a,arguments);return a};pv.Colors={};pv.Colors.category10=function(){var a=pv.colors("#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf");a.domain.apply(a,arguments);return a};pv.Colors.category20=function(){var a=pv.colors("#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5");a.domain.apply(a,arguments);return a};pv.Colors.category19=function(){var a=pv.colors("#9c9ede","#7375b5","#4a5584","#cedb9c","#b5cf6b","#8ca252","#637939","#e7cb94","#e7ba52","#bd9e39","#8c6d31","#e7969c","#d6616b","#ad494a","#843c39","#de9ed6","#ce6dbd","#a55194","#7b4173");a.domain.apply(a,arguments);return a};pv.ramp=function(c,a){var b=pv.Scale.linear();b.range.apply(b,arguments);return b};pv.Scene=pv.SvgScene={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml",scale:1,events:["DOMMouseScroll","mousewheel","mousedown","mouseup","mouseover","mouseout","mousemove","click","dblclick"],implicit:{svg:{"shape-rendering":"auto","pointer-events":"painted",x:0,y:0,dy:0,"text-anchor":"start",transform:"translate(0,0)",fill:"none","fill-opacity":1,stroke:"none","stroke-opacity":1,"stroke-width":1.5,"stroke-linejoin":"miter"},css:{font:"10px sans-serif"}}};pv.SvgScene.updateAll=function(a){if(a.length&&a[0].reverse&&(a.type!="line")&&(a.type!="area")){var d=pv.extend(a);for(var c=0,b=a.length-1;b>=0;c++,b--){d[c]=a[b]}a=d}this.removeSiblings(this[a.type](a))};pv.SvgScene.create=function(a){return document.createElementNS(this.svg,a)};pv.SvgScene.expect=function(g,d,a,c){if(g){if(g.tagName=="a"){g=g.firstChild}if(g.tagName!=d){var h=this.create(d);g.parentNode.replaceChild(h,g);g=h}}else{g=this.create(d)}for(var b in a){var f=a[b];if(f==this.implicit.svg[b]){f=null}if(f==null){g.removeAttribute(b)}else{g.setAttribute(b,f)}}for(var b in c){var f=c[b];if(f==this.implicit.css[b]){f=null}if(f==null){g.style.removeProperty(b)}else{g.style[b]=f}}return g};pv.SvgScene.append=function(c,a,b){c.$scene={scenes:a,index:b};c=this.title(c,a[b]);if(!c.parentNode){a.$g.appendChild(c)}return c.nextSibling};pv.SvgScene.title=function(d,c){var b=d.parentNode;if(b&&(b.tagName!="a")){b=null}if(c.title){if(!b){b=this.create("a");if(d.parentNode){d.parentNode.replaceChild(b,d)}b.appendChild(d)}b.setAttributeNS(this.xlink,"title",c.title);return b}if(b){b.parentNode.replaceChild(d,b)}return d};pv.SvgScene.dispatch=pv.listener(function(c){var a=c.target.$scene;if(a){var b=c.type;switch(b){case"DOMMouseScroll":b="mousewheel";c.wheel=-480*c.detail;break;case"mousewheel":c.wheel=(window.opera?12:1)*c.wheelDelta;break}if(pv.Mark.dispatch(b,a.scenes,a.index)){c.preventDefault()}}});pv.SvgScene.removeSiblings=function(a){while(a){var b=a.nextSibling;a.parentNode.removeChild(a);a=b}};pv.SvgScene.undefined=function(){};pv.SvgScene.pathBasis=(function(){var c=[[1/6,2/3,1/6,0],[0,2/3,1/3,0],[0,1/3,2/3,0],[0,1/6,2/3,1/6]];function a(d,i,h,g,f){return{x:d[0]*i.left+d[1]*h.left+d[2]*g.left+d[3]*f.left,y:d[0]*i.top+d[1]*h.top+d[2]*g.top+d[3]*f.top}}var b=function(k,j,i,h){var g=a(c[1],k,j,i,h),f=a(c[2],k,j,i,h),d=a(c[3],k,j,i,h);return"C"+g.x+","+g.y+","+f.x+","+f.y+","+d.x+","+d.y};b.segment=function(l,k,j,i){var h=a(c[0],l,k,j,i),g=a(c[1],l,k,j,i),f=a(c[2],l,k,j,i),d=a(c[3],l,k,j,i);return"M"+h.x+","+h.y+"C"+g.x+","+g.y+","+f.x+","+f.y+","+d.x+","+d.y};return b})();pv.SvgScene.curveBasis=function(b){if(b.length<=2){return""}var f="",h=b[0],g=h,d=h,c=b[1];f+=this.pathBasis(h,g,d,c);for(var a=2;a<b.length;a++){h=g;g=d;d=c;c=b[a];f+=this.pathBasis(h,g,d,c)}f+=this.pathBasis(g,d,c,c);f+=this.pathBasis(d,c,c,c);return f};pv.SvgScene.curveBasisSegments=function(b){if(b.length<=2){return""}var g=[],j=b[0],f=j,d=j,c=b[1],h=this.pathBasis.segment(j,f,d,c);j=f;f=d;d=c;c=b[2];g.push(h+this.pathBasis(j,f,d,c));for(var a=3;a<b.length;a++){j=f;f=d;d=c;c=b[a];g.push(this.pathBasis.segment(j,f,d,c))}g.push(this.pathBasis.segment(f,d,c,c)+this.pathBasis(d,c,c,c));return g};pv.SvgScene.curveHermite=function(h,g){if(g.length<1||(h.length!=g.length&&h.length!=g.length+2)){return""}var j=h.length!=g.length,m="",k=h[0],a=h[1],f=g[0],l=f,c=1;if(j){m+="Q"+(a.left-f.x*2/3)+","+(a.top-f.y*2/3)+","+a.left+","+a.top;k=h[1];c=2}if(g.length>1){l=g[1];a=h[c];c++;m+="C"+(k.left+f.x)+","+(k.top+f.y)+","+(a.left-l.x)+","+(a.top-l.y)+","+a.left+","+a.top;for(var b=2;b<g.length;b++,c++){a=h[c];l=g[b];m+="S"+(a.left-l.x)+","+(a.top-l.y)+","+a.left+","+a.top}}if(j){var d=h[c];m+="Q"+(a.left+l.x*2/3)+","+(a.top+l.y*2/3)+","+d.left+","+d.top}return m};pv.SvgScene.curveHermiteSegments=function(h,g){if(g.length<1||(h.length!=g.length&&h.length!=g.length+2)){return[]}var j=h.length!=g.length,m=[],k=h[0],a=k,f=g[0],l=f,c=1;if(j){a=h[1];m.push("M"+k.left+","+k.top+"Q"+(a.left-l.x*2/3)+","+(a.top-l.y*2/3)+","+a.left+","+a.top);c=2}for(var b=1;b<g.length;b++,c++){k=a;f=l;a=h[c];l=g[b];m.push("M"+k.left+","+k.top+"C"+(k.left+f.x)+","+(k.top+f.y)+","+(a.left-l.x)+","+(a.top-l.y)+","+a.left+","+a.top)}if(j){var d=h[c];m.push("M"+a.left+","+a.top+"Q"+(a.left+l.x*2/3)+","+(a.top+l.y*2/3)+","+d.left+","+d.top)}return m};pv.SvgScene.cardinalTangents=function(g,f){var c=[],b=(1-f)/2,k=g[0],j=g[1],h=g[2];for(var d=3;d<g.length;d++){c.push({x:b*(h.left-k.left),y:b*(h.top-k.top)});k=j;j=h;h=g[d]}c.push({x:b*(h.left-k.left),y:b*(h.top-k.top)});return c};pv.SvgScene.curveCardinal=function(b,a){if(b.length<=2){return""}return this.curveHermite(b,this.cardinalTangents(b,a))};pv.SvgScene.curveCardinalSegments=function(b,a){if(b.length<=2){return""}return this.curveHermiteSegments(b,this.cardinalTangents(b,a))};pv.SvgScene.monotoneTangents=function(n){var l=[],j=[],a=[],q=[],c=0;for(c=0;c<n.length-1;c++){j[c]=(n[c+1].top-n[c].top)/(n[c+1].left-n[c].left)}a[0]=j[0];q[0]=n[1].left-n[0].left;for(c=1;c<n.length-1;c++){a[c]=(j[c-1]+j[c])/2;q[c]=(n[c+1].left-n[c-1].left)/2}a[c]=j[c-1];q[c]=(n[c].left-n[c-1].left);for(c=0;c<n.length-1;c++){if(j[c]==0){a[c]=0;a[c+1]=0}}for(c=0;c<n.length-1;c++){if((Math.abs(a[c])<0.00001)||(Math.abs(a[c+1])<0.00001)){continue}var h=a[c]/j[c],b=a[c+1]/j[c],p=h*h+b*b;if(p>9){var o=3/Math.sqrt(p);a[c]=o*h*j[c];a[c+1]=o*b*j[c]}}var g;for(var f=0;f<n.length;f++){g=1+a[f]*a[f];l.push({x:q[f]/3/g,y:a[f]*q[f]/3/g})}return l};pv.SvgScene.curveMonotone=function(a){if(a.length<=2){return""}return this.curveHermite(a,this.monotoneTangents(a))};pv.SvgScene.curveMonotoneSegments=function(a){if(a.length<=2){return""}return this.curveHermiteSegments(a,this.monotoneTangents(a))};pv.SvgScene.area=function(a){var h=a.$g.firstChild;if(!a.length){return h}var p=a[0];if(p.segmented){return this.areaSegment(a)}if(!p.visible){return h}var m=p.fillStyle,n=p.strokeStyle;if(!m.opacity&&!n.opacity){return h}function o(v,s){var z=[],y=[];for(var r=s;v<=r;v++,s--){var w=a[v],t=a[s],x=w.left+","+w.top,u=(t.left+t.width)+","+(t.top+t.height);if(v<r){var q=a[v+1],d=a[s-1];switch(p.interpolate){case"step-before":x+="V"+q.top;u+="H"+(d.left+d.width);break;case"step-after":x+="H"+q.left;u+="V"+(d.top+d.height);break}}z.push(x);y.push(u)}return z.concat(y).join("L")}function l(u,t){var d=[],w=[],v,s;for(var r=t;u<=r;u++,t--){var q=a[t];d.push(a[u]);w.push({left:q.left+q.width,top:q.top+q.height})}if(p.interpolate=="basis"){v=pv.SvgScene.curveBasis(d);s=pv.SvgScene.curveBasis(w)}else{if(p.interpolate=="cardinal"){v=pv.SvgScene.curveCardinal(d,p.tension);s=pv.SvgScene.curveCardinal(w,p.tension)}else{v=pv.SvgScene.curveMonotone(d);s=pv.SvgScene.curveMonotone(w)}}return d[0].left+","+d[0].top+v+"L"+w[0].left+","+w[0].top+s}var k=[],g,c;for(var f=0;f<a.length;f++){g=a[f];if(!g.width&&!g.height){continue}for(var b=f+1;b<a.length;b++){c=a[b];if(!c.width&&!c.height){break}}if(f&&(p.interpolate!="step-after")){f--}if((b<a.length)&&(p.interpolate!="step-before")){b++}k.push(((b-f>2&&(p.interpolate=="basis"||p.interpolate=="cardinal"||p.interpolate=="monotone"))?l:o)(f,b-1));f=b-1}if(!k.length){return h}h=this.expect(h,"path",{"shape-rendering":p.antialias?null:"crispEdges","pointer-events":p.events,cursor:p.cursor,d:"M"+k.join("ZM")+"Z",fill:m.color,"fill-opacity":m.opacity||null,stroke:n.color,"stroke-opacity":n.opacity||null,"stroke-width":n.opacity?p.lineWidth/this.scale:null});return this.append(h,a,0)};pv.SvgScene.areaSegment=function(a){var t=a.$g.firstChild,l=a[0],q,g;if(l.interpolate=="basis"||l.interpolate=="cardinal"||l.interpolate=="monotone"){var f=[],k=[];for(var r=0,m=a.length;r<m;r++){var v=a[m-r-1];f.push(a[r]);k.push({left:v.left+v.width,top:v.top+v.height})}if(l.interpolate=="basis"){q=this.curveBasisSegments(f);g=this.curveBasisSegments(k)}else{if(l.interpolate=="cardinal"){q=this.curveCardinalSegments(f,l.tension);g=this.curveCardinalSegments(k,l.tension)}else{q=this.curveMonotoneSegments(f);g=this.curveMonotoneSegments(k)}}}for(var r=0,m=a.length-1;r<m;r++){var c=a[r],b=a[r+1];if(!c.visible||!b.visible){continue}var p=c.fillStyle,j=c.strokeStyle;if(!p.opacity&&!j.opacity){continue}var u;if(q){var h=q[r],o="L"+g[m-r-1].substr(1);u=h+o+"Z"}else{var w=c,v=b;switch(c.interpolate){case"step-before":w=b;break;case"step-after":v=c;break}u="M"+c.left+","+w.top+"L"+b.left+","+v.top+"L"+(b.left+b.width)+","+(v.top+v.height)+"L"+(c.left+c.width)+","+(w.top+w.height)+"Z"}t=this.expect(t,"path",{"shape-rendering":c.antialias?null:"crispEdges","pointer-events":c.events,cursor:c.cursor,d:u,fill:p.color,"fill-opacity":p.opacity||null,stroke:j.color,"stroke-opacity":j.opacity||null,"stroke-width":j.opacity?c.lineWidth/this.scale:null});t=this.append(t,a,r)}return t};pv.SvgScene.bar=function(a){var g=a.$g.firstChild;for(var b=0;b<a.length;b++){var c=a[b];if(!c.visible){continue}var f=c.fillStyle,d=c.strokeStyle;if(!f.opacity&&!d.opacity){continue}g=this.expect(g,"rect",{"shape-rendering":c.antialias?null:"crispEdges","pointer-events":c.events,cursor:c.cursor,x:c.left,y:c.top,width:Math.max(1e-10,c.width),height:Math.max(1e-10,c.height),fill:f.color,"fill-opacity":f.opacity||null,stroke:d.color,"stroke-opacity":d.opacity||null,"stroke-width":d.opacity?c.lineWidth/this.scale:null});g=this.append(g,a,b)}return g};pv.SvgScene.dot=function(a){var g=a.$g.firstChild;for(var b=0;b<a.length;b++){var n=a[b];if(!n.visible){continue}var k=n.fillStyle,l=n.strokeStyle;if(!k.opacity&&!l.opacity){continue}var f=n.radius,m=null;switch(n.shape){case"cross":m="M"+-f+","+-f+"L"+f+","+f+"M"+f+","+-f+"L"+-f+","+f;break;case"triangle":var d=f,j=f*1.1547;m="M0,"+d+"L"+j+","+-d+" "+-j+","+-d+"Z";break;case"diamond":f*=Math.SQRT2;m="M0,"+-f+"L"+f+",0 0,"+f+" "+-f+",0Z";break;case"square":m="M"+-f+","+-f+"L"+f+","+-f+" "+f+","+f+" "+-f+","+f+"Z";break;case"tick":m="M0,0L0,"+-n.size;break;case"bar":m="M0,"+(n.size/2)+"L0,"+-(n.size/2);break}var c={"shape-rendering":n.antialias?null:"crispEdges","pointer-events":n.events,cursor:n.cursor,fill:k.color,"fill-opacity":k.opacity||null,stroke:l.color,"stroke-opacity":l.opacity||null,"stroke-width":l.opacity?n.lineWidth/this.scale:null};if(m){c.transform="translate("+n.left+","+n.top+")";if(n.angle){c.transform+=" rotate("+180*n.angle/Math.PI+")"}c.d=m;g=this.expect(g,"path",c)}else{c.cx=n.left;c.cy=n.top;c.r=f;g=this.expect(g,"circle",c)}g=this.append(g,a,b)}return g};pv.SvgScene.image=function(a){var f=a.$g.firstChild;for(var b=0;b<a.length;b++){var d=a[b];if(!d.visible){continue}f=this.fill(f,a,b);if(d.image){f=this.expect(f,"foreignObject",{cursor:d.cursor,x:d.left,y:d.top,width:d.width,height:d.height});var g=f.firstChild||f.appendChild(document.createElementNS(this.xhtml,"canvas"));g.$scene={scenes:a,index:b};g.style.width=d.width;g.style.height=d.height;g.width=d.imageWidth;g.height=d.imageHeight;g.getContext("2d").putImageData(d.image,0,0)}else{f=this.expect(f,"image",{preserveAspectRatio:"none",cursor:d.cursor,x:d.left,y:d.top,width:d.width,height:d.height});f.setAttributeNS(this.xlink,"href",d.url)}f=this.append(f,a,b);f=this.stroke(f,a,b)}return f};pv.SvgScene.label=function(a){var d=a.$g.firstChild;for(var c=0;c<a.length;c++){var k=a[c];if(!k.visible){continue}var h=k.textStyle;if(!h.opacity||!k.text){continue}var g=0,f=0,j=0,b="start";switch(k.textBaseline){case"middle":j=".35em";break;case"top":j=".71em";f=k.textMargin;break;case"bottom":f="-"+k.textMargin;break}switch(k.textAlign){case"right":b="end";g="-"+k.textMargin;break;case"center":b="middle";break;case"left":g=k.textMargin;break}d=this.expect(d,"text",{"pointer-events":k.events,cursor:k.cursor,x:g,y:f,dy:j,transform:"translate("+k.left+","+k.top+")"+(k.textAngle?" rotate("+180*k.textAngle/Math.PI+")":"")+(this.scale!=1?" scale("+1/this.scale+")":""),fill:h.color,"fill-opacity":h.opacity||null,"text-anchor":b},{font:k.font,"text-shadow":k.textShadow,"text-decoration":k.textDecoration});if(d.firstChild){d.firstChild.nodeValue=k.text}else{d.appendChild(document.createTextNode(k.text))}d=this.append(d,a,c)}return d};pv.SvgScene.line=function(a){var h=a.$g.firstChild;if(a.length<2){return h}var c=a[0];if(c.segmented){return this.lineSegment(a)}if(!c.visible){return h}var g=c.fillStyle,f=c.strokeStyle;if(!g.opacity&&!f.opacity){return h}var j="M"+c.left+","+c.top;if(a.length>2&&(c.interpolate=="basis"||c.interpolate=="cardinal"||c.interpolate=="monotone")){switch(c.interpolate){case"basis":j+=this.curveBasis(a);break;case"cardinal":j+=this.curveCardinal(a,c.tension);break;case"monotone":j+=this.curveMonotone(a);break}}else{for(var b=1;b<a.length;b++){j+=this.pathSegment(a[b-1],a[b])}}h=this.expect(h,"path",{"shape-rendering":c.antialias?null:"crispEdges","pointer-events":c.events,cursor:c.cursor,d:j,fill:g.color,"fill-opacity":g.opacity||null,stroke:f.color,"stroke-opacity":f.opacity||null,"stroke-width":f.opacity?c.lineWidth/this.scale:null,"stroke-linejoin":c.lineJoin});return this.append(h,a,0)};pv.SvgScene.lineSegment=function(a){var f=a.$g.firstChild;var o=a[0];var m;switch(o.interpolate){case"basis":m=this.curveBasisSegments(a);break;case"cardinal":m=this.curveCardinalSegments(a,o.tension);break;case"monotone":m=this.curveMonotoneSegments(a);break}for(var c=0,b=a.length-1;c<b;c++){var j=a[c],h=a[c+1];if(!j.visible||!h.visible){continue}var l=j.strokeStyle,k=pv.Color.transparent;if(!l.opacity){continue}var g;if((j.interpolate=="linear")&&(j.lineJoin=="miter")){k=l;l=pv.Color.transparent;g=this.pathJoin(a[c-1],j,h,a[c+2])}else{if(m){g=m[c]}else{g="M"+j.left+","+j.top+this.pathSegment(j,h)}}f=this.expect(f,"path",{"shape-rendering":j.antialias?null:"crispEdges","pointer-events":j.events,cursor:j.cursor,d:g,fill:k.color,"fill-opacity":k.opacity||null,stroke:l.color,"stroke-opacity":l.opacity||null,"stroke-width":l.opacity?j.lineWidth/this.scale:null,"stroke-linejoin":j.lineJoin});f=this.append(f,a,c)}return f};pv.SvgScene.pathSegment=function(f,d){var b=1;switch(f.interpolate){case"polar-reverse":b=0;case"polar":var c=d.left-f.left,a=d.top-f.top,h=1-f.eccentricity,g=Math.sqrt(c*c+a*a)/(2*h);if((h<=0)||(h>1)){break}return"A"+g+","+g+" 0 0,"+b+" "+d.left+","+d.top;case"step-before":return"V"+d.top+"H"+d.left;case"step-after":return"H"+d.left+"V"+d.top}return"L"+d.left+","+d.top};pv.SvgScene.lineIntersect=function(d,c,b,a){return d.plus(c.times(b.minus(d).dot(a.perp())/c.dot(a.perp())))};pv.SvgScene.pathJoin=function(u,r,o,l){var t=pv.vector(r.left,r.top),q=pv.vector(o.left,o.top),f=q.minus(t),s=f.perp().norm(),n=s.times(r.lineWidth/(2*this.scale)),k=t.plus(n),i=q.plus(n),h=q.minus(n),g=t.minus(n);if(u&&u.visible){var m=t.minus(u.left,u.top).perp().norm().plus(s);g=this.lineIntersect(t,m,g,f);k=this.lineIntersect(t,m,k,f)}if(l&&l.visible){var j=pv.vector(l.left,l.top).minus(q).perp().norm().plus(s);h=this.lineIntersect(q,j,h,f);i=this.lineIntersect(q,j,i,f)}return"M"+k.x+","+k.y+"L"+i.x+","+i.y+" "+h.x+","+h.y+" "+g.x+","+g.y};pv.SvgScene.panel=function(b){var m=b.$g,n=m&&m.firstChild;for(var l=0;l<b.length;l++){var v=b[l];if(!v.visible){continue}if(!b.parent){v.canvas.style.display="inline-block";if(m&&(m.parentNode!=v.canvas)){m=v.canvas.firstChild;n=m&&m.firstChild}if(!m){m=v.canvas.appendChild(this.create("svg"));m.setAttribute("font-size","10px");m.setAttribute("font-family","sans-serif");m.setAttribute("fill","none");m.setAttribute("stroke","none");m.setAttribute("stroke-width",1.5);for(var h=0;h<this.events.length;h++){m.addEventListener(this.events[h],this.dispatch,false)}n=m.firstChild}b.$g=m;m.setAttribute("width",v.width+v.left+v.right);m.setAttribute("height",v.height+v.top+v.bottom)}if(v.overflow=="hidden"){var d=pv.id().toString(36),o=this.expect(n,"g",{"clip-path":"url(#"+d+")"});if(!o.parentNode){m.appendChild(o)}b.$g=m=o;n=o.firstChild;n=this.expect(n,"clipPath",{id:d});var a=n.firstChild||n.appendChild(this.create("rect"));a.setAttribute("x",v.left);a.setAttribute("y",v.top);a.setAttribute("width",v.width);a.setAttribute("height",v.height);if(!n.parentNode){m.appendChild(n)}n=n.nextSibling}n=this.fill(n,b,l);var f=this.scale,u=v.transform,q=v.left+u.x,p=v.top+u.y;this.scale*=u.k;for(var h=0;h<v.children.length;h++){v.children[h].$g=n=this.expect(n,"g",{transform:"translate("+q+","+p+")"+(u.k!=1?" scale("+u.k+")":"")});this.updateAll(v.children[h]);if(!n.parentNode){m.appendChild(n)}n=n.nextSibling}this.scale=f;n=this.stroke(n,b,l);if(v.overflow=="hidden"){b.$g=m=o.parentNode;n=o.nextSibling}}return n};pv.SvgScene.fill=function(f,a,b){var c=a[b],d=c.fillStyle;if(d.opacity||c.events=="all"){f=this.expect(f,"rect",{"shape-rendering":c.antialias?null:"crispEdges","pointer-events":c.events,cursor:c.cursor,x:c.left,y:c.top,width:c.width,height:c.height,fill:d.color,"fill-opacity":d.opacity,stroke:null});f=this.append(f,a,b)}return f};pv.SvgScene.stroke=function(f,a,b){var c=a[b],d=c.strokeStyle;if(d.opacity||c.events=="all"){f=this.expect(f,"rect",{"shape-rendering":c.antialias?null:"crispEdges","pointer-events":c.events=="all"?"stroke":c.events,cursor:c.cursor,x:c.left,y:c.top,width:Math.max(1e-10,c.width),height:Math.max(1e-10,c.height),fill:null,stroke:d.color,"stroke-opacity":d.opacity,"stroke-width":c.lineWidth/this.scale});f=this.append(f,a,b)}return f};pv.SvgScene.rule=function(a){var f=a.$g.firstChild;for(var b=0;b<a.length;b++){var c=a[b];if(!c.visible){continue}var d=c.strokeStyle;if(!d.opacity){continue}f=this.expect(f,"line",{"shape-rendering":c.antialias?null:"crispEdges","pointer-events":c.events,cursor:c.cursor,x1:c.left,y1:c.top,x2:c.left+c.width,y2:c.top+c.height,stroke:d.color,"stroke-opacity":d.opacity,"stroke-width":c.lineWidth/this.scale});f=this.append(f,a,b)}return f};pv.SvgScene.wedge=function(b){var k=b.$g.firstChild;for(var j=0;j<b.length;j++){var u=b[j];if(!u.visible){continue}var r=u.fillStyle,t=u.strokeStyle;if(!r.opacity&&!t.opacity){continue}var f=u.innerRadius,d=u.outerRadius,n=Math.abs(u.angle),c;if(n>=2*Math.PI){if(f){c="M0,"+d+"A"+d+","+d+" 0 1,1 0,"+(-d)+"A"+d+","+d+" 0 1,1 0,"+d+"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+(-f)+"A"+f+","+f+" 0 1,1 0,"+f+"Z"}else{c="M0,"+d+"A"+d+","+d+" 0 1,1 0,"+(-d)+"A"+d+","+d+" 0 1,1 0,"+d+"Z"}}else{var m=Math.min(u.startAngle,u.endAngle),l=Math.max(u.startAngle,u.endAngle),h=Math.cos(m),g=Math.cos(l),q=Math.sin(m),o=Math.sin(l);if(f){c="M"+d*h+","+d*q+"A"+d+","+d+" 0 "+((n<Math.PI)?"0":"1")+",1 "+d*g+","+d*o+"L"+f*g+","+f*o+"A"+f+","+f+" 0 "+((n<Math.PI)?"0":"1")+",0 "+f*h+","+f*q+"Z"}else{c="M"+d*h+","+d*q+"A"+d+","+d+" 0 "+((n<Math.PI)?"0":"1")+",1 "+d*g+","+d*o+"L0,0Z"}}k=this.expect(k,"path",{"shape-rendering":u.antialias?null:"crispEdges","pointer-events":u.events,cursor:u.cursor,transform:"translate("+u.left+","+u.top+")",d:c,fill:r.color,"fill-rule":"evenodd","fill-opacity":r.opacity||null,stroke:t.color,"stroke-opacity":t.opacity||null,"stroke-width":t.opacity?u.lineWidth/this.scale:null});k=this.append(k,b,j)}return k};pv.Mark=function(){this.$properties=[];this.$handlers={}};pv.Mark.prototype.properties={};pv.Mark.cast={};pv.Mark.prototype.property=function(b,a){if(!this.hasOwnProperty("properties")){this.properties=pv.extend(this.properties)}this.properties[b]=true;pv.Mark.prototype.propertyMethod(b,false,pv.Mark.cast[b]=a);return this};pv.Mark.prototype.propertyMethod=function(b,c,a){if(!a){a=pv.Mark.cast[b]}this[b]=function(f){if(c&&this.scene){var d=this.scene.defs;if(arguments.length){d[b]={id:(f==null)?0:pv.id(),value:((f!=null)&&a)?a(f):f};return this}return d[b]?d[b].value:null}if(arguments.length){var g=!c<<1|(typeof f=="function");this.propertyValue(b,(g&1&&a)?function(){var h=f.apply(this,arguments);return(h!=null)?a(h):null}:(((f!=null)&&a)?a(f):f)).type=g;return this}return this.instance()[b]}};pv.Mark.prototype.propertyValue=function(b,a){var d=this.$properties,f={name:b,id:pv.id(),value:a};for(var c=0;c<d.length;c++){if(d[c].name==b){d.splice(c,1);break}}d.push(f);return f};pv.Mark.prototype.property("data").property("visible",Boolean).property("left",Number).property("right",Number).property("top",Number).property("bottom",Number).property("cursor",String).property("title",String).property("reverse",Boolean).property("antialias",Boolean).property("events",String);pv.Mark.prototype.childIndex=-1;pv.Mark.prototype.index=-1;pv.Mark.prototype.scale=1;pv.Mark.prototype.defaults=new pv.Mark().data(function(a){return[a]}).visible(true).antialias(true).events("painted");pv.Mark.prototype.extend=function(a){this.proto=a;return this};pv.Mark.prototype.add=function(a){return this.parent.add(a).extend(this)};pv.Mark.prototype.def=function(b,a){this.propertyMethod(b,true);return this[b](arguments.length>1?a:null)};pv.Mark.prototype.anchor=function(a){var d=this,c;if(!a){a="center"}function b(j){var k=d,f=[];while(!(c=k.scene)){j=j.parent;f.push({index:j.index,childIndex:k.childIndex});k=k.parent}while(f.length){var g=f.pop();c=c[g.index].children[g.childIndex]}if(d.hasOwnProperty("index")){var h=pv.extend(c[d.index]);h.right=h.top=h.left=h.bottom=0;return[h]}return c}return new pv.Anchor(this).name(a).def("$mark.anchor",function(){c=this.scene.target=b(this)}).data(function(){return c.map(function(f){return f.data})}).visible(function(){return c[this.index].visible}).left(function(){var g=c[this.index],f=g.width||0;switch(this.name()){case"bottom":case"top":case"center":return g.left+f/2;case"left":return null}return g.left+f}).top(function(){var g=c[this.index],f=g.height||0;switch(this.name()){case"left":case"right":case"center":return g.top+f/2;case"top":return null}return g.top+f}).right(function(){var f=c[this.index];return this.name()=="left"?f.right+(f.width||0):null}).bottom(function(){var f=c[this.index];return this.name()=="top"?f.bottom+(f.height||0):null}).textAlign(function(){switch(this.name()){case"bottom":case"top":case"center":return"center";case"right":return"right"}return"left"}).textBaseline(function(){switch(this.name()){case"right":case"left":case"center":return"middle";case"top":return"top"}return"bottom"})};pv.Mark.prototype.anchorTarget=function(){return this.proto.anchorTarget()};pv.Mark.prototype.margin=function(a){return this.left(a).right(a).top(a).bottom(a)};pv.Mark.prototype.instance=function(c){var b=this.scene||this.parent.instance(-1).children[this.childIndex],a=!arguments.length||this.hasOwnProperty("index")?this.index:c;return b[a<0?b.length-1:a]};pv.Mark.prototype.first=function(){return this.scene[0]};pv.Mark.prototype.last=function(){return this.scene[this.scene.length-1]};pv.Mark.prototype.sibling=function(){return(this.index==0)?null:this.scene[this.index-1]};pv.Mark.prototype.cousin=function(){var b=this.parent,a=b&&b.sibling();return(a&&a.children)?a.children[this.childIndex][this.index]:null};pv.Mark.prototype.render=function(){var d=this.parent,a=pv.Mark.stack;if(d&&!this.root.scene){this.root.render();return}var b=[];for(var g=this;g.parent;g=g.parent){b.unshift(g.childIndex)}function c(m,k,j){m.scale=j;if(k<b.length){a.unshift(null);if(m.hasOwnProperty("index")){f(m,k,j)}else{for(var h=0,l=m.scene.length;h<l;h++){m.index=h;f(m,k,j)}delete m.index}a.shift()}else{m.build();pv.Scene.scale=j;pv.Scene.updateAll(m.scene)}delete m.scale}function f(o,l,k){var j=o.scene[o.index],h;if(j.visible){var n=b[l],m=o.children[n];for(h=0;h<n;h++){o.children[h].scene=j.children[h]}a[0]=j.data;if(m.scene){c(m,l+1,k*j.transform.k)}else{m.scene=j.children[n];c(m,l+1,k*j.transform.k);delete m.scene}for(h=0;h<n;h++){delete o.children[h].scene}}}this.bind();while(d&&!d.hasOwnProperty("index")){d=d.parent}this.context(d?d.scene:undefined,d?d.index:-1,function(){c(this.root,0,1)})};pv.Mark.stack=[];pv.Mark.prototype.bind=function(){var a={},j=[[],[],[],[]],h,c;function k(o){do{var m=o.$properties;for(var l=m.length-1;l>=0;l--){var n=m[l];if(!(n.name in a)){a[n.name]=n;switch(n.name){case"data":h=n;break;case"visible":c=n;break;default:j[n.type].push(n);break}}}}while(o=o.proto)}k(this);k(this.defaults);j[1].reverse();j[3].reverse();var d=this;do{for(var b in d.properties){if(!(b in a)){j[2].push(a[b]={name:b,type:2,value:null})}}}while(d=d.proto);var f=j[0].concat(j[1]);for(var g=0;g<f.length;g++){this.propertyMethod(f[g].name,true)}this.binds={properties:a,data:h,defs:f,required:[c],optional:pv.blend(j)}};pv.Mark.prototype.build=function(){var j=this.scene,b=pv.Mark.stack;if(!j){j=this.scene=[];j.mark=this;j.type=this.type;j.childIndex=this.childIndex;if(this.parent){j.parent=this.parent.scene;j.parentIndex=this.parent.index}}if(this.binds.defs.length){var a=j.defs;if(!a){j.defs=a={}}for(var c=0;c<this.binds.defs.length;c++){var h=this.binds.defs[c],k=a[h.name];if(!k||(h.id>k.id)){a[h.name]={id:0,value:(h.type&1)?h.value.apply(this,b):h.value}}}}var g=this.binds.data;g=g.type&1?g.value.apply(this,b):g.value;b.unshift(null);j.length=g.length;for(var c=0;c<g.length;c++){pv.Mark.prototype.index=this.index=c;var f=j[c];if(!f){j[c]=f={}}f.data=b[0]=g[c];this.buildInstance(f)}pv.Mark.prototype.index=-1;delete this.index;b.shift();return this};pv.Mark.prototype.buildProperties=function(d,c){for(var b=0,g=c.length;b<g;b++){var f=c[b],a=f.value;switch(f.type){case 0:case 1:a=this.scene.defs[f.name].value;break;case 3:a=a.apply(this,pv.Mark.stack);break}d[f.name]=a}};pv.Mark.prototype.buildInstance=function(a){this.buildProperties(a,this.binds.required);if(a.visible){this.buildProperties(a,this.binds.optional);this.buildImplied(a)}};pv.Mark.prototype.buildImplied=function(n){var f=n.left;var a=n.right;var m=n.top;var i=n.bottom;var d=this.properties;var j=d.width?n.width:0;var g=d.height?n.height:0;var c=this.parent?this.parent.width():(j+f+a);if(j==null){j=c-(a=a||0)-(f=f||0)}else{if(a==null){a=c-j-(f=f||0)}else{if(f==null){f=c-j-(a=a||0)}}}var k=this.parent?this.parent.height():(g+m+i);if(g==null){g=k-(m=m||0)-(i=i||0)}else{if(i==null){i=k-g-(m=m||0)}else{if(m==null){m=k-g-(i=i||0)}}}n.left=f;n.right=a;n.top=m;n.bottom=i;if(d.width){n.width=j}if(d.height){n.height=g}if(d.textStyle&&!n.textStyle){n.textStyle=pv.Color.transparent}if(d.fillStyle&&!n.fillStyle){n.fillStyle=pv.Color.transparent}if(d.strokeStyle&&!n.strokeStyle){n.strokeStyle=pv.Color.transparent}};pv.Mark.prototype.mouse=function(){var a=pv.event.pageX||0,g=pv.event.pageY||0,f=this.root.canvas();do{a-=f.offsetLeft;g-=f.offsetTop}while(f=f.offsetParent);var c=pv.Transform.identity,d=this.properties.transform?this:this.parent,b=[];do{b.push(d)}while(d=d.parent);while(d=b.pop()){c=c.translate(d.left(),d.top()).times(d.transform())}c=c.invert();return pv.vector(a*c.k+c.x,g*c.k+c.y)};pv.Mark.prototype.event=function(b,a){this.$handlers[b]=pv.functor(a);return this};pv.Mark.prototype.context=function(b,h,g){var c=pv.Mark.prototype,j=pv.Mark.stack,d=pv.Mark.scene,i=c.index;function k(q,l){pv.Mark.scene=q;c.index=l;if(!q){return}var p=q.mark,s=p,o=[];do{o.push(s);j.push(q[l].data);s.index=l;s.scene=q;l=q.parentIndex;q=q.parent}while(s=s.parent);for(var m=o.length-1,f=1;m>0;m--){s=o[m];s.scale=f;f*=s.scene[s.index].transform.k}if(p.children){for(var m=0,r=p.children.length;m<r;m++){s=p.children[m];s.scene=p.scene[p.index].children[m];s.scale=f}}}function a(o,f){if(!o){return}var m=o.mark,q;if(m.children){for(var l=0,p=m.children.length;l<p;l++){q=m.children[l];delete q.scene;delete q.scale}}q=m;do{j.pop();if(q.parent){delete q.scene;delete q.scale}delete q.index}while(q=q.parent)}a(d,i);k(b,h);try{g.apply(this,j)}finally{a(b,h);k(d,i)}};pv.Mark.dispatch=function(d,g,c){var a=g.mark,f=g.parent,b=a.$handlers[d];if(!b){return f&&pv.Mark.dispatch(d,f,g.parentIndex)}a.context(g,c,function(){a=b.apply(a,pv.Mark.stack);if(a&&a.render){a.render()}});return true};pv.Anchor=function(a){pv.Mark.call(this);this.target=a;this.parent=a.parent};pv.Anchor.prototype=pv.extend(pv.Mark).property("name",String);pv.Anchor.prototype.anchorTarget=function(){return this.target};pv.Area=function(){pv.Mark.call(this)};pv.Area.prototype=pv.extend(pv.Mark).property("width",Number).property("height",Number).property("lineWidth",Number).property("strokeStyle",pv.color).property("fillStyle",pv.color).property("segmented",Boolean).property("interpolate",String).property("tension",Number);pv.Area.prototype.type="area";pv.Area.prototype.defaults=new pv.Area().extend(pv.Mark.prototype.defaults).lineWidth(1.5).fillStyle(pv.Colors.category20().by(pv.parent)).interpolate("linear").tension(0.7);pv.Area.prototype.buildImplied=function(a){if(a.height==null){a.height=0}if(a.width==null){a.width=0}pv.Mark.prototype.buildImplied.call(this,a)};pv.Area.fixed={lineWidth:1,lineJoin:1,strokeStyle:1,fillStyle:1,segmented:1,interpolate:1,tension:1};pv.Area.prototype.bind=function(){pv.Mark.prototype.bind.call(this);var c=this.binds,f=c.required,a=c.optional;for(var b=0,g=a.length;b<g;b++){var d=a[b];d.fixed=d.name in pv.Area.fixed;if(d.name=="segmented"){f.push(d);a.splice(b,1);b--;g--}}this.binds.$required=f;this.binds.$optional=a};pv.Area.prototype.buildInstance=function(c){var b=this.binds;if(this.index){var d=b.fixed;if(!d){d=b.fixed=[];function g(f){return !f.fixed||(d.push(f),false)}b.required=b.required.filter(g);if(!this.scene[0].segmented){b.optional=b.optional.filter(g)}}for(var a=0,j=d.length;a<j;a++){var h=d[a].name;c[h]=this.scene[0][h]}}else{b.required=b.$required;b.optional=b.$optional;b.fixed=null}pv.Mark.prototype.buildInstance.call(this,c)};pv.Area.prototype.anchor=function(a){var b;return pv.Mark.prototype.anchor.call(this,a).def("$area.anchor",function(){b=this.scene.target}).interpolate(function(){return b[this.index].interpolate}).eccentricity(function(){return b[this.index].eccentricity}).tension(function(){return b[this.index].tension})};pv.Bar=function(){pv.Mark.call(this)};pv.Bar.prototype=pv.extend(pv.Mark).property("width",Number).property("height",Number).property("lineWidth",Number).property("strokeStyle",pv.color).property("fillStyle",pv.color);pv.Bar.prototype.type="bar";pv.Bar.prototype.defaults=new pv.Bar().extend(pv.Mark.prototype.defaults).lineWidth(1.5).fillStyle(pv.Colors.category20().by(pv.parent));pv.Dot=function(){pv.Mark.call(this)};pv.Dot.prototype=pv.extend(pv.Mark).property("size",Number).property("radius",Number).property("shape",String).property("angle",Number).property("lineWidth",Number).property("strokeStyle",pv.color).property("fillStyle",pv.color);pv.Dot.prototype.type="dot";pv.Dot.prototype.defaults=new pv.Dot().extend(pv.Mark.prototype.defaults).size(20).shape("circle").lineWidth(1.5).strokeStyle(pv.Colors.category10().by(pv.parent));pv.Dot.prototype.anchor=function(a){var b;return pv.Mark.prototype.anchor.call(this,a).def("$wedge.anchor",function(){b=this.scene.target}).left(function(){var c=b[this.index];switch(this.name()){case"bottom":case"top":case"center":return c.left;case"left":return null}return c.left+c.radius}).right(function(){var c=b[this.index];return this.name()=="left"?c.right+c.radius:null}).top(function(){var c=b[this.index];switch(this.name()){case"left":case"right":case"center":return c.top;case"top":return null}return c.top+c.radius}).bottom(function(){var c=b[this.index];return this.name()=="top"?c.bottom+c.radius:null}).textAlign(function(){switch(this.name()){case"left":return"right";case"bottom":case"top":case"center":return"center"}return"left"}).textBaseline(function(){switch(this.name()){case"right":case"left":case"center":return"middle";case"bottom":return"top"}return"bottom"})};pv.Dot.prototype.buildImplied=function(a){if(a.radius==null){a.radius=Math.sqrt(a.size)}else{if(a.size==null){a.size=a.radius*a.radius}}pv.Mark.prototype.buildImplied.call(this,a)};pv.Label=function(){pv.Mark.call(this)};pv.Label.prototype=pv.extend(pv.Mark).property("text",String).property("font",String).property("textAngle",Number).property("textStyle",pv.color).property("textAlign",String).property("textBaseline",String).property("textMargin",Number).property("textDecoration",String).property("textShadow",String);pv.Label.prototype.type="label";pv.Label.prototype.defaults=new pv.Label().extend(pv.Mark.prototype.defaults).events("none").text(pv.identity).font("10px sans-serif").textAngle(0).textStyle("black").textAlign("left").textBaseline("bottom").textMargin(3);pv.Line=function(){pv.Mark.call(this)};pv.Line.prototype=pv.extend(pv.Mark).property("lineWidth",Number).property("lineJoin",String).property("strokeStyle",pv.color).property("fillStyle",pv.color).property("segmented",Boolean).property("interpolate",String).property("eccentricity",Number).property("tension",Number);pv.Line.prototype.type="line";pv.Line.prototype.defaults=new pv.Line().extend(pv.Mark.prototype.defaults).lineJoin("miter").lineWidth(1.5).strokeStyle(pv.Colors.category10().by(pv.parent)).interpolate("linear").eccentricity(0).tension(0.7);pv.Line.prototype.bind=pv.Area.prototype.bind;pv.Line.prototype.buildInstance=pv.Area.prototype.buildInstance;pv.Line.prototype.anchor=function(a){return pv.Area.prototype.anchor.call(this,a).textAlign(function(b){switch(this.name()){case"left":return"right";case"bottom":case"top":case"center":return"center";case"right":return"left"}}).textBaseline(function(b){switch(this.name()){case"right":case"left":case"center":return"middle";case"top":return"bottom";case"bottom":return"top"}})};pv.Rule=function(){pv.Mark.call(this)};pv.Rule.prototype=pv.extend(pv.Mark).property("width",Number).property("height",Number).property("lineWidth",Number).property("strokeStyle",pv.color);pv.Rule.prototype.type="rule";pv.Rule.prototype.defaults=new pv.Rule().extend(pv.Mark.prototype.defaults).lineWidth(1).strokeStyle("black").antialias(false);pv.Rule.prototype.anchor=pv.Line.prototype.anchor;pv.Rule.prototype.buildImplied=function(f){var c=f.left,g=f.right,d=f.top,a=f.bottom;if((f.width!=null)||((c==null)&&(g==null))||((g!=null)&&(c!=null))){f.height=0}else{f.width=0}pv.Mark.prototype.buildImplied.call(this,f)};pv.Panel=function(){pv.Bar.call(this);this.children=[];this.root=this;this.$dom=pv.$&&pv.$.s};pv.Panel.prototype=pv.extend(pv.Bar).property("transform").property("overflow",String).property("canvas",function(a){return(typeof a=="string")?document.getElementById(a):a});pv.Panel.prototype.type="panel";pv.Panel.prototype.defaults=new pv.Panel().extend(pv.Bar.prototype.defaults).fillStyle(null).overflow("visible");pv.Panel.prototype.anchor=function(b){var a=pv.Bar.prototype.anchor.call(this,b);a.parent=this;return a};pv.Panel.prototype.add=function(a){var b=new a();b.parent=this;b.root=this.root;b.childIndex=this.children.length;this.children.push(b);return b};pv.Panel.prototype.bind=function(){pv.Mark.prototype.bind.call(this);for(var a=0;a<this.children.length;a++){this.children[a].bind()}};pv.Panel.prototype.buildInstance=function(b){pv.Bar.prototype.buildInstance.call(this,b);if(!b.visible){return}if(!b.children){b.children=[]}var c=this.scale*b.transform.k,f,d=this.children.length;pv.Mark.prototype.index=-1;for(var a=0;a<d;a++){f=this.children[a];f.scene=b.children[a];f.scale=c;f.build()}for(var a=0;a<d;a++){f=this.children[a];b.children[a]=f.scene;delete f.scene;delete f.scale}b.children.length=d};pv.Panel.prototype.buildImplied=function(f){if(!this.parent){var i=f.canvas;if(i){if(i.$panel!=this){i.$panel=this;while(i.lastChild){i.removeChild(i.lastChild)}}var a,d;if(f.width==null){a=parseFloat(pv.css(i,"width"));f.width=a-f.left-f.right}if(f.height==null){d=parseFloat(pv.css(i,"height"));f.height=d-f.top-f.bottom}}else{var b=this.$canvas||(this.$canvas=[]);if(!(i=b[this.index])){i=b[this.index]=document.createElement("span");if(this.$dom){this.$dom.parentNode.insertBefore(i,this.$dom)}else{var g=document.body;while(g.lastChild&&g.lastChild.tagName){g=g.lastChild}if(g!=document.body){g=g.parentNode}g.appendChild(i)}}}f.canvas=i}if(!f.transform){f.transform=pv.Transform.identity}pv.Mark.prototype.buildImplied.call(this,f)};pv.Image=function(){pv.Bar.call(this)};pv.Image.prototype=pv.extend(pv.Bar).property("url",String).property("imageWidth",Number).property("imageHeight",Number);pv.Image.prototype.type="image";pv.Image.prototype.defaults=new pv.Image().extend(pv.Bar.prototype.defaults).fillStyle(null);pv.Image.prototype.image=function(a){this.$image=function(){var b=a.apply(this,arguments);return b==null?pv.Color.transparent:typeof b=="string"?pv.color(b):b};return this};pv.Image.prototype.bind=function(){pv.Bar.prototype.bind.call(this);var a=this.binds,b=this;do{a.image=b.$image}while(!a.image&&(b=b.proto))};pv.Image.prototype.buildImplied=function(m){pv.Bar.prototype.buildImplied.call(this,m);if(!m.visible){return}if(m.imageWidth==null){m.imageWidth=m.width}if(m.imageHeight==null){m.imageHeight=m.height}if((m.url==null)&&this.binds.image){var c=this.$canvas||(this.$canvas=document.createElement("canvas")),b=c.getContext("2d"),l=m.imageWidth,g=m.imageHeight,j=pv.Mark.stack,f;c.width=l;c.height=g;f=(m.image=b.createImageData(l,g)).data;j.unshift(null,null);for(var i=0,a=0;i<g;i++){j[1]=i;for(var k=0;k<l;k++){j[0]=k;var d=this.binds.image.apply(this,j);f[a++]=d.r;f[a++]=d.g;f[a++]=d.b;f[a++]=255*d.a}}j.splice(0,2)}};pv.Wedge=function(){pv.Mark.call(this)};pv.Wedge.prototype=pv.extend(pv.Mark).property("startAngle",Number).property("endAngle",Number).property("angle",Number).property("innerRadius",Number).property("outerRadius",Number).property("lineWidth",Number).property("strokeStyle",pv.color).property("fillStyle",pv.color);pv.Wedge.prototype.type="wedge";pv.Wedge.prototype.defaults=new pv.Wedge().extend(pv.Mark.prototype.defaults).startAngle(function(){var a=this.sibling();return a?a.endAngle:-Math.PI/2}).innerRadius(0).lineWidth(1.5).strokeStyle(null).fillStyle(pv.Colors.category20().by(pv.index));pv.Wedge.prototype.midRadius=function(){return(this.innerRadius()+this.outerRadius())/2};pv.Wedge.prototype.midAngle=function(){return(this.startAngle()+this.endAngle())/2};pv.Wedge.prototype.anchor=function(c){function b(g){return g.innerRadius||g.angle<2*Math.PI}function a(g){return(g.innerRadius+g.outerRadius)/2}function f(g){return(g.startAngle+g.endAngle)/2}var d;return pv.Mark.prototype.anchor.call(this,c).def("$wedge.anchor",function(){d=this.scene.target}).left(function(){var g=d[this.index];if(b(g)){switch(this.name()){case"outer":return g.left+g.outerRadius*Math.cos(f(g));case"inner":return g.left+g.innerRadius*Math.cos(f(g));case"start":return g.left+a(g)*Math.cos(g.startAngle);case"center":return g.left+a(g)*Math.cos(f(g));case"end":return g.left+a(g)*Math.cos(g.endAngle)}}return g.left}).top(function(){var g=d[this.index];if(b(g)){switch(this.name()){case"outer":return g.top+g.outerRadius*Math.sin(f(g));case"inner":return g.top+g.innerRadius*Math.sin(f(g));case"start":return g.top+a(g)*Math.sin(g.startAngle);case"center":return g.top+a(g)*Math.sin(f(g));case"end":return g.top+a(g)*Math.sin(g.endAngle)}}return g.top}).textAlign(function(){var g=d[this.index];if(b(g)){switch(this.name()){case"outer":return pv.Wedge.upright(f(g))?"right":"left";case"inner":return pv.Wedge.upright(f(g))?"left":"right"}}return"center"}).textBaseline(function(){var g=d[this.index];if(b(g)){switch(this.name()){case"start":return pv.Wedge.upright(g.startAngle)?"top":"bottom";case"end":return pv.Wedge.upright(g.endAngle)?"bottom":"top"}}return"middle"}).textAngle(function(){var h=d[this.index],g=0;if(b(h)){switch(this.name()){case"center":case"inner":case"outer":g=f(h);break;case"start":g=h.startAngle;break;case"end":g=h.endAngle;break}}return pv.Wedge.upright(g)?g:(g+Math.PI)})};pv.Wedge.upright=function(a){a=a%(2*Math.PI);a=(a<0)?(2*Math.PI+a):a;return(a<Math.PI/2)||(a>=3*Math.PI/2)};pv.Wedge.prototype.buildImplied=function(a){if(a.angle==null){a.angle=a.endAngle-a.startAngle}else{if(a.endAngle==null){a.endAngle=a.startAngle+a.angle}}pv.Mark.prototype.buildImplied.call(this,a)};pv.simulation=function(a){return new pv.Simulation(a)};pv.Simulation=function(b){for(var a=0;a<b.length;a++){this.particle(b[a])}};pv.Simulation.prototype.particle=function(a){a.next=this.particles;if(isNaN(a.px)){a.px=a.x}if(isNaN(a.py)){a.py=a.y}if(isNaN(a.fx)){a.fx=0}if(isNaN(a.fy)){a.fy=0}this.particles=a;return this};pv.Simulation.prototype.force=function(a){a.next=this.forces;this.forces=a;return this};pv.Simulation.prototype.constraint=function(a){a.next=this.constraints;this.constraints=a;return this};pv.Simulation.prototype.stabilize=function(g){var f;if(!arguments.length){g=3}for(var a=0;a<g;a++){var b=new pv.Quadtree(this.particles);for(f=this.constraints;f;f=f.next){f.apply(this.particles,b)}}for(var d=this.particles;d;d=d.next){d.px=d.x;d.py=d.y}return this};pv.Simulation.prototype.step=function(){var h,g,i;for(h=this.particles;h;h=h.next){var b=h.px,a=h.py;h.px=h.x;h.py=h.y;h.x+=h.vx=((h.x-b)+h.fx);h.y+=h.vy=((h.y-a)+h.fy)}var d=new pv.Quadtree(this.particles);for(i=this.constraints;i;i=i.next){i.apply(this.particles,d)}for(h=this.particles;h;h=h.next){h.fx=h.fy=0}for(g=this.forces;g;g=g.next){g.apply(this.particles,d)}};pv.Quadtree=function(i){var b;var c=Number.POSITIVE_INFINITY,g=c,a=Number.NEGATIVE_INFINITY,f=a;for(b=i;b;b=b.next){if(b.x<c){c=b.x}if(b.y<g){g=b.y}if(b.x>a){a=b.x}if(b.y>f){f=b.y}}var k=a-c,j=f-g;if(k>j){f=g+k}else{a=c+j}this.xMin=c;this.yMin=g;this.xMax=a;this.yMax=f;function h(t,s,o,r,m,q){if(isNaN(s.x)||isNaN(s.y)){return}if(t.leaf){if(t.p){if((Math.abs(t.p.x-s.x)+Math.abs(t.p.y-s.y))<0.01){d(t,s,o,r,m,q)}else{var l=t.p;t.p=null;d(t,l,o,r,m,q);d(t,s,o,r,m,q)}}else{t.p=s}}else{d(t,s,o,r,m,q)}}function d(r,o,q,v,m,t){var u=(q+m)*0.5,s=(v+t)*0.5,w=o.x>=u,l=o.y>=s;r.leaf=false;switch((l<<1)+w){case 0:r=r.c1||(r.c1=new pv.Quadtree.Node());break;case 1:r=r.c2||(r.c2=new pv.Quadtree.Node());break;case 2:r=r.c3||(r.c3=new pv.Quadtree.Node());break;case 3:r=r.c4||(r.c4=new pv.Quadtree.Node());break}if(w){q=u}else{m=u}if(l){v=s}else{t=s}h(r,o,q,v,m,t)}this.root=new pv.Quadtree.Node();for(b=i;b;b=b.next){h(this.root,b,c,g,a,f)}};pv.Quadtree.Node=function(){this.leaf=true;this.c1=null;this.c2=null;this.c3=null;this.c4=null;this.p=null};pv.Force={};pv.Force.charge=function(d){var f=2,j=1/f,g=500,h=1/g,b=0.9,a={};if(!arguments.length){d=-40}a.constant=function(k){if(arguments.length){d=Number(k);return a}return d};a.domain=function(l,k){if(arguments.length){f=Number(l);j=1/f;g=Number(k);h=1/g;return a}return[f,g]};a.theta=function(k){if(arguments.length){b=Number(k);return a}return b};function i(o){var k=0,m=0;o.cn=0;function l(n){i(n);o.cn+=n.cn;k+=n.cn*n.cx;m+=n.cn*n.cy}if(!o.leaf){if(o.c1){l(o.c1)}if(o.c2){l(o.c2)}if(o.c3){l(o.c3)}if(o.c4){l(o.c4)}}if(o.p){o.cn+=d;k+=d*o.p.x;m+=d*o.p.y}o.cx=k/o.cn;o.cy=m/o.cn}function c(o,l,m,x,k,v){var z=o.cx-l.x,y=o.cy-l.y,s=1/Math.sqrt(z*z+y*y);if((o.leaf&&(o.p!=l))||((k-m)*s<b)){if(s<h){return}if(s>j){s=j}var t=o.cn*s*s*s,r=z*t,q=y*t;l.fx+=r;l.fy+=q}else{if(!o.leaf){var w=(m+k)*0.5,u=(x+v)*0.5;if(o.c1){c(o.c1,l,m,x,w,u)}if(o.c2){c(o.c2,l,w,x,k,u)}if(o.c3){c(o.c3,l,m,u,w,v)}if(o.c4){c(o.c4,l,w,u,k,v)}if(s<h){return}if(s>j){s=j}if(o.p&&(o.p!=l)){var t=d*s*s*s,r=z*t,q=y*t;l.fx+=r;l.fy+=q}}}}a.apply=function(k,l){i(l.root);for(var m=k;m;m=m.next){c(l.root,m,l.xMin,l.yMin,l.xMax,l.yMax)}};return a};pv.Force.drag=function(a){var b={};if(!arguments.length){a=0.1}b.constant=function(c){if(arguments.length){a=c;return b}return a};b.apply=function(c){if(a){for(var d=c;d;d=d.next){d.fx-=a*d.vx;d.fy-=a*d.vy}}};return b};pv.Force.spring=function(c){var h=0.1,a=20,b,f,g={};if(!arguments.length){c=0.1}g.links=function(d){if(arguments.length){b=d;f=d.map(function(i){return 1/Math.sqrt(Math.max(i.sourceNode.linkDegree,i.targetNode.linkDegree))});return g}return b};g.constant=function(d){if(arguments.length){c=Number(d);return g}return c};g.damping=function(d){if(arguments.length){h=Number(d);return g}return h};g.length=function(d){if(arguments.length){a=Number(d);return g}return a};g.apply=function(s){for(var m=0;m<b.length;m++){var q=b[m].sourceNode,o=b[m].targetNode,u=q.x-o.x,t=q.y-o.y,n=Math.sqrt(u*u+t*t),r=n?(1/n):1,p=c*f[m],l=h*f[m],d=(p*(n-a)+l*(u*(q.vx-o.vx)+t*(q.vy-o.vy))*r)*r,k=-d*(n?u:(0.01*(0.5-Math.random()))),j=-d*(n?t:(0.01*(0.5-Math.random())));q.fx+=k;q.fy+=j;o.fx-=k;o.fy-=j}};return g};pv.Constraint={};pv.Constraint.collision=function(i){var d=1,f,h,b,g,a,c={};if(!arguments.length){f=10}c.repeat=function(k){if(arguments.length){d=Number(k);return c}return d};function j(s,q,r,B,o,z){if(!s.leaf){var A=(r+o)*0.5,y=(B+z)*0.5,x=y>b,m=y<a,t=A>h,C=A<g;if(x){if(s.c1&&t){j(s.c1,q,r,B,A,y)}if(s.c2&&C){j(s.c2,q,A,B,o,y)}}if(m){if(s.c3&&t){j(s.c3,q,r,y,A,z)}if(s.c4&&C){j(s.c4,q,A,y,o,z)}}}if(s.p&&(s.p!=q)){var E=q.x-s.p.x,D=q.y-s.p.y,u=Math.sqrt(E*E+D*D),w=f+i(s.p);if(u<w){var v=(u-w)/u*0.5;E*=v;D*=v;q.x-=E;q.y-=D;s.p.x+=E;s.p.y+=D}}}c.apply=function(n,o){var s,m,k=-Infinity;for(s=n;s;s=s.next){m=i(s);if(m>k){k=m}}for(var l=0;l<d;l++){for(s=n;s;s=s.next){m=(f=i(s))+k;h=s.x-m;g=s.x+m;b=s.y-m;a=s.y+m;j(o.root,s,o.xMin,o.yMin,o.xMax,o.yMax)}}};return c};pv.Constraint.position=function(c){var b=1,d={};if(!arguments.length){c=function(a){return a.fix}}d.alpha=function(a){if(arguments.length){b=Number(a);return d}return b};d.apply=function(f){for(var g=f;g;g=g.next){var a=c(g);if(a){g.x+=(a.x-g.x)*b;g.y+=(a.y-g.y)*b;g.fx=g.fy=g.vx=g.vy=0}}};return d};pv.Constraint.bound=function(){var b={},a,c;b.x=function(f,d){if(arguments.length){a={min:Math.min(f,d),max:Math.max(f,d)};return this}return a};b.y=function(f,d){if(arguments.length){c={min:Math.min(f,d),max:Math.max(f,d)};return this}return c};b.apply=function(d){if(a){for(var f=d;f;f=f.next){f.x=f.x<a.min?a.min:(f.x>a.max?a.max:f.x)}}if(c){for(var f=d;f;f=f.next){f.y=f.y<c.min?c.min:(f.y>c.max?c.max:f.y)}}};return b};pv.Layout=function(){pv.Panel.call(this)};pv.Layout.prototype=pv.extend(pv.Panel);pv.Layout.prototype.property=function(b,a){if(!this.hasOwnProperty("properties")){this.properties=pv.extend(this.properties)}this.properties[b]=true;this.propertyMethod(b,false,pv.Mark.cast[b]=a);return this};pv.Layout.Network=function(){pv.Layout.call(this);var a=this;this.$id=pv.id();(this.node=new pv.Mark().data(function(){return a.nodes()}).strokeStyle("#1f77b4").fillStyle("#fff").left(function(b){return b.x}).top(function(b){return b.y})).parent=this;this.link=new pv.Mark().extend(this.node).data(function(b){return[b.sourceNode,b.targetNode]}).fillStyle(null).lineWidth(function(c,b){return b.linkValue*1.5}).strokeStyle("rgba(0,0,0,.2)");this.link.add=function(b){return a.add(pv.Panel).data(function(){return a.links()}).add(b).extend(this)};(this.label=new pv.Mark().extend(this.node).textMargin(7).textBaseline("middle").text(function(b){return b.nodeName||b.nodeValue}).textAngle(function(c){var b=c.midAngle;return pv.Wedge.upright(b)?b:(b+Math.PI)}).textAlign(function(b){return pv.Wedge.upright(b.midAngle)?"left":"right"})).parent=this};pv.Layout.Network.prototype=pv.extend(pv.Layout).property("nodes",function(a){return a.map(function(c,b){if(typeof c!="object"){c={nodeValue:c}}c.index=b;c.linkDegree=0;return c})}).property("links",function(a){return a.map(function(b){if(isNaN(b.linkValue)){b.linkValue=isNaN(b.value)?1:b.value}return b})});pv.Layout.Network.prototype.reset=function(){this.$id=pv.id();return this};pv.Layout.Network.prototype.buildProperties=function(b,a){if((b.$id||0)<this.$id){pv.Layout.prototype.buildProperties.call(this,b,a)}};pv.Layout.Network.prototype.buildImplied=function(a){pv.Layout.prototype.buildImplied.call(this,a);if(a.$id>=this.$id){return true}a.$id=this.$id;a.links.forEach(function(c){var b=c.linkValue;(c.sourceNode||(c.sourceNode=a.nodes[c.source])).linkDegree+=b;(c.targetNode||(c.targetNode=a.nodes[c.target])).linkDegree+=b})};pv.Layout.Hierarchy=function(){pv.Layout.Network.call(this);this.link.strokeStyle("#ccc")};pv.Layout.Hierarchy.prototype=pv.extend(pv.Layout.Network);pv.Layout.Hierarchy.prototype.buildImplied=function(a){if(!a.links){a.links=pv.Layout.Hierarchy.links.call(this)}pv.Layout.Network.prototype.buildImplied.call(this,a)};pv.Layout.Hierarchy.links=function(){return this.nodes().filter(function(a){return a.parentNode}).map(function(a){return{sourceNode:a,targetNode:a.parentNode,linkValue:1}})};pv.Layout.Hierarchy.NodeLink={buildImplied:function(r){var a=r.nodes,f=r.orient,b=/^(top|bottom)$/.test(f),q=r.width,k=r.height;if(f=="radial"){var l=r.innerRadius,j=r.outerRadius;if(l==null){l=0}if(j==null){j=Math.min(q,k)/2}}function m(h){return h.parentNode?(h.depth*(j-l)+l):0}function d(h){return(h.parentNode?(h.breadth-0.25)*2*Math.PI:0)}function p(h){switch(f){case"left":return h.depth*q;case"right":return q-h.depth*q;case"top":return h.breadth*q;case"bottom":return q-h.breadth*q;case"radial":return q/2+m(h)*Math.cos(h.midAngle)}}function o(h){switch(f){case"left":return h.breadth*k;case"right":return k-h.breadth*k;case"top":return h.depth*k;case"bottom":return k-h.depth*k;case"radial":return k/2+m(h)*Math.sin(h.midAngle)}}for(var g=0;g<a.length;g++){var c=a[g];c.midAngle=f=="radial"?d(c):b?Math.PI/2:0;c.x=p(c);c.y=o(c);if(c.firstChild){c.midAngle+=Math.PI}}}};pv.Layout.Hierarchy.Fill={constructor:function(){this.node.strokeStyle("#fff").fillStyle("#ccc").width(function(a){return a.dx}).height(function(a){return a.dy}).innerRadius(function(a){return a.innerRadius}).outerRadius(function(a){return a.outerRadius}).startAngle(function(a){return a.startAngle}).angle(function(a){return a.angle});this.label.textAlign("center").left(function(a){return a.x+(a.dx/2)}).top(function(a){return a.y+(a.dy/2)});delete this.link},buildImplied:function(m){var p=m.nodes,g=m.orient,z=/^(top|bottom)$/.test(g),k=m.width,u=m.height,A=-p[0].minDepth;if(g=="radial"){var a=m.innerRadius,c=m.outerRadius;if(a==null){a=0}if(a){A*=2}if(c==null){c=Math.min(k,u)/2}}function B(i,h){return(i+h)/(1+h)}function f(h){switch(g){case"left":return B(h.minDepth,A)*k;case"right":return(1-B(h.maxDepth,A))*k;case"top":return h.minBreadth*k;case"bottom":return(1-h.maxBreadth)*k;case"radial":return k/2}}function d(h){switch(g){case"left":return h.minBreadth*u;case"right":return(1-h.maxBreadth)*u;case"top":return B(h.minDepth,A)*u;case"bottom":return(1-B(h.maxDepth,A))*u;case"radial":return u/2}}function l(h){switch(g){case"left":case"right":return(h.maxDepth-h.minDepth)/(1+A)*k;case"top":case"bottom":return(h.maxBreadth-h.minBreadth)*k;case"radial":return h.parentNode?(h.innerRadius+h.outerRadius)*Math.cos(h.midAngle):0}}function j(h){switch(g){case"left":case"right":return(h.maxBreadth-h.minBreadth)*u;case"top":case"bottom":return(h.maxDepth-h.minDepth)/(1+A)*u;case"radial":return h.parentNode?(h.innerRadius+h.outerRadius)*Math.sin(h.midAngle):0}}function b(h){return Math.max(0,B(h.minDepth,A/2))*(c-a)+a}function q(h){return B(h.maxDepth,A/2)*(c-a)+a}function r(h){return(h.parentNode?h.minBreadth-0.25:0)*2*Math.PI}function v(h){return(h.parentNode?h.maxBreadth-h.minBreadth:1)*2*Math.PI}for(var t=0;t<p.length;t++){var o=p[t];o.x=f(o);o.y=d(o);if(g=="radial"){o.innerRadius=b(o);o.outerRadius=q(o);o.startAngle=r(o);o.angle=v(o);o.midAngle=o.startAngle+o.angle/2}else{o.midAngle=z?-Math.PI/2:0}o.dx=l(o);o.dy=j(o)}}};pv.Layout.Grid=function(){pv.Layout.call(this);var a=this;(this.cell=new pv.Mark().data(function(){return a.scene[a.index].$grid}).width(function(){return a.width()/a.cols()}).height(function(){return a.height()/a.rows()}).left(function(){return this.width()*(this.index%a.cols())}).top(function(){return this.height()*Math.floor(this.index/a.cols())})).parent=this};pv.Layout.Grid.prototype=pv.extend(pv.Layout).property("rows").property("cols");pv.Layout.Grid.prototype.defaults=new pv.Layout.Grid().extend(pv.Layout.prototype.defaults).rows(1).cols(1);pv.Layout.Grid.prototype.buildImplied=function(a){pv.Layout.prototype.buildImplied.call(this,a);var b=a.rows,d=a.cols;if(typeof d=="object"){b=pv.transpose(d)}if(typeof b=="object"){a.$grid=pv.blend(b);a.rows=b.length;a.cols=b[0]?b[0].length:0}else{a.$grid=pv.repeat([a.data],b*d)}};pv.Layout.Stack=function(){pv.Layout.call(this);var f=this,c=function(){return null},g={t:c,l:c,r:c,b:c,w:c,h:c},a,d=f.buildImplied;function b(h){return function(){return g[h](this.parent.index,this.index)}}this.buildImplied=function(H){d.call(this,H);var W=H.layers,M=W.length,O,C=H.orient,U=/^(top|bottom)\b/.test(C),T=this.parent[U?"height":"width"](),B=[],A=[],D=[];var t=pv.Mark.stack,L={parent:{parent:this}};t.unshift(null);a=[];for(var S=0;S<M;S++){D[S]=[];A[S]=[];L.parent.index=S;t[0]=W[S];a[S]=this.$values.apply(L.parent,t);if(!S){O=a[S].length}t.unshift(null);for(var Q=0;Q<O;Q++){t[0]=a[S][Q];L.index=Q;if(!S){B[Q]=this.$x.apply(L,t)}D[S][Q]=this.$y.apply(L,t)}t.shift()}t.shift();var u;switch(H.order){case"inside-out":var R=D.map(function(h){return pv.max.index(h)}),V=pv.range(M).sort(function(i,h){return R[i]-R[h]}),F=D.map(function(h){return pv.sum(h)}),J=0,w=0,v=[],N=[];for(var S=0;S<M;S++){var Q=V[S];if(J<w){J+=F[Q];v.push(Q)}else{w+=F[Q];N.push(Q)}}u=N.reverse().concat(v);break;case"reverse":u=pv.range(M-1,-1,-1);break;default:u=pv.range(M);break}switch(H.offset){case"silohouette":for(var Q=0;Q<O;Q++){var L=0;for(var S=0;S<M;S++){L+=D[S][Q]}A[u[0]][Q]=(T-L)/2}break;case"wiggle":var L=0;for(var S=0;S<M;S++){L+=D[S][0]}A[u[0]][0]=L=(T-L)/2;for(var Q=1;Q<O;Q++){var r=0,q=0,E=B[Q]-B[Q-1];for(var S=0;S<M;S++){r+=D[S][Q]}for(var S=0;S<M;S++){var l=(D[u[S]][Q]-D[u[S]][Q-1])/(2*E);for(var P=0;P<S;P++){l+=(D[u[P]][Q]-D[u[P]][Q-1])/E}q+=l*D[u[S]][Q]}A[u[0]][Q]=L-=r?q/r*E:0}break;case"expand":for(var Q=0;Q<O;Q++){A[u[0]][Q]=0;var P=0;for(var S=0;S<M;S++){P+=D[S][Q]}if(P){P=T/P;for(var S=0;S<M;S++){D[S][Q]*=P}}else{P=T/M;for(var S=0;S<M;S++){D[S][Q]=P}}}break;default:for(var Q=0;Q<O;Q++){A[u[0]][Q]=0}break}for(var Q=0;Q<O;Q++){var L=A[u[0]][Q];for(var S=1;S<M;S++){L+=D[u[S-1]][Q];A[u[S]][Q]=L}}var S=C.indexOf("-"),z=U?"h":"w",I=S<0?(U?"l":"b"):C.charAt(S+1),G=C.charAt(0);for(var K in g){g[K]=c}g[I]=function(k,h){return B[h]};g[G]=function(k,h){return A[k][h]};g[z]=function(k,h){return D[k][h]}};this.layer=new pv.Mark().data(function(){return a[this.parent.index]}).top(b("t")).left(b("l")).right(b("r")).bottom(b("b")).width(b("w")).height(b("h"));this.layer.add=function(h){return f.add(pv.Panel).data(function(){return f.layers()}).add(h).extend(this)}};pv.Layout.Stack.prototype=pv.extend(pv.Layout).property("orient",String).property("offset",String).property("order",String).property("layers");pv.Layout.Stack.prototype.defaults=new pv.Layout.Stack().extend(pv.Layout.prototype.defaults).orient("bottom-left").offset("zero").layers([[]]);pv.Layout.Stack.prototype.$x=pv.Layout.Stack.prototype.$y=function(){return 0};pv.Layout.Stack.prototype.x=function(a){this.$x=pv.functor(a);return this};pv.Layout.Stack.prototype.y=function(a){this.$y=pv.functor(a);return this};pv.Layout.Stack.prototype.$values=pv.identity;pv.Layout.Stack.prototype.values=function(a){this.$values=pv.functor(a);return this};pv.Layout.Treemap=function(){pv.Layout.Hierarchy.call(this);this.node.strokeStyle("#fff").fillStyle("rgba(31, 119, 180, .25)").width(function(a){return a.dx}).height(function(a){return a.dy});this.label.visible(function(a){return !a.firstChild}).left(function(a){return a.x+(a.dx/2)}).top(function(a){return a.y+(a.dy/2)}).textAlign("center").textAngle(function(a){return a.dx>a.dy?0:-Math.PI/2});(this.leaf=new pv.Mark().extend(this.node).fillStyle(null).strokeStyle(null).visible(function(a){return !a.firstChild})).parent=this;delete this.link};pv.Layout.Treemap.prototype=pv.extend(pv.Layout.Hierarchy).property("round",Boolean).property("paddingLeft",Number).property("paddingRight",Number).property("paddingTop",Number).property("paddingBottom",Number).property("mode",String).property("order",String);pv.Layout.Treemap.prototype.defaults=new pv.Layout.Treemap().extend(pv.Layout.Hierarchy.prototype.defaults).mode("squarify").order("ascending");pv.Layout.Treemap.prototype.padding=function(a){return this.paddingLeft(a).paddingRight(a).paddingTop(a).paddingBottom(a)};pv.Layout.Treemap.prototype.$size=function(a){return Number(a.nodeValue)};pv.Layout.Treemap.prototype.size=function(a){this.$size=pv.functor(a);return this};pv.Layout.Treemap.prototype.buildImplied=function(p){if(pv.Layout.Hierarchy.prototype.buildImplied.call(this,p)){return}var g=this,b=p.nodes,j=b[0],k=pv.Mark.stack,c=p.paddingLeft,m=p.paddingRight,i=p.paddingTop,a=p.paddingBottom,o=function(q){return q.size},n=p.round?Math.round:Number,f=p.mode;function l(C,u,q,A,z,B,t){for(var s=0,v=0;s<C.length;s++){var r=C[s];if(q){r.x=A+v;r.y=z;v+=r.dx=n(B*r.size/u);r.dy=t}else{r.x=A;r.y=z+v;r.dx=B;v+=r.dy=n(t*r.size/u)}}if(r){if(q){r.dx+=B-v}else{r.dy+=t-v}}}function h(x,q){var y=-Infinity,t=Infinity,v=0;for(var u=0;u<x.length;u++){var w=x[u].size;if(w<t){t=w}if(w>y){y=w}v+=w}v=v*v;q=q*q;return Math.max(q*y/v,v/(q*t))}function d(s,v){var D=s.x+c,C=s.y+i,E=s.dx-c-m,A=s.dy-i-a;if(f!="squarify"){l(s.childNodes,s.size,f=="slice"?true:f=="dice"?false:v&1,D,C,E,A);return}var F=[],B=Infinity,t=Math.min(E,A),u=E*A/s.size;if(s.size<=0){return}s.visitBefore(function(w){w.size*=u});function z(G){var w=E==t,x=pv.sum(G,o),y=t?n(x/t):0;l(G,x,w,D,C,w?E:y,w?y:A);if(w){C+=y;A-=y}else{D+=y;E-=y}t=Math.min(E,A);return w}var r=s.childNodes.slice();while(r.length){var q=r[r.length-1];if(!q.size){r.pop();continue}F.push(q);var u=h(F,t);if(u<=B){r.pop();B=u}else{F.pop();z(F);F.length=0;B=Infinity}}if(z(F)){for(var v=0;v<F.length;v++){F[v].dy+=A}}else{for(var v=0;v<F.length;v++){F[v].dx+=E}}}k.unshift(null);j.visitAfter(function(r,q){r.depth=q;r.x=r.y=r.dx=r.dy=0;r.size=r.firstChild?pv.sum(r.childNodes,function(s){return s.size}):g.$size.apply(g,(k[0]=r,k))});k.shift();switch(p.order){case"ascending":j.sort(function(r,q){return r.size-q.size});break;case"descending":j.sort(function(r,q){return q.size-r.size});break;case"reverse":j.reverse();break}j.x=0;j.y=0;j.dx=p.width;j.dy=p.height;j.visitBefore(d)};pv.Layout.Tree=function(){pv.Layout.Hierarchy.call(this)};pv.Layout.Tree.prototype=pv.extend(pv.Layout.Hierarchy).property("group",Number).property("breadth",Number).property("depth",Number).property("orient",String);pv.Layout.Tree.prototype.defaults=new pv.Layout.Tree().extend(pv.Layout.Hierarchy.prototype.defaults).group(1).breadth(15).depth(60).orient("top");pv.Layout.Tree.prototype.buildImplied=function(l){if(pv.Layout.Hierarchy.prototype.buildImplied.call(this,l)){return}var o=l.nodes,i=l.orient,z=l.depth,k=l.breadth,b=l.group,j=l.width,t=l.height;function u(w){var s,y,h;if(!w.firstChild){if(s=w.previousSibling){w.prelim=s.prelim+a(w.depth,true)}}else{s=w.firstChild;y=w.lastChild;h=s;for(var B=s;B;B=B.nextSibling){u(B);h=n(B,h)}g(w);var x=0.5*(s.prelim+y.prelim);if(s=w.previousSibling){w.prelim=s.prelim+a(w.depth,true);w.mod=w.prelim-x}else{w.prelim=x}}}function p(s,h,w){s.breadth=s.prelim+h;h+=s.mod;for(var x=s.firstChild;x;x=x.nextSibling){p(x,h,w)}}function n(K,I){var J=K.previousSibling;if(J){var y=K,x=K,C=J,B=K.parentNode.firstChild,E=y.mod,D=x.mod,G=C.mod,F=B.mod,H=A(C),h=r(y);while(H&&h){C=H;y=h;B=r(B);x=A(x);x.ancestor=K;var s=(C.prelim+G)-(y.prelim+E)+a(C.depth,false);if(s>0){m(v(C,K,I),K,s);E+=s;D+=s}G+=C.mod;E+=y.mod;F+=B.mod;D+=x.mod;H=A(C);h=r(y)}if(H&&!A(x)){x.thread=H;x.mod+=G-D}if(h&&!r(B)){B.thread=h;B.mod+=E-F;I=K}}return I}function r(h){return h.firstChild||h.thread}function A(h){return h.lastChild||h.thread}function m(w,s,h){var x=s.number-w.number;s.change-=h/x;s.shift+=h;w.change+=h/x;s.prelim+=h;s.mod+=h}function g(s){var h=0,x=0;for(var w=s.lastChild;w;w=w.previousSibling){w.prelim+=h;w.mod+=h;x+=w.change;h+=w.shift+x}}function v(w,s,h){return(w.ancestor.parentNode==s.parentNode)?w.ancestor:h}function a(s,h){return(h?1:(b+1))/((i=="radial")?s:1)}var q=o[0];q.visitAfter(function(h,s){h.ancestor=h;h.prelim=0;h.mod=0;h.change=0;h.shift=0;h.number=h.previousSibling?(h.previousSibling.number+1):0;h.depth=s});u(q);p(q,-q.prelim,0);function f(h){return(i=="radial")?h.breadth/z:0}function d(h){switch(i){case"left":return h.depth;case"right":return j-h.depth;case"top":case"bottom":return h.breadth+j/2;case"radial":return j/2+h.depth*Math.cos(f(h))}}function c(h){switch(i){case"left":case"right":return h.breadth+t/2;case"top":return h.depth;case"bottom":return t-h.depth;case"radial":return t/2+h.depth*Math.sin(f(h))}}q.visitAfter(function(h){h.breadth*=k;h.depth*=z;h.midAngle=f(h);h.x=d(h);h.y=c(h);if(h.firstChild){h.midAngle+=Math.PI}delete h.breadth;delete h.depth;delete h.ancestor;delete h.prelim;delete h.mod;delete h.change;delete h.shift;delete h.number;delete h.thread})};pv.Layout.Indent=function(){pv.Layout.Hierarchy.call(this);this.link.interpolate("step-after")};pv.Layout.Indent.prototype=pv.extend(pv.Layout.Hierarchy).property("depth",Number).property("breadth",Number);pv.Layout.Indent.prototype.defaults=new pv.Layout.Indent().extend(pv.Layout.Hierarchy.prototype.defaults).depth(15).breadth(15);pv.Layout.Indent.prototype.buildImplied=function(c){if(pv.Layout.Hierarchy.prototype.buildImplied.call(this,c)){return}var b=c.nodes,h=c.breadth,g=c.depth,f=0,d=0;function a(l,k,i){l.x=f+i++*g;l.y=d+k++*h;l.midAngle=0;for(var j=l.firstChild;j;j=j.nextSibling){k=a(j,k,i)}return k}a(b[0],1,1)};pv.Layout.Pack=function(){pv.Layout.Hierarchy.call(this);this.node.radius(function(a){return a.radius}).strokeStyle("rgb(31, 119, 180)").fillStyle("rgba(31, 119, 180, .25)");this.label.textAlign("center");delete this.link};pv.Layout.Pack.prototype=pv.extend(pv.Layout.Hierarchy).property("spacing",Number).property("order",String);pv.Layout.Pack.prototype.defaults=new pv.Layout.Pack().extend(pv.Layout.Hierarchy.prototype.defaults).spacing(1).order("ascending");pv.Layout.Pack.prototype.$radius=function(){return 1};pv.Layout.Pack.prototype.size=function(a){this.$radius=typeof a=="function"?function(){return Math.sqrt(a.apply(this,arguments))}:(a=Math.sqrt(a),function(){return a});return this};pv.Layout.Pack.prototype.buildImplied=function(o){if(pv.Layout.Hierarchy.prototype.buildImplied.call(this,o)){return}var j=this,a=o.nodes,l=a[0];function g(k){var h=pv.Mark.stack;h.unshift(null);for(var p=0,r=k.length;p<r;p++){var q=k[p];if(!q.firstChild){q.radius=j.$radius.apply(j,(h[0]=q,h))}}h.shift()}function n(p){var h=[];for(var k=p.firstChild;k;k=k.nextSibling){if(k.firstChild){k.radius=n(k)}k.n=k.p=k;h.push(k)}switch(o.order){case"ascending":h.sort(function(r,q){return r.radius-q.radius});break;case"descending":h.sort(function(r,q){return q.radius-r.radius});break;case"reverse":h.reverse();break}return f(h)}function f(A){var E=Infinity,I=-Infinity,h=Infinity,u=-Infinity,H,G,F,C,B;function q(k){E=Math.min(k.x-k.radius,E);I=Math.max(k.x+k.radius,I);h=Math.min(k.y-k.radius,h);u=Math.max(k.y+k.radius,u)}function r(K,k){var L=K.n;K.n=k;k.p=K;k.n=L;L.p=k}function J(K,k){K.n=k;k.p=K}function s(L,k){var M=k.x-L.x,K=k.y-L.y,N=L.radius+k.radius;return(N*N-M*M-K*K)>0.001}H=A[0];H.x=-H.radius;H.y=0;q(H);if(A.length>1){G=A[1];G.x=G.radius;G.y=0;q(G);if(A.length>2){F=A[2];d(H,G,F);q(F);r(H,F);H.p=F;r(F,G);G=H.n;for(var D=3;D<A.length;D++){d(H,G,F=A[D]);var p=0,v=1,t=1;for(C=G.n;C!=G;C=C.n,v++){if(s(C,F)){p=1;break}}if(p==1){for(B=H.p;B!=C.p;B=B.p,t++){if(s(B,F)){if(t<v){p=-1;C=B}break}}}if(p==0){r(H,F);G=F;q(F)}else{if(p>0){J(H,C);G=C;D--}else{if(p<0){J(C,G);H=C;D--}}}}}}var x=(E+I)/2,w=(h+u)/2,y=0;for(var D=0;D<A.length;D++){var z=A[D];z.x-=x;z.y-=w;y=Math.max(y,z.radius+Math.sqrt(z.x*z.x+z.y*z.y))}return y+o.spacing}function d(t,r,q){var z=r.radius+q.radius,w=t.radius+q.radius,A=r.x-t.x,y=r.y-t.y,v=Math.sqrt(A*A+y*y),u=(w*w+v*v-z*z)/(2*w*v),k=Math.acos(u),s=u*w,p=Math.sin(k)*w;A/=v;y/=v;q.x=t.x+s*A+p*y;q.y=t.y+s*y-p*A}function b(s,h,r,p){for(var q=s.firstChild;q;q=q.nextSibling){q.x+=s.x;q.y+=s.y;b(q,h,r,p)}s.x=h+p*s.x;s.y=r+p*s.y;s.radius*=p}g(a);l.x=0;l.y=0;l.radius=n(l);var m=this.width(),i=this.height(),c=1/Math.max(2*l.radius/m,2*l.radius/i);b(l,m/2,i/2,c)};pv.Layout.Force=function(){pv.Layout.Network.call(this);this.link.lineWidth(function(b,a){return Math.sqrt(a.linkValue)*1.5});this.label.textAlign("center")};pv.Layout.Force.prototype=pv.extend(pv.Layout.Network).property("bound",Boolean).property("iterations",Number).property("dragConstant",Number).property("chargeConstant",Number).property("chargeMinDistance",Number).property("chargeMaxDistance",Number).property("chargeTheta",Number).property("springConstant",Number).property("springDamping",Number).property("springLength",Number);pv.Layout.Force.prototype.defaults=new pv.Layout.Force().extend(pv.Layout.Network.prototype.defaults).dragConstant(0.1).chargeConstant(-40).chargeMinDistance(2).chargeMaxDistance(500).chargeTheta(0.9).springConstant(0.1).springDamping(0.3).springLength(20);pv.Layout.Force.prototype.buildImplied=function(t){if(pv.Layout.Network.prototype.buildImplied.call(this,t)){var m=t.$force;if(m){m.next=this.binds.$force;this.binds.$force=m}return}var o=this,a=t.nodes,r=t.links,g=t.iterations,q=t.width,l=t.height;for(var j=0,c;j<a.length;j++){c=a[j];if(isNaN(c.x)){c.x=q/2+40*Math.random()-20}if(isNaN(c.y)){c.y=l/2+40*Math.random()-20}}var p=pv.simulation(a);p.force(pv.Force.drag(t.dragConstant));p.force(pv.Force.charge(t.chargeConstant).domain(t.chargeMinDistance,t.chargeMaxDistance).theta(t.chargeTheta));p.force(pv.Force.spring(t.springConstant).damping(t.springDamping).length(t.springLength).links(r));p.constraint(pv.Constraint.position());if(t.bound){p.constraint(pv.Constraint.bound().x(6,q-6).y(6,l-6))}function d(f){return f.fix?1:f.vx*f.vx+f.vy*f.vy}if(g==null){p.step();p.step();var b=t.$force=this.binds.$force={next:this.binds.$force,nodes:a,min:0.0001*(r.length+1),sim:p};if(!this.$timer){this.$timer=setInterval(function(){var h=false;for(var i=o.binds.$force;i;i=i.next){if(pv.max(i.nodes,d)>i.min){i.sim.step();h=true}}if(h){o.render()}},42)}}else{for(var j=0;j<g;j++){p.step()}}};pv.Layout.Cluster=function(){pv.Layout.Hierarchy.call(this);var a,b=this.buildImplied;this.buildImplied=function(c){b.call(this,c);a=/^(top|bottom)$/.test(c.orient)?"step-before":/^(left|right)$/.test(c.orient)?"step-after":"linear"};this.link.interpolate(function(){return a})};pv.Layout.Cluster.prototype=pv.extend(pv.Layout.Hierarchy).property("group",Number).property("orient",String).property("innerRadius",Number).property("outerRadius",Number);pv.Layout.Cluster.prototype.defaults=new pv.Layout.Cluster().extend(pv.Layout.Hierarchy.prototype.defaults).group(0).orient("top");pv.Layout.Cluster.prototype.buildImplied=function(c){if(pv.Layout.Hierarchy.prototype.buildImplied.call(this,c)){return}var a=c.nodes[0],g=c.group,i,h,f=0,b=0.5-g/2;var d=undefined;a.visitAfter(function(j){if(j.firstChild){j.depth=1+pv.max(j.childNodes,function(k){return k.depth})}else{if(g&&(d!=j.parentNode)){d=j.parentNode;f+=g}f++;j.depth=0}});i=1/f;h=1/a.depth;var d=undefined;a.visitAfter(function(j){if(j.firstChild){j.breadth=pv.mean(j.childNodes,function(k){return k.breadth})}else{if(g&&(d!=j.parentNode)){d=j.parentNode;b+=g}j.breadth=i*b++}j.depth=1-j.depth*h});a.visitAfter(function(j){j.minBreadth=j.firstChild?j.firstChild.minBreadth:(j.breadth-i/2);j.maxBreadth=j.firstChild?j.lastChild.maxBreadth:(j.breadth+i/2)});a.visitBefore(function(j){j.minDepth=j.parentNode?j.parentNode.maxDepth:0;j.maxDepth=j.parentNode?(j.depth+a.depth):(j.minDepth+2*a.depth)});a.minDepth=-h;pv.Layout.Hierarchy.NodeLink.buildImplied.call(this,c)};pv.Layout.Cluster.Fill=function(){pv.Layout.Cluster.call(this);pv.Layout.Hierarchy.Fill.constructor.call(this)};pv.Layout.Cluster.Fill.prototype=pv.extend(pv.Layout.Cluster);pv.Layout.Cluster.Fill.prototype.buildImplied=function(a){if(pv.Layout.Cluster.prototype.buildImplied.call(this,a)){return}pv.Layout.Hierarchy.Fill.buildImplied.call(this,a)};pv.Layout.Partition=function(){pv.Layout.Hierarchy.call(this)};pv.Layout.Partition.prototype=pv.extend(pv.Layout.Hierarchy).property("order",String).property("orient",String).property("innerRadius",Number).property("outerRadius",Number);pv.Layout.Partition.prototype.defaults=new pv.Layout.Partition().extend(pv.Layout.Hierarchy.prototype.defaults).orient("top");pv.Layout.Partition.prototype.$size=function(){return 1};pv.Layout.Partition.prototype.size=function(a){this.$size=a;return this};pv.Layout.Partition.prototype.buildImplied=function(c){if(pv.Layout.Hierarchy.prototype.buildImplied.call(this,c)){return}var d=this,b=c.nodes[0],a=pv.Mark.stack,g=0;a.unshift(null);b.visitAfter(function(j,h){if(h>g){g=h}j.size=j.firstChild?pv.sum(j.childNodes,function(i){return i.size}):d.$size.apply(d,(a[0]=j,a))});a.shift();switch(c.order){case"ascending":b.sort(function(i,h){return i.size-h.size});break;case"descending":b.sort(function(h,i){return i.size-h.size});break}var f=1/g;b.minBreadth=0;b.breadth=0.5;b.maxBreadth=1;b.visitBefore(function(k){var h=k.minBreadth,i=k.maxBreadth-h;for(var j=k.firstChild;j;j=j.nextSibling){j.minBreadth=h;j.maxBreadth=h+=(j.size/k.size)*i;j.breadth=(h+j.minBreadth)/2}});b.visitAfter(function(j,h){j.minDepth=(h-1)*f;j.maxDepth=j.depth=h*f});pv.Layout.Hierarchy.NodeLink.buildImplied.call(this,c)};pv.Layout.Partition.Fill=function(){pv.Layout.Partition.call(this);pv.Layout.Hierarchy.Fill.constructor.call(this)};pv.Layout.Partition.Fill.prototype=pv.extend(pv.Layout.Partition);pv.Layout.Partition.Fill.prototype.buildImplied=function(a){if(pv.Layout.Partition.prototype.buildImplied.call(this,a)){return}pv.Layout.Hierarchy.Fill.buildImplied.call(this,a)};pv.Layout.Arc=function(){pv.Layout.Network.call(this);var b,d,a,c=this.buildImplied;this.buildImplied=function(f){c.call(this,f);d=f.directed;b=f.orient=="radial"?"linear":"polar";a=f.orient=="right"||f.orient=="top"};this.link.data(function(h){var g=h.sourceNode,f=h.targetNode;return a!=(d||(g.breadth<f.breadth))?[g,f]:[f,g]}).interpolate(function(){return b})};pv.Layout.Arc.prototype=pv.extend(pv.Layout.Network).property("orient",String).property("directed",Boolean);pv.Layout.Arc.prototype.defaults=new pv.Layout.Arc().extend(pv.Layout.Network.prototype.defaults).orient("bottom");pv.Layout.Arc.prototype.sort=function(a){this.$sort=a;return this};pv.Layout.Arc.prototype.buildImplied=function(u){if(pv.Layout.Network.prototype.buildImplied.call(this,u)){return}var c=u.nodes,g=u.orient,k=this.$sort,m=pv.range(c.length),t=u.width,l=u.height,a=Math.min(t,l)/2;if(k){m.sort(function(i,h){return k(c[i],c[h])})}function f(h){switch(g){case"top":return -Math.PI/2;case"bottom":return Math.PI/2;case"left":return Math.PI;case"right":return 0;case"radial":return(h-0.25)*2*Math.PI}}function q(h){switch(g){case"top":case"bottom":return h*t;case"left":return 0;case"right":return t;case"radial":return t/2+a*Math.cos(f(h))}}function p(h){switch(g){case"top":return 0;case"bottom":return l;case"left":case"right":return h*l;case"radial":return l/2+a*Math.sin(f(h))}}for(var j=0;j<c.length;j++){var d=c[m[j]],o=d.breadth=(j+0.5)/c.length;d.x=q(o);d.y=p(o);d.midAngle=f(o)}};pv.Layout.Horizon=function(){pv.Layout.call(this);var d=this,f,i,b,h,g,a,c=this.buildImplied;this.buildImplied=function(j){c.call(this,j);f=j.bands;i=j.mode;b=Math.round((i=="color"?0.5:1)*j.height);h=j.backgroundStyle;g=pv.ramp(h,j.negativeStyle).domain(0,f);a=pv.ramp(h,j.positiveStyle).domain(0,f)};var f=new pv.Panel().data(function(){return pv.range(f*2)}).overflow("hidden").height(function(){return b}).top(function(j){return i=="color"?(j&1)*b:0}).fillStyle(function(j){return j?null:h});this.band=new pv.Mark().top(function(k,j){return i=="mirror"&&j&1?(j+1>>1)*b:null}).bottom(function(k,j){return i=="mirror"?(j&1?null:(j+1>>1)*-b):((j&1||-1)*(j+1>>1)*b)}).fillStyle(function(k,j){return(j&1?g:a)((j>>1)+1)});this.band.add=function(j){return d.add(pv.Panel).extend(f).add(j).extend(this)}};pv.Layout.Horizon.prototype=pv.extend(pv.Layout).property("bands",Number).property("mode",String).property("backgroundStyle",pv.color).property("positiveStyle",pv.color).property("negativeStyle",pv.color);pv.Layout.Horizon.prototype.defaults=new pv.Layout.Horizon().extend(pv.Layout.prototype.defaults).bands(2).mode("offset").backgroundStyle("white").positiveStyle("#1f77b4").negativeStyle("#d62728");pv.Layout.Rollup=function(){pv.Layout.Network.call(this);var d=this,b,a,c=d.buildImplied;this.buildImplied=function(f){c.call(this,f);b=f.$rollup.nodes;a=f.$rollup.links};this.node.data(function(){return b}).size(function(f){return f.nodes.length*20});this.link.interpolate("polar").eccentricity(0.8);this.link.add=function(f){return d.add(pv.Panel).data(function(){return a}).add(f).extend(this)}};pv.Layout.Rollup.prototype=pv.extend(pv.Layout.Network).property("directed",Boolean);pv.Layout.Rollup.prototype.x=function(a){this.$x=pv.functor(a);return this};pv.Layout.Rollup.prototype.y=function(a){this.$y=pv.functor(a);return this};pv.Layout.Rollup.prototype.buildImplied=function(q){if(pv.Layout.Network.prototype.buildImplied.call(this,q)){return}var v=q.nodes,a=q.links,d=q.directed,u=v.length,k=[],j=[],C=0,w={},b={};function r(n){return k[n]+","+j[n]}var g=pv.Mark.stack,t={parent:this};g.unshift(null);for(var A=0;A<u;A++){t.index=A;g[0]=v[A];k[A]=this.$x.apply(t,g);j[A]=this.$y.apply(t,g)}g.shift();for(var A=0;A<v.length;A++){var m=r(A),l=w[m];if(!l){l=w[m]=pv.extend(v[A]);l.index=C++;l.x=k[A];l.y=j[A];l.nodes=[]}l.nodes.push(v[A])}for(var A=0;A<a.length;A++){var z=a[A].sourceNode,D=a[A].targetNode,B=w[r(z.index)],c=w[r(D.index)],h=!d&&B.index>c.index,f=h?c.index+","+B.index:B.index+","+c.index,p=b[f];if(!p){p=b[f]={sourceNode:B,targetNode:c,linkValue:0,links:[]}}p.links.push(a[A]);p.linkValue+=a[A].linkValue}q.$rollup={nodes:pv.values(w),links:pv.values(b)}};pv.Layout.Matrix=function(){pv.Layout.Network.call(this);var d=this,h,b,a,g,f,c=d.buildImplied;this.buildImplied=function(i){c.call(this,i);h=i.nodes.length;b=i.width/h;a=i.height/h;g=i.$matrix.labels;f=i.$matrix.pairs};this.link.data(function(){return f}).left(function(){return b*(this.index%h)}).top(function(){return a*Math.floor(this.index/h)}).width(function(){return b}).height(function(){return a}).lineWidth(1.5).strokeStyle("#fff").fillStyle(function(i){return i.linkValue?"#555":"#eee"}).parent=this;delete this.link.add;this.label.data(function(){return g}).left(function(){return this.index&1?b*((this.index>>1)+0.5):null}).top(function(){return this.index&1?null:a*((this.index>>1)+0.5)}).textMargin(4).textAlign(function(){return this.index&1?"left":"right"}).textAngle(function(){return this.index&1?-Math.PI/2:0});delete this.node};pv.Layout.Matrix.prototype=pv.extend(pv.Layout.Network).property("directed",Boolean);pv.Layout.Matrix.prototype.sort=function(a){this.$sort=a;return this};pv.Layout.Matrix.prototype.buildImplied=function(f){if(pv.Layout.Network.prototype.buildImplied.call(this,f)){return}var k=f.nodes,c=f.links,v=this.$sort,h=k.length,d=pv.range(h),u=[],A=[],y={};f.$matrix={labels:u,pairs:A};if(v){d.sort(function(j,i){return v(k[j],k[i])})}for(var t=0;t<h;t++){for(var r=0;r<h;r++){var x=d[t],w=d[r],g={row:t,col:r,sourceNode:k[x],targetNode:k[w],linkValue:0};A.push(y[x+"."+w]=g)}}for(var t=0;t<h;t++){var x=d[t];u.push(k[x],k[x])}for(var t=0;t<c.length;t++){var q=c[t],m=q.sourceNode.index,z=q.targetNode.index,o=q.linkValue;y[m+"."+z].linkValue+=o;if(!f.directed){y[z+"."+m].linkValue+=o}}};pv.Layout.Bullet=function(){pv.Layout.call(this);var g=this,f=g.buildImplied,h=g.x=pv.Scale.linear(),c,b,i,d,a;this.buildImplied=function(j){f.call(this,a=j);c=j.orient;b=/^left|right$/.test(c);i=pv.ramp("#bbb","#eee").domain(0,Math.max(1,a.ranges.length-1));d=pv.ramp("steelblue","lightsteelblue").domain(0,Math.max(1,a.measures.length-1))};(this.range=new pv.Mark()).data(function(){return a.ranges}).reverse(true).left(function(){return c=="left"?0:null}).top(function(){return c=="top"?0:null}).right(function(){return c=="right"?0:null}).bottom(function(){return c=="bottom"?0:null}).width(function(j){return b?h(j):null}).height(function(j){return b?null:h(j)}).fillStyle(function(){return i(this.index)}).antialias(false).parent=g;(this.measure=new pv.Mark()).extend(this.range).data(function(){return a.measures}).left(function(){return c=="left"?0:b?null:this.parent.width()/3.25}).top(function(){return c=="top"?0:b?this.parent.height()/3.25:null}).right(function(){return c=="right"?0:b?null:this.parent.width()/3.25}).bottom(function(){return c=="bottom"?0:b?this.parent.height()/3.25:null}).fillStyle(function(){return d(this.index)}).parent=g;(this.marker=new pv.Mark()).data(function(){return a.markers}).left(function(j){return c=="left"?h(j):b?null:this.parent.width()/2}).top(function(j){return c=="top"?h(j):b?this.parent.height()/2:null}).right(function(j){return c=="right"?h(j):null}).bottom(function(j){return c=="bottom"?h(j):null}).strokeStyle("black").shape("bar").angle(function(){return b?0:Math.PI/2}).parent=g;(this.tick=new pv.Mark()).data(function(){return h.ticks(7)}).left(function(j){return c=="left"?h(j):null}).top(function(j){return c=="top"?h(j):null}).right(function(j){return c=="right"?h(j):b?null:-6}).bottom(function(j){return c=="bottom"?h(j):b?-8:null}).height(function(){return b?6:null}).width(function(){return b?null:6}).parent=g};pv.Layout.Bullet.prototype=pv.extend(pv.Layout).property("orient",String).property("ranges").property("markers").property("measures").property("maximum",Number);pv.Layout.Bullet.prototype.defaults=new pv.Layout.Bullet().extend(pv.Layout.prototype.defaults).orient("left").ranges([]).markers([]).measures([]);pv.Layout.Bullet.prototype.buildImplied=function(b){pv.Layout.prototype.buildImplied.call(this,b);var a=this.parent[/^left|right$/.test(b.orient)?"width":"height"]();b.maximum=b.maximum||pv.max([].concat(b.ranges,b.markers,b.measures));this.x.domain(0,b.maximum).range(0,a)};pv.Behavior={};pv.Behavior.drag=function(){var g,c,f,i,a;function b(k){c=this.index;g=this.scene;var j=this.mouse();i=((f=k).fix=pv.vector(k.x,k.y)).minus(j);a={x:this.parent.width()-(k.dx||0),y:this.parent.height()-(k.dy||0)};g.mark.context(g,c,function(){this.render()});pv.Mark.dispatch("dragstart",g,c)}function d(){if(!g){return}g.mark.context(g,c,function(){var j=this.mouse();f.x=f.fix.x=Math.max(0,Math.min(i.x+j.x,a.x));f.y=f.fix.y=Math.max(0,Math.min(i.y+j.y,a.y));this.render()});pv.Mark.dispatch("drag",g,c)}function h(){if(!g){return}f.fix=null;g.mark.context(g,c,function(){this.render()});pv.Mark.dispatch("dragend",g,c);g=null}pv.listen(window,"mousemove",d);pv.listen(window,"mouseup",h);return b};pv.Behavior.point=function(a){var i,h=null,g=1,f=1,b=arguments.length?a*a:900;function j(w,x){var E=w[x],z={cost:Infinity};for(var u=0,o=E.visible&&E.children.length;u<o;u++){var l=E.children[u],r=l.mark,k;if(r.type=="panel"){r.scene=l;for(var t=0,q=l.length;t<q;t++){r.index=t;k=j(l,t);if(k.cost<z.cost){z=k}}delete r.scene;delete r.index}else{if(r.$handlers.point){var B=r.mouse();for(var t=0,q=l.length;t<q;t++){var y=l[t],D=B.x-y.left-(y.width||0)/2,C=B.y-y.top-(y.height||0)/2,A=g*D*D+f*C*C;if(A<z.cost){z.distance=D*D+C*C;z.cost=A;z.scene=l;z.index=t}}}}}return z}function d(){var k=j(this.scene,this.index);if((k.cost==Infinity)||(k.distance>b)){k=null}if(i){if(k&&(i.scene==k.scene)&&(i.index==k.index)){return}pv.Mark.dispatch("unpoint",i.scene,i.index)}if(i=k){pv.Mark.dispatch("point",k.scene,k.index);pv.listen(this.root.canvas(),"mouseout",c)}}function c(k){if(i&&!pv.ancestor(this,k.relatedTarget)){pv.Mark.dispatch("unpoint",i.scene,i.index);i=null}}d.collapse=function(k){if(arguments.length){h=String(k);switch(h){case"y":g=1;f=0;break;case"x":g=0;f=1;break;default:g=1;f=1;break}return d}return h};return d};pv.Behavior.select=function(){var g,c,f,b;function a(i){c=this.index;g=this.scene;b=this.mouse();f=i;f.x=b.x;f.y=b.y;f.dx=f.dy=0;pv.Mark.dispatch("selectstart",g,c)}function d(){if(!g){return}g.mark.context(g,c,function(){var i=this.mouse();f.x=Math.max(0,Math.min(b.x,i.x));f.y=Math.max(0,Math.min(b.y,i.y));f.dx=Math.min(this.width(),Math.max(i.x,b.x))-f.x;f.dy=Math.min(this.height(),Math.max(i.y,b.y))-f.y;this.render()});pv.Mark.dispatch("select",g,c)}function h(){if(!g){return}pv.Mark.dispatch("selectend",g,c);g=null}pv.listen(window,"mousemove",d);pv.listen(window,"mouseup",h);return a};pv.Behavior.resize=function(d){var h,c,g,b;function a(j){c=this.index;h=this.scene;b=this.mouse();g=j;switch(d){case"left":b.x=g.x+g.dx;break;case"right":b.x=g.x;break;case"top":b.y=g.y+g.dy;break;case"bottom":b.y=g.y;break}pv.Mark.dispatch("resizestart",h,c)}function f(){if(!h){return}h.mark.context(h,c,function(){var j=this.mouse();g.x=Math.max(0,Math.min(b.x,j.x));g.y=Math.max(0,Math.min(b.y,j.y));g.dx=Math.min(this.parent.width(),Math.max(j.x,b.x))-g.x;g.dy=Math.min(this.parent.height(),Math.max(j.y,b.y))-g.y;this.render()});pv.Mark.dispatch("resize",h,c)}function i(){if(!h){return}pv.Mark.dispatch("resizeend",h,c);h=null}pv.listen(window,"mousemove",f);pv.listen(window,"mouseup",i);return a};pv.Behavior.pan=function(){var f,h,j,i,c,b;function a(){h=this.index;f=this.scene;i=pv.vector(pv.event.pageX,pv.event.pageY);j=this.transform();c=1/(j.k*this.scale);if(b){b={x:(1-j.k)*this.width(),y:(1-j.k)*this.height()}}}function g(){if(!f){return}f.mark.context(f,h,function(){var l=(pv.event.pageX-i.x)*c,n=(pv.event.pageY-i.y)*c,k=j.translate(l,n);if(b){k.x=Math.max(b.x,Math.min(0,k.x));k.y=Math.max(b.y,Math.min(0,k.y))}this.transform(k).render()});pv.Mark.dispatch("pan",f,h)}function d(){f=null}a.bound=function(k){if(arguments.length){b=Boolean(k);return this}return Boolean(b)};pv.listen(window,"mousemove",g);pv.listen(window,"mouseup",d);return a};pv.Behavior.zoom=function(c){var b;if(!arguments.length){c=1/48}function a(){var g=this.mouse(),f=pv.event.wheel*c,d=this.transform().translate(g.x,g.y).scale((f<0)?(1000/(1000-f)):((1000+f)/1000)).translate(-g.x,-g.y);if(b){d.k=Math.max(1,d.k);d.x=Math.max((1-d.k)*this.width(),Math.min(0,d.x));d.y=Math.max((1-d.k)*this.height(),Math.min(0,d.y))}this.transform(d).render();pv.Mark.dispatch("zoom",this.scene,this.index)}a.bound=function(d){if(arguments.length){b=Boolean(d);return this}return Boolean(b)};return a};pv.Geo=function(){};pv.Geo.projections={mercator:{project:function(a){return{x:a.lng/180,y:a.lat>85?1:a.lat<-85?-1:Math.log(Math.tan(Math.PI/4+pv.radians(a.lat)/2))/Math.PI}},invert:function(a){return{lng:a.x*180,lat:pv.degrees(2*Math.atan(Math.exp(a.y*Math.PI))-Math.PI/2)}}},"gall-peters":{project:function(a){return{x:a.lng/180,y:Math.sin(pv.radians(a.lat))}},invert:function(a){return{lng:a.x*180,lat:pv.degrees(Math.asin(a.y))}}},sinusoidal:{project:function(a){return{x:pv.radians(a.lng)*Math.cos(pv.radians(a.lat))/Math.PI,y:a.lat/90}},invert:function(a){return{lng:pv.degrees((a.x*Math.PI)/Math.cos(a.y*Math.PI/2)),lat:a.y*90}}},aitoff:{project:function(g){var c=pv.radians(g.lng),d=pv.radians(g.lat),b=Math.acos(Math.cos(d)*Math.cos(c/2));return{x:2*(b?(Math.cos(d)*Math.sin(c/2)*b/Math.sin(b)):0)/Math.PI,y:2*(b?(Math.sin(d)*b/Math.sin(b)):0)/Math.PI}},invert:function(b){var a=b.x*Math.PI/2,c=b.y*Math.PI/2;return{lng:pv.degrees(a/Math.cos(c)),lat:pv.degrees(c)}}},hammer:{project:function(g){var a=pv.radians(g.lng),b=pv.radians(g.lat),d=Math.sqrt(1+Math.cos(b)*Math.cos(a/2));return{x:2*Math.SQRT2*Math.cos(b)*Math.sin(a/2)/d/3,y:Math.SQRT2*Math.sin(b)/d/1.5}},invert:function(b){var a=b.x*3,d=b.y*1.5,c=Math.sqrt(1-a*a/16-d*d/4);return{lng:pv.degrees(2*Math.atan2(c*a,2*(2*c*c-1))),lat:pv.degrees(Math.asin(c*d))}}},identity:{project:function(a){return{x:a.lng/180,y:a.lat/90}},invert:function(a){return{lng:a.x*180,lat:a.y*90}}}};pv.Geo.scale=function(b){var i={x:0,y:0},r={x:1,y:1},h=[],g=pv.Geo.projections.identity,n=pv.Scale.linear(-1,1).range(0,1),l=pv.Scale.linear(-1,1).range(1,0),k={lng:0,lat:0},q,m;function f(d){if(!q||(d.lng!=q.lng)||(d.lat!=q.lat)){q=d;var c=o(d);m={x:n(c.x),y:l(c.y)}}return m}function o(d){var c={lng:d.lng-k.lng,lat:d.lat};return g.project(c)}function a(c){var d=g.invert(c);d.lng+=k.lng;return d}f.x=function(c){return f(c).x};f.y=function(c){return f(c).y};f.ticks={lng:function(c){var p,d;if(h.length>1){var j=pv.Scale.linear();if(c==undefined){c=10}p=j.domain(h,function(s){return s.lat}).ticks(c);d=j.domain(h,function(s){return s.lng}).ticks(c)}else{p=pv.range(-80,81,10);d=pv.range(-180,181,10)}return d.map(function(s){return p.map(function(t){return{lat:t,lng:s}})})},lat:function(c){return pv.transpose(f.ticks.lng(c))}};f.invert=function(c){return a({x:n.invert(c.x),y:l.invert(c.y)})};f.domain=function(s,c){if(arguments.length){h=(s instanceof Array)?((arguments.length>1)?pv.map(s,c):s):Array.prototype.slice.call(arguments);if(h.length>1){var d=h.map(function(t){return t.lng});var j=h.map(function(t){return t.lat});k={lng:(pv.max(d)+pv.min(d))/2,lat:(pv.max(j)+pv.min(j))/2};var p=h.map(o);n.domain(p,function(t){return t.x});l.domain(p,function(t){return t.y})}else{k={lng:0,lat:0};n.domain(-1,1);l.domain(-1,1)}q=null;return this}return h};f.range=function(d,c){if(arguments.length){if(typeof d=="object"){i={x:Number(d.x),y:Number(d.y)};r={x:Number(c.x),y:Number(c.y)}}else{i={x:0,y:0};r={x:Number(d),y:Number(c)}}n.range(i.x,r.x);l.range(r.y,i.y);q=null;return this}return[i,r]};f.projection=function(c){if(arguments.length){g=typeof c=="string"?pv.Geo.projections[c]||pv.Geo.projections.identity:c;return this.domain(h)}return c};f.by=function(c){function d(){return f(c.apply(this,arguments))}for(var j in f){d[j]=f[j]}return d};if(arguments.length){f.projection(b)}return f};/*
 * Raphael 1.4.3 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
Raphael=(function(){function aA(){if(aA.is(arguments[0],aV)){var d=arguments[0],e=B[bk](aA,d.splice(0,3+aA.is(d[0],ax))),S=e.set();for(var R=0,bp=d[o];R<bp;R++){var E=d[R]||{};a9.test(E.type)&&S[f](e[E.type]().attr(E))}return S}return B[bk](aA,arguments)}aA.version="1.4.3";var a=/[, ]+/,a9=/^(circle|rect|path|ellipse|text|image)$/,bm="prototype",ab="hasOwnProperty",V=document,aH=window,n={was:Object[bm][ab].call(aH,"Raphael"),is:aH.Raphael},bh=function(){},a5="appendChild",bk="apply",bf="concat",P="createTouch" in V,aG="",az=" ",F="split",M="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[F](az),ba={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},aN="join",o="length",bo=String[bm].toLowerCase,aj=Math,h=aj.max,a3=aj.min,ax="number",aa="string",aV="array",aP="toString",aS="fill",aK=Object[bm][aP],bc={},a6=aj.pow,f="push",bi=/^(?=[\da-f]$)/,c=/^url\(['"]?([^\)]+?)['"]?\)$/i,C=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%))\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,Y=aj.round,A="setAttribute",ae=parseFloat,N=parseInt,aT=" progid:DXImageTransform.Microsoft",a8=String[bm].toUpperCase,l={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},ah={along:"along",blur:ax,"clip-rect":"csv",cx:ax,cy:ax,fill:"colour","fill-opacity":ax,"font-size":ax,height:ax,opacity:ax,path:"path",r:ax,rotation:"csv",rx:ax,ry:ax,scale:"csv",stroke:"colour","stroke-opacity":ax,"stroke-width":ax,translation:"csv",width:ax,x:ax,y:ax},bb="replace";aA.type=(aH.SVGAngle||V.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML");if(aA.type=="VML"){var ap=V.createElement("div");ap.innerHTML="<!--[if vml]><br><br><![endif]-->";if(ap.childNodes[o]!=2){return aA.type=null}ap=null}aA.svg=!(aA.vml=aA.type=="VML");bh[bm]=aA[bm];aA._id=0;aA._oid=0;aA.fn={};aA.is=function(e,d){d=bo.call(d);return(d=="object"&&e===Object(e))||(d=="undefined"&&typeof e==d)||(d=="null"&&e==null)||bo.call(aK.call(e).slice(8,-1))==d};aA.setWindow=function(d){aH=d;V=aH.document};var aW=function(e){if(aA.vml){var d=/^\s+|\s+$/g;aW=at(function(R){var S;R=(R+aG)[bb](d,aG);try{var bp=new aH.ActiveXObject("htmlfile");bp.write("<body>");bp.close();S=bp.body}catch(br){S=aH.createPopup().document.body}var i=S.createTextRange();try{S.style.color=R;var bq=i.queryCommandValue("ForeColor");bq=((bq&255)<<16)|(bq&65280)|((bq&16711680)>>>16);return"#"+("000000"+bq[aP](16)).slice(-6)}catch(br){return"none"}})}else{var E=V.createElement("i");E.title="Rapha\xebl Colour Picker";E.style.display="none";V.body[a5](E);aW=at(function(i){E.style.color=i;return V.defaultView.getComputedStyle(E,aG).getPropertyValue("color")})}return aW(e)};var au=function(){return"hsb("+[this.h,this.s,this.b]+")"},y=function(){return this.hex};aA.hsb2rgb=at(function(bs,bq,bw){if(aA.is(bs,"object")&&"h" in bs&&"s" in bs&&"b" in bs){bw=bs.b;bq=bs.s;bs=bs.h}var R,S,bx;if(bw==0){return{r:0,g:0,b:0,hex:"#000"}}if(bs>1||bq>1||bw>1){bs/=255;bq/=255;bw/=255}var bp=~~(bs*6),bt=(bs*6)-bp,E=bw*(1-bq),e=bw*(1-(bq*bt)),by=bw*(1-(bq*(1-bt)));R=[bw,e,E,E,by,bw,bw][bp];S=[by,bw,bw,e,E,E,by][bp];bx=[E,E,by,bw,bw,e,E][bp];R*=255;S*=255;bx*=255;var bu={r:R,g:S,b:bx,toString:y},d=(~~R)[aP](16),br=(~~S)[aP](16),bv=(~~bx)[aP](16);d=d[bb](bi,"0");br=br[bb](bi,"0");bv=bv[bb](bi,"0");bu.hex="#"+d+br+bv;return bu},aA);aA.rgb2hsb=at(function(d,e,bq){if(aA.is(d,"object")&&"r" in d&&"g" in d&&"b" in d){bq=d.b;e=d.g;d=d.r}if(aA.is(d,aa)){var bs=aA.getRGB(d);d=bs.r;e=bs.g;bq=bs.b}if(d>1||e>1||bq>1){d/=255;e/=255;bq/=255}var bp=h(d,e,bq),i=a3(d,e,bq),R,E,S=bp;if(i==bp){return{h:0,s:0,b:bp}}else{var br=(bp-i);E=br/bp;if(d==bp){R=(e-bq)/br}else{if(e==bp){R=2+((bq-d)/br)}else{R=4+((d-e)/br)}}R/=6;R<0&&R++;R>1&&R--}return{h:R,s:E,b:S,toString:au}},aA);var aX=/,?([achlmqrstvxz]),?/gi,aZ=/\s*,\s*/,j={hs:1,rg:1};aA._path2string=function(){return this.join(",")[bb](aX,"$1")};function at(E,e,d){function i(){var R=Array[bm].slice.call(arguments,0),bp=R[aN]("\u25ba"),S=i.cache=i.cache||{},bq=i.count=i.count||[];if(S[ab](bp)){return d?d(S[bp]):S[bp]}bq[o]>=1000&&delete S[bq.shift()];bq[f](bp);S[bp]=E[bk](e,R);return d?d(S[bp]):S[bp]}return i}aA.getRGB=at(function(e){if(!e||!!((e=e+aG).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(e=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}!(j[ab](e.substring(0,2))||e.charAt()=="#")&&(e=aW(e));var bp,i,E,bs,S,bt,bq=e.match(C);if(bq){if(bq[2]){bs=N(bq[2].substring(5),16);E=N(bq[2].substring(3,5),16);i=N(bq[2].substring(1,3),16)}if(bq[3]){bs=N((bt=bq[3].charAt(3))+bt,16);E=N((bt=bq[3].charAt(2))+bt,16);i=N((bt=bq[3].charAt(1))+bt,16)}if(bq[4]){bq=bq[4][F](aZ);i=ae(bq[0]);E=ae(bq[1]);bs=ae(bq[2]);S=ae(bq[3])}if(bq[5]){bq=bq[5][F](aZ);i=ae(bq[0])*2.55;E=ae(bq[1])*2.55;bs=ae(bq[2])*2.55;S=ae(bq[3])}if(bq[6]){bq=bq[6][F](aZ);i=ae(bq[0]);E=ae(bq[1]);bs=ae(bq[2]);return aA.hsb2rgb(i,E,bs)}if(bq[7]){bq=bq[7][F](aZ);i=ae(bq[0])*2.55;E=ae(bq[1])*2.55;bs=ae(bq[2])*2.55;return aA.hsb2rgb(i,E,bs)}bq={r:i,g:E,b:bs};var d=(~~i)[aP](16),R=(~~E)[aP](16),br=(~~bs)[aP](16);d=d[bb](bi,"0");R=R[bb](bi,"0");br=br[bb](bi,"0");bq.hex="#"+d+R+br;isFinite(ae(S))&&(bq.o=S);return bq}return{r:-1,g:-1,b:-1,hex:"none",error:1}},aA);aA.getColor=function(e){var i=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||0.75},d=this.hsb2rgb(i.h,i.s,i.b);i.h+=0.075;if(i.h>1){i.h=0;i.s-=0.2;i.s<=0&&(this.getColor.start={h:0,s:1,b:i.b})}return d.hex};aA.getColor.reset=function(){delete this.start};var aI=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,ay=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig;aA.parsePathString=at(function(d){if(!d){return null}var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=[];if(aA.is(d,aV)&&aA.is(d[0],aV)){e=aJ(d)}if(!e[o]){(d+aG)[bb](aI,function(R,E,bq){var bp=[],S=bo.call(E);bq[bb](ay,function(bs,br){br&&bp[f](+br)});if(S=="m"&&bp[o]>2){e[f]([E][bf](bp.splice(0,2)));S="l";E=E=="m"?"l":"L"}while(bp[o]>=i[S]){e[f]([E][bf](bp.splice(0,i[S])));if(!i[S]){break}}})}e[aP]=aA._path2string;return e});aA.findDotsAtSegment=function(e,d,bD,bB,bp,R,br,bq,bx){var bv=1-bx,bu=a6(bv,3)*e+a6(bv,2)*3*bx*bD+bv*3*bx*bx*bp+a6(bx,3)*br,bs=a6(bv,3)*d+a6(bv,2)*3*bx*bB+bv*3*bx*bx*R+a6(bx,3)*bq,bz=e+2*bx*(bD-e)+bx*bx*(bp-2*bD+e),by=d+2*bx*(bB-d)+bx*bx*(R-2*bB+d),bC=bD+2*bx*(bp-bD)+bx*bx*(br-2*bp+bD),bA=bB+2*bx*(R-bB)+bx*bx*(bq-2*R+bB),bw=(1-bx)*e+bx*bD,bt=(1-bx)*d+bx*bB,E=(1-bx)*bp+bx*br,i=(1-bx)*R+bx*bq,S=(90-aj.atan((bz-bC)/(by-bA))*180/aj.PI);(bz>bC||by<bA)&&(S+=180);return{x:bu,y:bs,m:{x:bz,y:by},n:{x:bC,y:bA},start:{x:bw,y:bt},end:{x:E,y:i},alpha:S}};var ad=at(function(bu){if(!bu){return{x:0,y:0,width:0,height:0}}bu=O(bu);var br=0,bq=0,R=[],e=[],E;for(var S=0,bt=bu[o];S<bt;S++){E=bu[S];if(E[0]=="M"){br=E[1];bq=E[2];R[f](br);e[f](bq)}else{var bp=aU(br,bq,E[1],E[2],E[3],E[4],E[5],E[6]);R=R[bf](bp.min.x,bp.max.x);e=e[bf](bp.min.y,bp.max.y);br=E[5];bq=E[6]}}var d=a3[bk](0,R),bs=a3[bk](0,e);return{x:d,y:bs,width:h[bk](0,R)-d,height:h[bk](0,e)-bs}}),aJ=function(bp){var E=[];if(!aA.is(bp,aV)||!aA.is(bp&&bp[0],aV)){bp=aA.parsePathString(bp)}for(var e=0,R=bp[o];e<R;e++){E[e]=[];for(var d=0,S=bp[e][o];d<S;d++){E[e][d]=bp[e][d]}}E[aP]=aA._path2string;return E},am=at(function(R){if(!aA.is(R,aV)||!aA.is(R&&R[0],aV)){R=aA.parsePathString(R)}var bt=[],bv=0,bu=0,by=0,bx=0,E=0;if(R[0][0]=="M"){bv=R[0][1];bu=R[0][2];by=bv;bx=bu;E++;bt[f](["M",bv,bu])}for(var bq=E,bz=R[o];bq<bz;bq++){var d=bt[bq]=[],bw=R[bq];if(bw[0]!=bo.call(bw[0])){d[0]=bo.call(bw[0]);switch(d[0]){case"a":d[1]=bw[1];d[2]=bw[2];d[3]=bw[3];d[4]=bw[4];d[5]=bw[5];d[6]=+(bw[6]-bv).toFixed(3);d[7]=+(bw[7]-bu).toFixed(3);break;case"v":d[1]=+(bw[1]-bu).toFixed(3);break;case"m":by=bw[1];bx=bw[2];default:for(var bp=1,br=bw[o];bp<br;bp++){d[bp]=+(bw[bp]-((bp%2)?bv:bu)).toFixed(3)}}}else{d=bt[bq]=[];if(bw[0]=="m"){by=bw[1]+bv;bx=bw[2]+bu}for(var S=0,e=bw[o];S<e;S++){bt[bq][S]=bw[S]}}var bs=bt[bq][o];switch(bt[bq][0]){case"z":bv=by;bu=bx;break;case"h":bv+=+bt[bq][bs-1];break;case"v":bu+=+bt[bq][bs-1];break;default:bv+=+bt[bq][bs-2];bu+=+bt[bq][bs-1]}}bt[aP]=aA._path2string;return bt},0,aJ),v=at(function(R){if(!aA.is(R,aV)||!aA.is(R&&R[0],aV)){R=aA.parsePathString(R)}var bs=[],bu=0,bt=0,bx=0,bw=0,E=0;if(R[0][0]=="M"){bu=+R[0][1];bt=+R[0][2];bx=bu;bw=bt;E++;bs[0]=["M",bu,bt]}for(var bq=E,by=R[o];bq<by;bq++){var d=bs[bq]=[],bv=R[bq];if(bv[0]!=a8.call(bv[0])){d[0]=a8.call(bv[0]);switch(d[0]){case"A":d[1]=bv[1];d[2]=bv[2];d[3]=bv[3];d[4]=bv[4];d[5]=bv[5];d[6]=+(bv[6]+bu);d[7]=+(bv[7]+bt);break;case"V":d[1]=+bv[1]+bt;break;case"H":d[1]=+bv[1]+bu;break;case"M":bx=+bv[1]+bu;bw=+bv[2]+bt;default:for(var bp=1,br=bv[o];bp<br;bp++){d[bp]=+bv[bp]+((bp%2)?bu:bt)}}}else{for(var S=0,e=bv[o];S<e;S++){bs[bq][S]=bv[S]}}switch(d[0]){case"Z":bu=bx;bt=bw;break;case"H":bu=d[1];break;case"V":bt=d[1];break;default:bu=bs[bq][bs[bq][o]-2];bt=bs[bq][bs[bq][o]-1]}}bs[aP]=aA._path2string;return bs},null,aJ),bl=function(e,E,d,i){return[e,E,d,i,d,i]},a4=function(e,E,bp,R,d,i){var S=1/3,bq=2/3;return[S*e+bq*bp,S*E+bq*R,S*d+bq*bp,S*i+bq*R,d,i]},U=function(by,b3,bH,bF,bz,bt,S,bx,b2,bA){var R=aj.PI,bE=R*120/180,d=R/180*(+bz||0),bL=[],bI,bZ=at(function(b4,b7,i){var b6=b4*aj.cos(i)-b7*aj.sin(i),b5=b4*aj.sin(i)+b7*aj.cos(i);return{x:b6,y:b5}});if(!bA){bI=bZ(by,b3,-d);by=bI.x;b3=bI.y;bI=bZ(bx,b2,-d);bx=bI.x;b2=bI.y;var e=aj.cos(R/180*bz),bv=aj.sin(R/180*bz),bN=(by-bx)/2,bM=(b3-b2)/2;var bX=(bN*bN)/(bH*bH)+(bM*bM)/(bF*bF);if(bX>1){bX=aj.sqrt(bX);bH=bX*bH;bF=bX*bF}var E=bH*bH,bQ=bF*bF,bS=(bt==S?-1:1)*aj.sqrt(aj.abs((E*bQ-E*bM*bM-bQ*bN*bN)/(E*bM*bM+bQ*bN*bN))),bC=bS*bH*bM/bF+(by+bx)/2,bB=bS*-bF*bN/bH+(b3+b2)/2,bs=aj.asin(((b3-bB)/bF).toFixed(7)),br=aj.asin(((b2-bB)/bF).toFixed(7));bs=by<bC?R-bs:bs;br=bx<bC?R-br:br;bs<0&&(bs=R*2+bs);br<0&&(br=R*2+br);if(S&&bs>br){bs=bs-R*2}if(!S&&br>bs){br=br-R*2}}else{bs=bA[0];br=bA[1];bC=bA[2];bB=bA[3]}var bw=br-bs;if(aj.abs(bw)>bE){var bD=br,bG=bx,bu=b2;br=bs+bE*(S&&br>bs?1:-1);bx=bC+bH*aj.cos(br);b2=bB+bF*aj.sin(br);bL=U(bx,b2,bH,bF,bz,0,S,bG,bu,[br,bD,bC,bB])}bw=br-bs;var bq=aj.cos(bs),b1=aj.sin(bs),bp=aj.cos(br),b0=aj.sin(br),bO=aj.tan(bw/4),bR=4/3*bH*bO,bP=4/3*bF*bO,bY=[by,b3],bW=[by+bR*b1,b3-bP*bq],bV=[bx+bR*b0,b2-bP*bp],bT=[bx,b2];bW[0]=2*bY[0]-bW[0];bW[1]=2*bY[1]-bW[1];if(bA){return[bW,bV,bT][bf](bL)}else{bL=[bW,bV,bT][bf](bL)[aN]()[F](",");var bJ=[];for(var bU=0,bK=bL[o];bU<bK;bU++){bJ[bU]=bU%2?bZ(bL[bU-1],bL[bU],d).y:bZ(bL[bU],bL[bU+1],d).x}return bJ}},X=function(e,d,E,i,br,bq,bp,S,bs){var R=1-bs;return{x:a6(R,3)*e+a6(R,2)*3*bs*E+R*3*bs*bs*br+a6(bs,3)*bp,y:a6(R,3)*d+a6(R,2)*3*bs*i+R*3*bs*bs*bq+a6(bs,3)*S}},aU=at(function(i,d,R,E,by,bx,bu,br){var bw=(by-2*R+i)-(bu-2*by+R),bt=2*(R-i)-2*(by-R),bq=i-R,bp=(-bt+aj.sqrt(bt*bt-4*bw*bq))/2/bw,S=(-bt-aj.sqrt(bt*bt-4*bw*bq))/2/bw,bs=[d,br],bv=[i,bu],e;aj.abs(bp)>1000000000000&&(bp=0.5);aj.abs(S)>1000000000000&&(S=0.5);if(bp>0&&bp<1){e=X(i,d,R,E,by,bx,bu,br,bp);bv[f](e.x);bs[f](e.y)}if(S>0&&S<1){e=X(i,d,R,E,by,bx,bu,br,S);bv[f](e.x);bs[f](e.y)}bw=(bx-2*E+d)-(br-2*bx+E);bt=2*(E-d)-2*(bx-E);bq=d-E;bp=(-bt+aj.sqrt(bt*bt-4*bw*bq))/2/bw;S=(-bt-aj.sqrt(bt*bt-4*bw*bq))/2/bw;aj.abs(bp)>1000000000000&&(bp=0.5);aj.abs(S)>1000000000000&&(S=0.5);if(bp>0&&bp<1){e=X(i,d,R,E,by,bx,bu,br,bp);bv[f](e.x);bs[f](e.y)}if(S>0&&S<1){e=X(i,d,R,E,by,bx,bu,br,S);bv[f](e.x);bs[f](e.y)}return{min:{x:a3[bk](0,bv),y:a3[bk](0,bs)},max:{x:h[bk](0,bv),y:h[bk](0,bs)}}}),O=at(function(by,bt){var R=v(by),bu=bt&&v(bt),bv={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},bp=function(bz,bA){var i,bB;if(!bz){return["C",bA.x,bA.y,bA.x,bA.y,bA.x,bA.y]}!(bz[0] in {T:1,Q:1})&&(bA.qx=bA.qy=null);switch(bz[0]){case"M":bA.X=bz[1];bA.Y=bz[2];break;case"A":bz=["C"][bf](U[bk](0,[bA.x,bA.y][bf](bz.slice(1))));break;case"S":i=bA.x+(bA.x-(bA.bx||bA.x));bB=bA.y+(bA.y-(bA.by||bA.y));bz=["C",i,bB][bf](bz.slice(1));break;case"T":bA.qx=bA.x+(bA.x-(bA.qx||bA.x));bA.qy=bA.y+(bA.y-(bA.qy||bA.y));bz=["C"][bf](a4(bA.x,bA.y,bA.qx,bA.qy,bz[1],bz[2]));break;case"Q":bA.qx=bz[1];bA.qy=bz[2];bz=["C"][bf](a4(bA.x,bA.y,bz[1],bz[2],bz[3],bz[4]));break;case"L":bz=["C"][bf](bl(bA.x,bA.y,bz[1],bz[2]));break;case"H":bz=["C"][bf](bl(bA.x,bA.y,bz[1],bA.y));break;case"V":bz=["C"][bf](bl(bA.x,bA.y,bA.x,bz[1]));break;case"Z":bz=["C"][bf](bl(bA.x,bA.y,bA.X,bA.Y));break}return bz},e=function(bz,bA){if(bz[bA][o]>7){bz[bA].shift();var bB=bz[bA];while(bB[o]){bz.splice(bA++,0,["C"][bf](bB.splice(0,6)))}bz.splice(bA,1);bw=h(R[o],bu&&bu[o]||0)}},E=function(bD,bC,bA,bz,bB){if(bD&&bC&&bD[bB][0]=="M"&&bC[bB][0]!="M"){bC.splice(bB,0,["M",bz.x,bz.y]);bA.bx=0;bA.by=0;bA.x=bD[bB][1];bA.y=bD[bB][2];bw=h(R[o],bu&&bu[o]||0)}};for(var br=0,bw=h(R[o],bu&&bu[o]||0);br<bw;br++){R[br]=bp(R[br],bv);e(R,br);bu&&(bu[br]=bp(bu[br],d));bu&&e(bu,br);E(R,bu,bv,d,br);E(bu,R,d,bv,br);var bq=R[br],bx=bu&&bu[br],S=bq[o],bs=bu&&bx[o];bv.x=bq[S-2];bv.y=bq[S-1];bv.bx=ae(bq[S-4])||bv.x;bv.by=ae(bq[S-3])||bv.y;d.bx=bu&&(ae(bx[bs-4])||d.x);d.by=bu&&(ae(bx[bs-3])||d.y);d.x=bu&&bx[bs-2];d.y=bu&&bx[bs-1]}return bu?[R,bu]:R},null,aJ),t=at(function(bt){var bs=[];for(var bp=0,bu=bt[o];bp<bu;bp++){var e={},br=bt[bp].match(/^([^:]*):?([\d\.]*)/);e.color=aA.getRGB(br[1]);if(e.color.error){return null}e.color=e.color.hex;br[2]&&(e.offset=br[2]+"%");bs[f](e)}for(bp=1,bu=bs[o]-1;bp<bu;bp++){if(!bs[bp].offset){var E=ae(bs[bp-1].offset||0),R=0;for(var S=bp+1;S<bu;S++){if(bs[S].offset){R=bs[S].offset;break}}if(!R){R=100;S=bu}R=ae(R);var bq=(R-E)/(S-bp+1);for(;bp<S;bp++){E+=bq;bs[bp].offset=E+"%"}}}return bs}),aB=function(d,R,i,E){var e;if(aA.is(d,aa)||aA.is(d,"object")){e=aA.is(d,aa)?V.getElementById(d):d;if(e.tagName){if(R==null){return{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}}else{return{container:e,width:R,height:i}}}}else{return{container:1,x:d,y:R,width:i,height:E}}},a0=function(d,i){var e=this;for(var E in i){if(i[ab](E)&&!(E in d)){switch(typeof i[E]){case"function":(function(R){d[E]=d===e?R:function(){return R[bk](e,arguments)}})(i[E]);break;case"object":d[E]=d[E]||{};a0.call(this,d[E],i[E]);break;default:d[E]=i[E];break}}}},aw=function(d,e){d==e.top&&(e.top=d.prev);d==e.bottom&&(e.bottom=d.next);d.next&&(d.next.prev=d.prev);d.prev&&(d.prev.next=d.next)},ag=function(d,e){if(e.top===d){return}aw(d,e);d.next=null;d.prev=e.top;e.top.next=d;e.top=d},m=function(d,e){if(e.bottom===d){return}aw(d,e);d.next=e.bottom;d.prev=null;e.bottom.prev=d;e.bottom=d},G=function(e,d,i){aw(e,i);d==i.top&&(i.top=e);d.next&&(d.next.prev=e);e.next=d.next;e.prev=d;d.next=e},aD=function(e,d,i){aw(e,i);d==i.bottom&&(i.bottom=e);d.prev&&(d.prev.next=e);e.prev=d.prev;d.prev=e;e.next=d},w=function(d){return function(){throw new Error("Rapha\xebl: you are calling to method \u201c"+d+"\u201d of removed object")}},aF=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(aA.svg){bh[bm].svgns="http://www.w3.org/2000/svg";bh[bm].xlink="http://www.w3.org/1999/xlink";Y=function(d){return +d+(~~d===d)*0.5};var a2=function(i,d){if(d){for(var e in d){if(d[ab](e)){i[A](e,d[e]+aG)}}}else{i=V.createElementNS(bh[bm].svgns,i);i.style.webkitTapHighlightColor="rgba(0,0,0,0)";return i}};aA[aP]=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var u=function(d,E){var e=a2("path");E.canvas&&E.canvas[a5](e);var i=new aL(e,E);i.type="path";ai(i,{fill:"none",stroke:"#000",path:d});return i};var b=function(R,bx,d){var bu="linear",br=0.5,bp=0.5,bz=R.style;bx=(bx+aG)[bb](aF,function(bB,i,bC){bu="radial";if(i&&bC){br=ae(i);bp=ae(bC);var bA=((bp>0.5)*2-1);a6(br-0.5,2)+a6(bp-0.5,2)>0.25&&(bp=aj.sqrt(0.25-a6(br-0.5,2))*bA+0.5)&&bp!=0.5&&(bp=bp.toFixed(5)-0.00001*bA)}return aG});bx=bx[F](/\s*\-\s*/);if(bu=="linear"){var bq=bx.shift();bq=-ae(bq);if(isNaN(bq)){return null}var S=[0,0,aj.cos(bq*aj.PI/180),aj.sin(bq*aj.PI/180)],bw=1/(h(aj.abs(S[2]),aj.abs(S[3]))||1);S[2]*=bw;S[3]*=bw;if(S[2]<0){S[0]=-S[2];S[2]=0}if(S[3]<0){S[1]=-S[3];S[3]=0}}var bt=t(bx);if(!bt){return null}var e=R.getAttribute(aS);e=e.match(/^url\(#(.*)\)$/);e&&d.defs.removeChild(V.getElementById(e[1]));var E=a2(bu+"Gradient");E.id="r"+(aA._id++)[aP](36);a2(E,bu=="radial"?{fx:br,fy:bp}:{x1:S[0],y1:S[1],x2:S[2],y2:S[3]});d.defs[a5](E);for(var bs=0,by=bt[o];bs<by;bs++){var bv=a2("stop");a2(bv,{offset:bt[bs].offset?bt[bs].offset:!bs?"0%":"100%","stop-color":bt[bs].color||"#fff"});E[a5](bv)}a2(R,{fill:"url(#"+E.id+")",opacity:1,"fill-opacity":1});bz.fill=aG;bz.opacity=1;bz.fillOpacity=1;return 1};var W=function(e){var d=e.getBBox();a2(e.pattern,{patternTransform:aA.format("translate({0},{1})",d.x,d.y)})};var ai=function(bw,bF){var bz={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},bB=bw.node,bx=bw.attrs,bt=bw.rotate(),bp=function(bM,bL){bL=bz[bo.call(bL)];if(bL){var bJ=bM.attrs["stroke-width"]||"1",bH={round:bJ,square:bJ,butt:0}[bM.attrs["stroke-linecap"]||bF["stroke-linecap"]]||0,bK=[];var bI=bL[o];while(bI--){bK[bI]=bL[bI]*bJ+((bI%2)?1:-1)*bH}a2(bB,{"stroke-dasharray":bK[aN](",")})}};bF[ab]("rotation")&&(bt=bF.rotation);var bs=(bt+aG)[F](a);if(!(bs.length-1)){bs=null}else{bs[1]=+bs[1];bs[2]=+bs[2]}ae(bt)&&bw.rotate(0,true);for(var bA in bF){if(bF[ab](bA)){if(!l[ab](bA)){continue}var by=bF[bA];bx[bA]=by;switch(bA){case"blur":bw.blur(by);break;case"rotation":bw.rotate(by,true);break;case"href":case"title":case"target":var bD=bB.parentNode;if(bo.call(bD.tagName)!="a"){var R=a2("a");bD.insertBefore(R,bB);R[a5](bB);bD=R}bD.setAttributeNS(bw.paper.xlink,bA,by);break;case"cursor":bB.style.cursor=by;break;case"clip-rect":var e=(by+aG)[F](a);if(e[o]==4){bw.clip&&bw.clip.parentNode.parentNode.removeChild(bw.clip.parentNode);var i=a2("clipPath"),bC=a2("rect");i.id="r"+(aA._id++)[aP](36);a2(bC,{x:e[0],y:e[1],width:e[2],height:e[3]});i[a5](bC);bw.paper.defs[a5](i);a2(bB,{"clip-path":"url(#"+i.id+")"});bw.clip=bC}if(!by){var bE=V.getElementById(bB.getAttribute("clip-path")[bb](/(^url\(#|\)$)/g,aG));bE&&bE.parentNode.removeChild(bE);a2(bB,{"clip-path":aG});delete bw.clip}break;case"path":if(bw.type=="path"){a2(bB,{d:by?bx.path=v(by):"M0,0"})}break;case"width":bB[A](bA,by);if(bx.fx){bA="x";by=bx.x}else{break}case"x":if(bx.fx){by=-bx.x-(bx.width||0)}case"rx":if(bA=="rx"&&bw.type=="rect"){break}case"cx":bs&&(bA=="x"||bA=="cx")&&(bs[1]+=by-bx[bA]);bB[A](bA,Y(by));bw.pattern&&W(bw);break;case"height":bB[A](bA,by);if(bx.fy){bA="y";by=bx.y}else{break}case"y":if(bx.fy){by=-bx.y-(bx.height||0)}case"ry":if(bA=="ry"&&bw.type=="rect"){break}case"cy":bs&&(bA=="y"||bA=="cy")&&(bs[2]+=by-bx[bA]);bB[A](bA,Y(by));bw.pattern&&W(bw);break;case"r":if(bw.type=="rect"){a2(bB,{rx:by,ry:by})}else{bB[A](bA,by)}break;case"src":if(bw.type=="image"){bB.setAttributeNS(bw.paper.xlink,"href",by)}break;case"stroke-width":bB.style.strokeWidth=by;bB[A](bA,by);if(bx["stroke-dasharray"]){bp(bw,bx["stroke-dasharray"])}break;case"stroke-dasharray":bp(bw,by);break;case"translation":var bq=(by+aG)[F](a);bq[0]=+bq[0]||0;bq[1]=+bq[1]||0;if(bs){bs[1]+=bq[0];bs[2]+=bq[1]}x.call(bw,bq[0],bq[1]);break;case"scale":bq=(by+aG)[F](a);bw.scale(+bq[0]||1,+bq[1]||+bq[0]||1,isNaN(ae(bq[2]))?null:+bq[2],isNaN(ae(bq[3]))?null:+bq[3]);break;case aS:var S=(by+aG).match(c);if(S){i=a2("pattern");var bv=a2("image");i.id="r"+(aA._id++)[aP](36);a2(i,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});a2(bv,{x:0,y:0});bv.setAttributeNS(bw.paper.xlink,"href",S[1]);i[a5](bv);var bG=V.createElement("img");bG.style.cssText="position:absolute;left:-9999em;top-9999em";bG.onload=function(){a2(i,{width:this.offsetWidth,height:this.offsetHeight});a2(bv,{width:this.offsetWidth,height:this.offsetHeight});V.body.removeChild(this);bw.paper.safari()};V.body[a5](bG);bG.src=S[1];bw.paper.defs[a5](i);bB.style.fill="url(#"+i.id+")";a2(bB,{fill:"url(#"+i.id+")"});bw.pattern=i;bw.pattern&&W(bw);break}var E=aA.getRGB(by);if(!E.error){delete bF.gradient;delete bx.gradient;!aA.is(bx.opacity,"undefined")&&aA.is(bF.opacity,"undefined")&&a2(bB,{opacity:bx.opacity});!aA.is(bx["fill-opacity"],"undefined")&&aA.is(bF["fill-opacity"],"undefined")&&a2(bB,{"fill-opacity":bx["fill-opacity"]})}else{if((({circle:1,ellipse:1})[ab](bw.type)||(by+aG).charAt()!="r")&&b(bB,by,bw.paper)){bx.gradient=by;bx.fill="none";break}}E[ab]("o")&&a2(bB,{"fill-opacity":E.o/100});case"stroke":E=aA.getRGB(by);bB[A](bA,E.hex);bA=="stroke"&&E[ab]("o")&&a2(bB,{"stroke-opacity":E.o/100});break;case"gradient":(({circle:1,ellipse:1})[ab](bw.type)||(by+aG).charAt()!="r")&&b(bB,by,bw.paper);break;case"opacity":case"fill-opacity":if(bx.gradient){var d=V.getElementById(bB.getAttribute(aS)[bb](/^url\(#|\)$/g,aG));if(d){var br=d.getElementsByTagName("stop");br[br[o]-1][A]("stop-opacity",by)}break}default:bA=="font-size"&&(by=N(by,10)+"px");var bu=bA[bb](/(\-.)/g,function(bH){return a8.call(bH.substring(1))});bB.style[bu]=by;bB[A](bA,by);break}}}L(bw,bF);if(bs){bw.rotate(bs.join(az))}else{ae(bt)&&bw.rotate(bt,true)}};var k=1.2,L=function(d,R){if(d.type!="text"||!(R[ab]("text")||R[ab]("font")||R[ab]("font-size")||R[ab]("x")||R[ab]("y"))){return}var bs=d.attrs,e=d.node,bu=e.firstChild?N(V.defaultView.getComputedStyle(e.firstChild,aG).getPropertyValue("font-size"),10):10;if(R[ab]("text")){bs.text=R.text;while(e.firstChild){e.removeChild(e.firstChild)}var E=(R.text+aG)[F]("\n");for(var S=0,bt=E[o];S<bt;S++){if(E[S]){var bq=a2("tspan");S&&a2(bq,{dy:bu*k,x:bs.x});bq[a5](V.createTextNode(E[S]));e[a5](bq)}}}else{E=e.getElementsByTagName("tspan");for(S=0,bt=E[o];S<bt;S++){S&&a2(E[S],{dy:bu*k,x:bs.x})}}a2(e,{y:bs.y});var bp=d.getBBox(),br=bs.y-(bp.y+bp.height/2);br&&isFinite(br)&&a2(e,{y:bs.y+br})},aL=function(e,d){var E=0,i=0;this[0]=e;this.id=aA._oid++;this.node=e;e.raphael=this;this.paper=d;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);this.prev=d.top;d.top&&(d.top.next=this);d.top=this;this.next=null};aL[bm].rotate=function(e,d,E){if(this.removed){return this}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][aN](az)}return this._.rt.deg}var i=this.getBBox();e=(e+aG)[F](a);if(e[o]-1){d=ae(e[1]);E=ae(e[2])}e=ae(e[0]);if(d!=null){this._.rt.deg=e}else{this._.rt.deg+=e}(E==null)&&(d=null);this._.rt.cx=d;this._.rt.cy=E;d=d==null?i.x+i.width/2:d;E=E==null?i.y+i.height/2:E;if(this._.rt.deg){this.transformations[0]=aA.format("rotate({0} {1} {2})",this._.rt.deg,d,E);this.clip&&a2(this.clip,{transform:aA.format("rotate({0} {1} {2})",-this._.rt.deg,d,E)})}else{this.transformations[0]=aG;this.clip&&a2(this.clip,{transform:aG})}a2(this.node,{transform:this.transformations[aN](az)});return this};aL[bm].hide=function(){!this.removed&&(this.node.style.display="none");return this};aL[bm].show=function(){!this.removed&&(this.node.style.display="");return this};aL[bm].remove=function(){if(this.removed){return}aw(this,this.paper);this.node.parentNode.removeChild(this.node);for(var d in this){delete this[d]}this.removed=true};aL[bm].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return ad(this.attrs.path)}if(this.node.style.display=="none"){this.show();var E=true}var bq={};try{bq=this.node.getBBox()}catch(S){}finally{bq=bq||{}}if(this.type=="text"){bq={x:bq.x,y:Infinity,width:0,height:0};for(var d=0,R=this.node.getNumberOfChars();d<R;d++){var bp=this.node.getExtentOfChar(d);(bp.y<bq.y)&&(bq.y=bp.y);(bp.y+bp.height-bq.y>bq.height)&&(bq.height=bp.y+bp.height-bq.y);(bp.x+bp.width-bq.x>bq.width)&&(bq.width=bp.x+bp.width-bq.x)}}E&&this.hide();return bq};aL[bm].attr=function(E,bq){if(this.removed){return this}if(E==null){var S={};for(var R in this.attrs){if(this.attrs[ab](R)){S[R]=this.attrs[R]}}this._.rt.deg&&(S.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(S.scale=this.scale());S.gradient&&S.fill=="none"&&(S.fill=S.gradient)&&delete S.gradient;return S}if(bq==null&&aA.is(E,aa)){if(E=="translation"){return x.call(this)}if(E=="rotation"){return this.rotate()}if(E=="scale"){return this.scale()}if(E==aS&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[E]}if(bq==null&&aA.is(E,aV)){var d={};for(var e=0,bp=E.length;e<bp;e++){d[E[e]]=this.attr(E[e])}return d}if(bq!=null){var br={};br[E]=bq;ai(this,br)}else{if(E!=null&&aA.is(E,"object")){ai(this,E)}}return this};aL[bm].toFront=function(){if(this.removed){return this}this.node.parentNode[a5](this.node);var d=this.paper;d.top!=this&&ag(this,d);return this};aL[bm].toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);m(this,this.paper);var d=this.paper}return this};aL[bm].insertAfter=function(d){if(this.removed){return this}var e=d.node;if(e.nextSibling){e.parentNode.insertBefore(this.node,e.nextSibling)}else{e.parentNode[a5](this.node)}G(this,d,this.paper);return this};aL[bm].insertBefore=function(d){if(this.removed){return this}var e=d.node;e.parentNode.insertBefore(this.node,e);aD(this,d,this.paper);return this};aL[bm].blur=function(e){var d=this;if(+e!==0){var i=a2("filter"),E=a2("feGaussianBlur");d.attrs.blur=e;i.id="r"+(aA._id++)[aP](36);a2(E,{stdDeviation:+e||1.5});i.appendChild(E);d.paper.defs.appendChild(i);d._blur=i;a2(d.node,{filter:"url(#"+i.id+")"})}else{if(d._blur){d._blur.parentNode.removeChild(d._blur);delete d._blur;delete d.attrs.blur}d.node.removeAttribute("filter")}};var Z=function(e,d,S,R){d=Y(d);S=Y(S);var E=a2("circle");e.canvas&&e.canvas[a5](E);var i=new aL(E,e);i.attrs={cx:d,cy:S,r:R,fill:"none",stroke:"#000"};i.type="circle";a2(E,i.attrs);return i};var aY=function(i,d,bq,e,S,bp){d=Y(d);bq=Y(bq);var R=a2("rect");i.canvas&&i.canvas[a5](R);var E=new aL(R,i);E.attrs={x:d,y:bq,width:e,height:S,r:bp||0,rx:bp||0,ry:bp||0,fill:"none",stroke:"#000"};E.type="rect";a2(R,E.attrs);return E};var ar=function(e,d,bp,S,R){d=Y(d);bp=Y(bp);var E=a2("ellipse");e.canvas&&e.canvas[a5](E);var i=new aL(E,e);i.attrs={cx:d,cy:bp,rx:S,ry:R,fill:"none",stroke:"#000"};i.type="ellipse";a2(E,i.attrs);return i};var s=function(i,bp,d,bq,e,S){var R=a2("image");a2(R,{x:d,y:bq,width:e,height:S,preserveAspectRatio:"none"});R.setAttributeNS(i.xlink,"href",bp);i.canvas&&i.canvas[a5](R);var E=new aL(R,i);E.attrs={x:d,y:bq,width:e,height:S,src:bp};E.type="image";return E};var af=function(e,d,S,R){var E=a2("text");a2(E,{x:d,y:S,"text-anchor":"middle"});e.canvas&&e.canvas[a5](E);var i=new aL(E,e);i.attrs={x:d,y:S,"text-anchor":"middle",text:R,font:l.font,stroke:"none",fill:"#000"};i.type="text";ai(i,i.attrs);return i};var bj=function(e,d){this.width=e||this.width;this.height=d||this.height;this.canvas[A]("width",this.width);this.canvas[A]("height",this.height);return this};var B=function(){var E=aB[bk](0,arguments),i=E&&E.container,e=E.x,bp=E.y,R=E.width,d=E.height;if(!i){throw new Error("SVG container not found.")}var S=a2("svg");e=e||0;bp=bp||0;R=R||512;d=d||342;a2(S,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:R,height:d});if(i==1){S.style.cssText="position:absolute;left:"+e+"px;top:"+bp+"px";V.body[a5](S)}else{if(i.firstChild){i.insertBefore(S,i.firstChild)}else{i[a5](S)}}i=new bh;i.width=R;i.height=d;i.canvas=S;a0.call(i,i,aA.fn);i.clear();return i};bh[bm].clear=function(){var d=this.canvas;while(d.firstChild){d.removeChild(d.firstChild)}this.bottom=this.top=null;(this.desc=a2("desc"))[a5](V.createTextNode("Created with Rapha\xebl"));d[a5](this.desc);d[a5](this.defs=a2("defs"))};bh[bm].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var d in this){this[d]=w(d)}}}if(aA.vml){var J={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},aE=/([clmz]),?([^clmz]*)/gi,bn=/-?[^,\s-]+/g,aO=1000+az+1000,r=10,p={path:1,rect:1},a1=function(bu){var br=/[ahqstv]/ig,E=v;(bu+aG).match(br)&&(E=O);br=/[clmz]/g;if(E==v&&!(bu+aG).match(br)){var bq=(bu+aG)[bb](aE,function(bx,bz,bv){var by=[],i=bo.call(bz)=="m",bw=J[bz];bv[bb](bn,function(bA){if(i&&by[o]==2){bw+=by+J[bz=="m"?"l":"L"];by=[]}by[f](Y(bA*r))});return bw+by});return bq}var bs=E(bu),e,d;bq=[];for(var S=0,bt=bs[o];S<bt;S++){e=bs[S];d=bo.call(bs[S][0]);d=="z"&&(d="x");for(var R=1,bp=e[o];R<bp;R++){d+=Y(e[R]*r)+(R!=bp-1?",":aG)}bq[f](d)}return bq[aN](az)};aA[aP]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};u=function(i,e){var S=aq("group");S.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";S.coordsize=e.coordsize;S.coordorigin=e.coordorigin;var R=aq("shape"),E=R.style;E.width=e.width+"px";E.height=e.height+"px";R.coordsize=aO;R.coordorigin=e.coordorigin;S[a5](R);var bp=new aL(R,S,e),d={fill:"none",stroke:"#000"};i&&(d.path=i);bp.isAbsolute=true;bp.type="path";bp.path=[];bp.Path=aG;ai(bp,d);e.canvas[a5](S);return bp};ai=function(bs,bz){bs.attrs=bs.attrs||{};var bw=bs.node,bA=bs.attrs,bp=bw.style,E,by=(bz.x!=bA.x||bz.y!=bA.y||bz.width!=bA.width||bz.height!=bA.height||bz.r!=bA.r)&&bs.type=="rect",bE=bs;for(var bq in bz){if(bz[ab](bq)){bA[bq]=bz[bq]}}if(by){bA.path=al(bA.x,bA.y,bA.width,bA.height,bA.r);bs.X=bA.x;bs.Y=bA.y;bs.W=bA.width;bs.H=bA.height}bz.href&&(bw.href=bz.href);bz.title&&(bw.title=bz.title);bz.target&&(bw.target=bz.target);bz.cursor&&(bp.cursor=bz.cursor);"blur" in bz&&bs.blur(bz.blur);if(bz.path&&bs.type=="path"||by){bw.path=a1(bA.path)}if(bz.rotation!=null){bs.rotate(bz.rotation,true)}if(bz.translation){E=(bz.translation+aG)[F](a);x.call(bs,E[0],E[1]);if(bs._.rt.cx!=null){bs._.rt.cx+=+E[0];bs._.rt.cy+=+E[1];bs.setBox(bs.attrs,E[0],E[1])}}if(bz.scale){E=(bz.scale+aG)[F](a);bs.scale(+E[0]||1,+E[1]||+E[0]||1,+E[2]||null,+E[3]||null)}if("clip-rect" in bz){var d=(bz["clip-rect"]+aG)[F](a);if(d[o]==4){d[2]=+d[2]+(+d[0]);d[3]=+d[3]+(+d[1]);var br=bw.clipRect||V.createElement("div"),bD=br.style,S=bw.parentNode;bD.clip=aA.format("rect({1}px {2}px {3}px {0}px)",d);if(!bw.clipRect){bD.position="absolute";bD.top=0;bD.left=0;bD.width=bs.paper.width+"px";bD.height=bs.paper.height+"px";S.parentNode.insertBefore(br,S);br[a5](S);bw.clipRect=br}}if(!bz["clip-rect"]){bw.clipRect&&(bw.clipRect.style.clip=aG)}}if(bs.type=="image"&&bz.src){bw.src=bz.src}if(bs.type=="image"&&bz.opacity){bw.filterOpacity=aT+".Alpha(opacity="+(bz.opacity*100)+")";bp.filter=(bw.filterMatrix||aG)+(bw.filterOpacity||aG)}bz.font&&(bp.font=bz.font);bz["font-family"]&&(bp.fontFamily='"'+bz["font-family"][F](",")[0][bb](/^['"]+|['"]+$/g,aG)+'"');bz["font-size"]&&(bp.fontSize=bz["font-size"]);bz["font-weight"]&&(bp.fontWeight=bz["font-weight"]);bz["font-style"]&&(bp.fontStyle=bz["font-style"]);if(bz.opacity!=null||bz["stroke-width"]!=null||bz.fill!=null||bz.stroke!=null||bz["stroke-width"]!=null||bz["stroke-opacity"]!=null||bz["fill-opacity"]!=null||bz["stroke-dasharray"]!=null||bz["stroke-miterlimit"]!=null||bz["stroke-linejoin"]!=null||bz["stroke-linecap"]!=null){bw=bs.shape||bw;var bx=(bw.getElementsByTagName(aS)&&bw.getElementsByTagName(aS)[0]),bB=false;!bx&&(bB=bx=aq(aS));if("fill-opacity" in bz||"opacity" in bz){var e=((+bA["fill-opacity"]+1||2)-1)*((+bA.opacity+1||2)-1)*((+aA.getRGB(bz.fill).o+1||2)-1);e<0&&(e=0);e>1&&(e=1);bx.opacity=e}bz.fill&&(bx.on=true);if(bx.on==null||bz.fill=="none"){bx.on=false}if(bx.on&&bz.fill){var i=bz.fill.match(c);if(i){bx.src=i[1];bx.type="tile"}else{bx.color=aA.getRGB(bz.fill).hex;bx.src=aG;bx.type="solid";if(aA.getRGB(bz.fill).error&&(bE.type in {circle:1,ellipse:1}||(bz.fill+aG).charAt()!="r")&&b(bE,bz.fill)){bA.fill="none";bA.gradient=bz.fill}}}bB&&bw[a5](bx);var R=(bw.getElementsByTagName("stroke")&&bw.getElementsByTagName("stroke")[0]),bC=false;!R&&(bC=R=aq("stroke"));if((bz.stroke&&bz.stroke!="none")||bz["stroke-width"]||bz["stroke-opacity"]!=null||bz["stroke-dasharray"]||bz["stroke-miterlimit"]||bz["stroke-linejoin"]||bz["stroke-linecap"]){R.on=true}(bz.stroke=="none"||R.on==null||bz.stroke==0||bz["stroke-width"]==0)&&(R.on=false);var bv=aA.getRGB(bz.stroke);R.on&&bz.stroke&&(R.color=bv.hex);e=((+bA["stroke-opacity"]+1||2)-1)*((+bA.opacity+1||2)-1)*((+bv.o+1||2)-1);var bt=(ae(bz["stroke-width"])||1)*0.75;e<0&&(e=0);e>1&&(e=1);bz["stroke-width"]==null&&(bt=bA["stroke-width"]);bz["stroke-width"]&&(R.weight=bt);bt&&bt<1&&(e*=bt)&&(R.weight=1);R.opacity=e;bz["stroke-linejoin"]&&(R.joinstyle=bz["stroke-linejoin"]||"miter");R.miterlimit=bz["stroke-miterlimit"]||8;bz["stroke-linecap"]&&(R.endcap=bz["stroke-linecap"]=="butt"?"flat":bz["stroke-linecap"]=="square"?"square":"round");if(bz["stroke-dasharray"]){var bu={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};R.dashstyle=bu[ab](bz["stroke-dasharray"])?bu[bz["stroke-dasharray"]]:aG}bC&&bw[a5](R)}if(bE.type=="text"){bp=bE.paper.span.style;bA.font&&(bp.font=bA.font);bA["font-family"]&&(bp.fontFamily=bA["font-family"]);bA["font-size"]&&(bp.fontSize=bA["font-size"]);bA["font-weight"]&&(bp.fontWeight=bA["font-weight"]);bA["font-style"]&&(bp.fontStyle=bA["font-style"]);bE.node.string&&(bE.paper.span.innerHTML=(bE.node.string+aG)[bb](/</g,"&#60;")[bb](/&/g,"&#38;")[bb](/\n/g,"<br>"));bE.W=bA.w=bE.paper.span.offsetWidth;bE.H=bA.h=bE.paper.span.offsetHeight;bE.X=bA.x;bE.Y=bA.y+Y(bE.H/2);switch(bA["text-anchor"]){case"start":bE.node.style["v-text-align"]="left";bE.bbx=Y(bE.W/2);break;case"end":bE.node.style["v-text-align"]="right";bE.bbx=-Y(bE.W/2);break;default:bE.node.style["v-text-align"]="center";break}}};b=function(d,bq){d.attrs=d.attrs||{};var br=d.attrs,bt,S="linear",bp=".5 .5";d.attrs.gradient=bq;bq=(bq+aG)[bb](aF,function(bv,bw,i){S="radial";if(bw&&i){bw=ae(bw);i=ae(i);a6(bw-0.5,2)+a6(i-0.5,2)>0.25&&(i=aj.sqrt(0.25-a6(bw-0.5,2))*((i>0.5)*2-1)+0.5);bp=bw+az+i}return aG});bq=bq[F](/\s*\-\s*/);if(S=="linear"){var e=bq.shift();e=-ae(e);if(isNaN(e)){return null}}var R=t(bq);if(!R){return null}d=d.shape||d.node;bt=d.getElementsByTagName(aS)[0]||aq(aS);!bt.parentNode&&d.appendChild(bt);if(R[o]){bt.on=true;bt.method="none";bt.color=R[0].color;bt.color2=R[R[o]-1].color;var bu=[];for(var E=0,bs=R[o];E<bs;E++){R[E].offset&&bu[f](R[E].offset+az+R[E].color)}bt.colors&&(bt.colors.value=bu[o]?bu[aN]():"0% "+bt.color);if(S=="radial"){bt.type="gradientradial";bt.focus="100%";bt.focussize=bp;bt.focusposition=bp}else{bt.type="gradient";bt.angle=(270-e)%360}}return 1};aL=function(R,bp,d){var S=0,i=0,e=0,E=1;this[0]=R;this.id=aA._oid++;this.node=R;R.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=bp;this.paper=d;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);this.prev=d.top;d.top&&(d.top.next=this);d.top=this;this.next=null};aL[bm].rotate=function(e,d,i){if(this.removed){return this}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][aN](az)}return this._.rt.deg}e=(e+aG)[F](a);if(e[o]-1){d=ae(e[1]);i=ae(e[2])}e=ae(e[0]);if(d!=null){this._.rt.deg=e}else{this._.rt.deg+=e}i==null&&(d=null);this._.rt.cx=d;this._.rt.cy=i;this.setBox(this.attrs,d,i);this.Group.style.rotation=this._.rt.deg;return this};aL[bm].setBox=function(R,S,E){if(this.removed){return this}var d=this.Group.style,bp=(this.shape&&this.shape.style)||this.node.style;R=R||{};for(var bq in R){if(R[ab](bq)){this.attrs[bq]=R[bq]}}S=S||this._.rt.cx;E=E||this._.rt.cy;var bt=this.attrs,bw,bv,bx,bs;switch(this.type){case"circle":bw=bt.cx-bt.r;bv=bt.cy-bt.r;bx=bs=bt.r*2;break;case"ellipse":bw=bt.cx-bt.rx;bv=bt.cy-bt.ry;bx=bt.rx*2;bs=bt.ry*2;break;case"image":bw=+bt.x;bv=+bt.y;bx=bt.width||0;bs=bt.height||0;break;case"text":this.textpath.v=["m",Y(bt.x),", ",Y(bt.y-2),"l",Y(bt.x)+1,", ",Y(bt.y-2)][aN](aG);bw=bt.x-Y(this.W/2);bv=bt.y-this.H/2;bx=this.W;bs=this.H;break;case"rect":case"path":if(!this.attrs.path){bw=0;bv=0;bx=this.paper.width;bs=this.paper.height}else{var br=ad(this.attrs.path);bw=br.x;bv=br.y;bx=br.width;bs=br.height}break;default:bw=0;bv=0;bx=this.paper.width;bs=this.paper.height;break}S=(S==null)?bw+bx/2:S;E=(E==null)?bv+bs/2:E;var e=S-this.paper.width/2,bu=E-this.paper.height/2,by;d.left!=(by=e+"px")&&(d.left=by);d.top!=(by=bu+"px")&&(d.top=by);this.X=p[ab](this.type)?-e:bw;this.Y=p[ab](this.type)?-bu:bv;this.W=bx;this.H=bs;if(p[ab](this.type)){bp.left!=(by=-e*r+"px")&&(bp.left=by);bp.top!=(by=-bu*r+"px")&&(bp.top=by)}else{if(this.type=="text"){bp.left!=(by=-e+"px")&&(bp.left=by);bp.top!=(by=-bu+"px")&&(bp.top=by)}else{d.width!=(by=this.paper.width+"px")&&(d.width=by);d.height!=(by=this.paper.height+"px")&&(d.height=by);bp.left!=(by=bw-e+"px")&&(bp.left=by);bp.top!=(by=bv-bu+"px")&&(bp.top=by);bp.width!=(by=bx+"px")&&(bp.width=by);bp.height!=(by=bs+"px")&&(bp.height=by)}}};aL[bm].hide=function(){!this.removed&&(this.Group.style.display="none");return this};aL[bm].show=function(){!this.removed&&(this.Group.style.display="block");return this};aL[bm].getBBox=function(){if(this.removed){return this}if(p[ab](this.type)){return ad(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};aL[bm].remove=function(){if(this.removed){return}aw(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var d in this){delete this[d]}this.removed=true};aL[bm].attr=function(e,bp){if(this.removed){return this}if(e==null){var R={};for(var E in this.attrs){if(this.attrs[ab](E)){R[E]=this.attrs[E]}}this._.rt.deg&&(R.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(R.scale=this.scale());R.gradient&&R.fill=="none"&&(R.fill=R.gradient)&&delete R.gradient;return R}if(bp==null&&aA.is(e,aa)){if(e=="translation"){return x.call(this)}if(e=="rotation"){return this.rotate()}if(e=="scale"){return this.scale()}if(e==aS&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[e]}if(this.attrs&&bp==null&&aA.is(e,aV)){var S,d={};for(E=0,S=e[o];E<S;E++){d[e[E]]=this.attr(e[E])}return d}var bq;if(bp!=null){bq={};bq[e]=bp}bp==null&&aA.is(e,"object")&&(bq=e);if(bq){if(bq.text&&this.type=="text"){this.node.string=bq.text}ai(this,bq);if(bq.gradient&&(({circle:1,ellipse:1})[ab](this.type)||(bq.gradient+aG).charAt()!="r")){b(this,bq.gradient)}(!p[ab](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};aL[bm].toFront=function(){!this.removed&&this.Group.parentNode[a5](this.Group);this.paper.top!=this&&ag(this,this.paper);return this};aL[bm].toBack=function(){if(this.removed){return this}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);m(this,this.paper)}return this};aL[bm].insertAfter=function(d){if(this.removed){return this}if(d.Group.nextSibling){d.Group.parentNode.insertBefore(this.Group,d.Group.nextSibling)}else{d.Group.parentNode[a5](this.Group)}G(this,d,this.paper);return this};aL[bm].insertBefore=function(d){if(this.removed){return this}d.Group.parentNode.insertBefore(this.Group,d.Group);aD(this,d,this.paper);return this};var bg=/ progid:\S+Blur\([^\)]+\)/g;aL[bm].blur=function(d){var e=this.node.style,i=e.filter;i=i.replace(bg,"");if(+d!==0){this.attrs.blur=d;e.filter=i+aT+".Blur(pixelradius="+(+d||1.5)+")";e.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+d||1.5))}else{e.filter=i;e.margin=0;delete this.attrs.blur}};Z=function(e,d,bq,S){var R=aq("group"),bp=aq("oval"),i=bp.style;R.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";R.coordsize=aO;R.coordorigin=e.coordorigin;R[a5](bp);var E=new aL(bp,R,e);E.type="circle";ai(E,{stroke:"#000",fill:"none"});E.attrs.cx=d;E.attrs.cy=bq;E.attrs.r=S;E.setBox({x:d-S,y:bq-S,width:S*2,height:S*2});e.canvas[a5](R);return E};function al(d,R,e,i,E){if(E){return aA.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",d+E,R,e-E*2,E,-E,i-E*2,E*2-e,E*2-i)}else{return aA.format("M{0},{1}l{2},0,0,{3},{4},0z",d,R,e,i,-e)}}aY=function(e,bp,R,bq,i,d){var br=al(bp,R,bq,i,d),E=e.path(br),S=E.attrs;E.X=S.x=bp;E.Y=S.y=R;E.W=S.width=bq;E.H=S.height=i;S.r=d;S.path=br;E.type="rect";return E};ar=function(d,br,bq,i,e){var R=aq("group"),E=aq("oval"),bp=E.style;R.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";R.coordsize=aO;R.coordorigin=d.coordorigin;R[a5](E);var S=new aL(E,R,d);S.type="ellipse";ai(S,{stroke:"#000"});S.attrs.cx=br;S.attrs.cy=bq;S.attrs.rx=i;S.attrs.ry=e;S.setBox({x:br-i,y:bq-e,width:i*2,height:e*2});d.canvas[a5](R);return S};s=function(e,d,br,bq,bs,E){var R=aq("group"),i=aq("image"),bp=i.style;R.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";R.coordsize=aO;R.coordorigin=e.coordorigin;i.src=d;R[a5](i);var S=new aL(i,R,e);S.type="image";S.attrs.src=d;S.attrs.x=br;S.attrs.y=bq;S.attrs.w=bs;S.attrs.h=E;S.setBox({x:br,y:bq,width:bs,height:E});e.canvas[a5](R);return S};af=function(e,br,bq,bs){var R=aq("group"),E=aq("shape"),bp=E.style,bt=aq("path"),d=bt.style,i=aq("textpath");R.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";R.coordsize=aO;R.coordorigin=e.coordorigin;bt.v=aA.format("m{0},{1}l{2},{1}",Y(br*10),Y(bq*10),Y(br*10)+1);bt.textpathok=true;bp.width=e.width;bp.height=e.height;i.string=bs+aG;i.on=true;E[a5](i);E[a5](bt);R[a5](E);var S=new aL(i,R,e);S.shape=E;S.textpath=bt;S.type="text";S.attrs.text=bs;S.attrs.x=br;S.attrs.y=bq;S.attrs.w=1;S.attrs.h=1;ai(S,{font:l.font,stroke:"none",fill:"#000"});S.setBox();e.canvas[a5](R);return S};bj=function(i,d){var e=this.canvas.style;i==+i&&(i+="px");d==+d&&(d+="px");e.width=i;e.height=d;e.clip="rect(0 "+i+" "+d+" 0)";return this};var aq;V.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!V.namespaces.rvml&&V.namespaces.add("rvml","urn:schemas-microsoft-com:vml");aq=function(d){return V.createElement("<rvml:"+d+' class="rvml">')}}catch(ao){aq=function(d){return V.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}B=function(){var i=aB[bk](0,arguments),d=i.container,br=i.height,bs,e=i.width,bq=i.x,bp=i.y;if(!d){throw new Error("VML container not found.")}var R=new bh,S=R.canvas=V.createElement("div"),E=S.style;bq=bq||0;bp=bp||0;e=e||512;br=br||342;e==+e&&(e+="px");br==+br&&(br+="px");R.width=1000;R.height=1000;R.coordsize=r*1000+az+r*1000;R.coordorigin="0 0";R.span=V.createElement("span");R.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";S[a5](R.span);E.cssText=aA.format("width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,br);if(d==1){V.body[a5](S);E.left=bq+"px";E.top=bp+"px";E.position="absolute"}else{if(d.firstChild){d.insertBefore(S,d.firstChild)}else{d[a5](S)}}a0.call(R,R,aA.fn);return R};bh[bm].clear=function(){this.canvas.innerHTML=aG;this.span=V.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[a5](this.span);this.bottom=this.top=null};bh[bm].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var d in this){this[d]=w(d)}return true}}if((/^Apple|^Google/).test(aH.navigator.vendor)&&(!(aH.navigator.userAgent.indexOf("Version/4.0")+1)||aH.navigator.platform.slice(0,2)=="iP")){bh[bm].safari=function(){var d=this.rect(-99,-99,this.width+99,this.height+99);aH.setTimeout(function(){d.remove()})}}else{bh[bm].safari=function(){}}var K=function(){this.returnValue=false},be=function(){return this.originalEvent.preventDefault()},aR=function(){this.cancelBubble=true},av=function(){return this.originalEvent.stopPropagation()},an=(function(){if(V.addEventListener){return function(S,E,i,e){var d=P&&ba[E]?ba[E]:E;var R=function(bs){if(P&&ba[ab](E)){for(var bq=0,br=bs.targetTouches&&bs.targetTouches.length;bq<br;bq++){if(bs.targetTouches[bq].target==S){var bp=bs;bs=bs.targetTouches[bq];bs.originalEvent=bp;bs.preventDefault=be;bs.stopPropagation=av;break}}}return i.call(e,bs)};S.addEventListener(d,R,false);return function(){S.removeEventListener(d,R,false);return true}}}else{if(V.attachEvent){return function(S,E,i,e){var R=function(bp){bp=bp||aH.event;bp.preventDefault=bp.preventDefault||K;bp.stopPropagation=bp.stopPropagation||aR;return i.call(e,bp)};S.attachEvent("on"+E,R);var d=function(){S.detachEvent("on"+E,R);return true};return d}}}})();for(var ak=M[o];ak--;){(function(d){aA[d]=aL[bm][d]=function(e){if(aA.is(e,"function")){this.events=this.events||[];this.events.push({name:d,f:e,unbind:an(this.shape||this.node||V,d,e,this)})}return this};aA["un"+d]=aL[bm]["un"+d]=function(E){var i=this.events,e=i[o];while(e--){if(i[e].name==d&&i[e].f==E){i[e].unbind();i.splice(e,1);!i.length&&delete this.events;return this}}return this}})(M[ak])}aL[bm].hover=function(e,d){return this.mouseover(e).mouseout(d)};aL[bm].unhover=function(e,d){return this.unmouseover(e).unmouseout(d)};aL[bm].drag=function(i,S,R){this._drag={};var E=this.mousedown(function(bp){(bp.originalEvent?bp.originalEvent:bp).preventDefault();this._drag.x=bp.clientX;this._drag.y=bp.clientY;this._drag.id=bp.identifier;S&&S.call(this,bp.clientX,bp.clientY);Raphael.mousemove(e).mouseup(d)}),e=function(br){var bp=br.clientX,bt=br.clientY;if(P){var bq=br.touches.length,bs;while(bq--){bs=br.touches[bq];if(bs.identifier==E._drag.id){bp=bs.clientX;bt=bs.clientY;(br.originalEvent?br.originalEvent:br).preventDefault();break}}}else{br.preventDefault()}i&&i.call(E,bp-E._drag.x,bt-E._drag.y,bp,bt)},d=function(){E._drag={};Raphael.unmousemove(e).unmouseup(d);R&&R.call(E)};return this};bh[bm].circle=function(d,i,e){return Z(this,d||0,i||0,e||0)};bh[bm].rect=function(d,R,e,i,E){return aY(this,d||0,R||0,e||0,i||0,E||0)};bh[bm].ellipse=function(d,E,i,e){return ar(this,d||0,E||0,i||0,e||0)};bh[bm].path=function(d){d&&!aA.is(d,aa)&&!aA.is(d[0],aV)&&(d+=aG);return u(aA.format[bk](aA,arguments),this)};bh[bm].image=function(E,d,R,e,i){return s(this,E||"about:blank",d||0,R||0,e||0,i||0)};bh[bm].text=function(d,i,e){return af(this,d||0,i||0,e||aG)};bh[bm].set=function(d){arguments[o]>1&&(d=Array[bm].splice.call(arguments,0,arguments[o]));return new ac(d)};bh[bm].setSize=bj;bh[bm].top=bh[bm].bottom=null;bh[bm].raphael=aA;function z(){return this.x+az+this.y}aL[bm].resetScale=function(){if(this.removed){return this}this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};aL[bm].scale=function(bv,bu,E,e){if(this.removed){return this}if(bv==null&&bu==null){return{x:this._.sx,y:this._.sy,toString:z}}bu=bu||bv;!+bu&&(bu=bv);var bz,bx,by,bw,bL=this.attrs;if(bv!=0){var bt=this.getBBox(),bq=bt.x+bt.width/2,R=bt.y+bt.height/2,bK=bv/this._.sx,bJ=bu/this._.sy;E=(+E||E==0)?E:bq;e=(+e||e==0)?e:R;var bs=~~(bv/aj.abs(bv)),bp=~~(bu/aj.abs(bu)),bC=this.node.style,bN=E+(bq-E)*bK,bM=e+(R-e)*bJ;switch(this.type){case"rect":case"image":var br=bL.width*bs*bK,bB=bL.height*bp*bJ;this.attr({height:bB,r:bL.r*a3(bs*bK,bp*bJ),width:br,x:bN-br/2,y:bM-bB/2});break;case"circle":case"ellipse":this.attr({rx:bL.rx*bs*bK,ry:bL.ry*bp*bJ,r:bL.r*a3(bs*bK,bp*bJ),cx:bN,cy:bM});break;case"text":this.attr({x:bN,y:bM});break;case"path":var bE=am(bL.path),bF=true;for(var bH=0,bA=bE[o];bH<bA;bH++){var bD=bE[bH],S=a8.call(bD[0]);if(S=="M"&&bF){continue}else{bF=false}if(S=="A"){bD[bE[bH][o]-2]*=bK;bD[bE[bH][o]-1]*=bJ;bD[1]*=bs*bK;bD[2]*=bp*bJ;bD[5]=+!(bs+bp?!+bD[5]:+bD[5])}else{if(S=="H"){for(var bG=1,bI=bD[o];bG<bI;bG++){bD[bG]*=bK}}else{if(S=="V"){for(bG=1,bI=bD[o];bG<bI;bG++){bD[bG]*=bJ}}else{for(bG=1,bI=bD[o];bG<bI;bG++){bD[bG]*=(bG%2)?bK:bJ}}}}}var d=ad(bE);bz=bN-d.x-d.width/2;bx=bM-d.y-d.height/2;bE[0][1]+=bz;bE[0][2]+=bx;this.attr({path:bE});break}if(this.type in {text:1,image:1}&&(bs!=1||bp!=1)){if(this.transformations){this.transformations[2]="scale("[bf](bs,",",bp,")");this.node[A]("transform",this.transformations[aN](az));bz=(bs==-1)?-bL.x-(br||0):bL.x;bx=(bp==-1)?-bL.y-(bB||0):bL.y;this.attr({x:bz,y:bx});bL.fx=bs-1;bL.fy=bp-1}else{this.node.filterMatrix=aT+".Matrix(M11="[bf](bs,", M12=0, M21=0, M22=",bp,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");bC.filter=(this.node.filterMatrix||aG)+(this.node.filterOpacity||aG)}}else{if(this.transformations){this.transformations[2]=aG;this.node[A]("transform",this.transformations[aN](az));bL.fx=0;bL.fy=0}else{this.node.filterMatrix=aG;bC.filter=(this.node.filterMatrix||aG)+(this.node.filterOpacity||aG)}}bL.scale=[bv,bu,E,e][aN](az);this._.sx=bv;this._.sy=bu}return this};aL[bm].clone=function(){if(this.removed){return null}var d=this.attr();delete d.scale;delete d.translation;return this.paper[this.type]().attr(d)};var g=at(function(E,d,bq,bp,bw,bv,bu,bt,R){var bs=0,S;for(var br=0;br<1.001;br+=0.001){var e=aA.findDotsAtSegment(E,d,bq,bp,bw,bv,bu,bt,br);br&&(bs+=a6(a6(S.x-e.x,2)+a6(S.y-e.y,2),0.5));if(bs>=R){return e}S=e}}),aQ=function(d,e){return function(by,S,bp){by=O(by);var bu,bt,E,bq,R="",bx={},bv,bs=0;for(var br=0,bw=by.length;br<bw;br++){E=by[br];if(E[0]=="M"){bu=+E[1];bt=+E[2]}else{bq=q(bu,bt,E[1],E[2],E[3],E[4],E[5],E[6]);if(bs+bq>S){if(e&&!bx.start){bv=g(bu,bt,E[1],E[2],E[3],E[4],E[5],E[6],S-bs);R+=["C",bv.start.x,bv.start.y,bv.m.x,bv.m.y,bv.x,bv.y];if(bp){return R}bx.start=R;R=["M",bv.x,bv.y+"C",bv.n.x,bv.n.y,bv.end.x,bv.end.y,E[5],E[6]][aN]();bs+=bq;bu=+E[5];bt=+E[6];continue}if(!d&&!e){bv=g(bu,bt,E[1],E[2],E[3],E[4],E[5],E[6],S-bs);return{x:bv.x,y:bv.y,alpha:bv.alpha}}}bs+=bq;bu=+E[5];bt=+E[6]}R+=E}bx.end=R;bv=d?bs:e?bx:aA.findDotsAtSegment(bu,bt,E[1],E[2],E[3],E[4],E[5],E[6],1);bv.alpha&&(bv={x:bv.x,y:bv.y,alpha:bv.alpha});return bv}},q=at(function(E,d,bp,S,bv,bu,bt,bs){var R={x:0,y:0},br=0;for(var bq=0;bq<1.01;bq+=0.01){var e=X(E,d,bp,S,bv,bu,bt,bs,bq);bq&&(br+=a6(a6(R.x-e.x,2)+a6(R.y-e.y,2),0.5));R=e}return br});var aC=aQ(1),I=aQ(),T=aQ(0,1);aL[bm].getTotalLength=function(){if(this.type!="path"){return}if(this.node.getTotalLength){return this.node.getTotalLength()}return aC(this.attrs.path)};aL[bm].getPointAtLength=function(d){if(this.type!="path"){return}return I(this.attrs.path,d)};aL[bm].getSubpath=function(i,e){if(this.type!="path"){return}if(aj.abs(this.getTotalLength()-e)<0.000001){return T(this.attrs.path,i).end}var d=T(this.attrs.path,e,1);return i?T(d,i).end:d};aA.easing_formulas={linear:function(d){return d},"<":function(d){return a6(d,3)},">":function(d){return a6(d-1,3)+1},"<>":function(d){d=d*2;if(d<1){return a6(d,3)/2}d-=2;return(a6(d,3)+2)/2},backIn:function(e){var d=1.70158;return e*e*((d+1)*e-d)},backOut:function(e){e=e-1;var d=1.70158;return e*e*((d+1)*e+d)+1},elastic:function(i){if(i==0||i==1){return i}var e=0.3,d=e/4;return a6(2,-10*i)*aj.sin((i-d)*(2*aj.PI)/e)+1},bounce:function(E){var e=7.5625,i=2.75,d;if(E<(1/i)){d=e*E*E}else{if(E<(2/i)){E-=(1.5/i);d=e*E*E+0.75}else{if(E<(2.5/i)){E-=(2.25/i);d=e*E*E+0.9375}else{E-=(2.625/i);d=e*E*E+0.984375}}}return d}};var Q={length:0},bd=function(){var br=+new Date;for(var bD in Q){if(bD!="length"&&Q[ab](bD)){var bI=Q[bD];if(bI.stop||bI.el.removed){delete Q[bD];Q[o]--;continue}var bp=br-bI.start,bA=bI.ms,bz=bI.easing,bE=bI.from,bw=bI.diff,E=bI.to,bv=bI.t,by=bI.prev||0,bq=bI.el,R=bI.callback,bx={},d;if(bp<bA){var S=aA.easing_formulas[bz]?aA.easing_formulas[bz](bp/bA):bp/bA;for(var bB in bE){if(bE[ab](bB)){switch(ah[bB]){case"along":d=S*bA*bw[bB];E.back&&(d=E.len-d);var bC=I(E[bB],d);bq.translate(bw.sx-bw.x||0,bw.sy-bw.y||0);bw.x=bC.x;bw.y=bC.y;bq.translate(bC.x-bw.sx,bC.y-bw.sy);E.rot&&bq.rotate(bw.r+bC.alpha,bC.x,bC.y);break;case ax:d=+bE[bB]+S*bA*bw[bB];break;case"colour":d="rgb("+[H(Y(bE[bB].r+S*bA*bw[bB].r)),H(Y(bE[bB].g+S*bA*bw[bB].g)),H(Y(bE[bB].b+S*bA*bw[bB].b))][aN](",")+")";break;case"path":d=[];for(var bG=0,bu=bE[bB][o];bG<bu;bG++){d[bG]=[bE[bB][bG][0]];for(var bF=1,bH=bE[bB][bG][o];bF<bH;bF++){d[bG][bF]=+bE[bB][bG][bF]+S*bA*bw[bB][bG][bF]}d[bG]=d[bG][aN](az)}d=d[aN](az);break;case"csv":switch(bB){case"translation":var bt=bw[bB][0]*(bp-by),bs=bw[bB][1]*(bp-by);bv.x+=bt;bv.y+=bs;d=bt+az+bs;break;case"rotation":d=+bE[bB][0]+S*bA*bw[bB][0];bE[bB][1]&&(d+=","+bE[bB][1]+","+bE[bB][2]);break;case"scale":d=[+bE[bB][0]+S*bA*bw[bB][0],+bE[bB][1]+S*bA*bw[bB][1],(2 in E[bB]?E[bB][2]:aG),(3 in E[bB]?E[bB][3]:aG)][aN](az);break;case"clip-rect":d=[];bG=4;while(bG--){d[bG]=+bE[bB][bG]+S*bA*bw[bB][bG]}break}break}bx[bB]=d}}bq.attr(bx);bq._run&&bq._run.call(bq)}else{if(E.along){bC=I(E.along,E.len*!E.back);bq.translate(bw.sx-(bw.x||0)+bC.x-bw.sx,bw.sy-(bw.y||0)+bC.y-bw.sy);E.rot&&bq.rotate(bw.r+bC.alpha,bC.x,bC.y)}(bv.x||bv.y)&&bq.translate(-bv.x,-bv.y);E.scale&&(E.scale+=aG);bq.attr(E);delete Q[bD];Q[o]--;bq.in_animation=null;aA.is(R,"function")&&R.call(bq)}bI.prev=bp}}aA.svg&&bq&&bq.paper&&bq.paper.safari();Q[o]&&aH.setTimeout(bd)},H=function(d){return h(a3(d,255),0)},x=function(d,i){if(d==null){return{x:this._.tx,y:this._.ty,toString:z}}this._.tx+=+d;this._.ty+=+i;switch(this.type){case"circle":case"ellipse":this.attr({cx:+d+this.attrs.cx,cy:+i+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+d+this.attrs.x,y:+i+this.attrs.y});break;case"path":var e=am(this.attrs.path);e[0][1]+=+d;e[0][2]+=+i;this.attr({path:e});break}return this};aL[bm].animateWith=function(e,i,d,R,E){Q[e.id]&&(i.start=Q[e.id].start);return this.animate(i,d,R,E)};aL[bm].animateAlong=aM();aL[bm].animateAlongBack=aM(1);function aM(d){return function(E,i,e,S){var R={back:d};aA.is(e,"function")?(S=e):(R.rot=e);E&&E.constructor==aL&&(E=E.attrs.path);E&&(R.along=E);return this.animate(R,i,S)}}aL[bm].onAnimation=function(d){this._run=d||0;return this};aL[bm].animate=function(bD,bu,bt,E){if(aA.is(bt,"function")||!bt){E=bt||null}var by={},e={},br={};for(var bv in bD){if(bD[ab](bv)){if(ah[ab](bv)){by[bv]=this.attr(bv);(by[bv]==null)&&(by[bv]=l[bv]);e[bv]=bD[bv];switch(ah[bv]){case"along":var bB=aC(bD[bv]),bw=I(bD[bv],bB*!!bD.back),R=this.getBBox();br[bv]=bB/bu;br.tx=R.x;br.ty=R.y;br.sx=bw.x;br.sy=bw.y;e.rot=bD.rot;e.back=bD.back;e.len=bB;bD.rot&&(br.r=ae(this.rotate())||0);break;case ax:br[bv]=(e[bv]-by[bv])/bu;break;case"colour":by[bv]=aA.getRGB(by[bv]);var bx=aA.getRGB(e[bv]);br[bv]={r:(bx.r-by[bv].r)/bu,g:(bx.g-by[bv].g)/bu,b:(bx.b-by[bv].b)/bu};break;case"path":var S=O(by[bv],e[bv]);by[bv]=S[0];var bs=S[1];br[bv]=[];for(var bA=0,bq=by[bv][o];bA<bq;bA++){br[bv][bA]=[0];for(var bz=1,bC=by[bv][bA][o];bz<bC;bz++){br[bv][bA][bz]=(bs[bA][bz]-by[bv][bA][bz])/bu}}break;case"csv":var d=(bD[bv]+aG)[F](a),bp=(by[bv]+aG)[F](a);switch(bv){case"translation":by[bv]=[0,0];br[bv]=[d[0]/bu,d[1]/bu];break;case"rotation":by[bv]=(bp[1]==d[1]&&bp[2]==d[2])?bp:[0,d[1],d[2]];br[bv]=[(d[0]-by[bv][0])/bu,0,0];break;case"scale":bD[bv]=d;by[bv]=(by[bv]+aG)[F](a);br[bv]=[(d[0]-by[bv][0])/bu,(d[1]-by[bv][1])/bu,0,0];break;case"clip-rect":by[bv]=(by[bv]+aG)[F](a);br[bv]=[];bA=4;while(bA--){br[bv][bA]=(d[bA]-by[bv][bA])/bu}break}e[bv]=d}}}}this.stop();this.in_animation=1;Q[this.id]={start:bD.start||+new Date,ms:bu,easing:bt,from:by,diff:br,to:e,el:this,callback:E,t:{x:0,y:0}};++Q[o]==1&&bd();return this};aL[bm].stop=function(){Q[this.id]&&Q[o]--;delete Q[this.id];return this};aL[bm].translate=function(d,e){return this.attr({translation:d+" "+e})};aL[bm][aP]=function(){return"Rapha\xebl\u2019s object"};aA.ae=Q;var ac=function(d){this.items=[];this[o]=0;this.type="set";if(d){for(var e=0,E=d[o];e<E;e++){if(d[e]&&(d[e].constructor==aL||d[e].constructor==ac)){this[this.items[o]]=this.items[this.items[o]]=d[e];this[o]++}}}};ac[bm][f]=function(){var R,d;for(var e=0,E=arguments[o];e<E;e++){R=arguments[e];if(R&&(R.constructor==aL||R.constructor==ac)){d=this.items[o];this[d]=this.items[d]=R;this[o]++}}return this};ac[bm].pop=function(){delete this[this[o]--];return this.items.pop()};for(var D in aL[bm]){if(aL[bm][ab](D)){ac[bm][D]=(function(d){return function(){for(var e=0,E=this.items[o];e<E;e++){this.items[e][d][bk](this.items[e],arguments)}return this}})(D)}}ac[bm].attr=function(e,bp){if(e&&aA.is(e,aV)&&aA.is(e[0],"object")){for(var d=0,S=e[o];d<S;d++){this.items[d].attr(e[d])}}else{for(var E=0,R=this.items[o];E<R;E++){this.items[E].attr(e,bp)}}return this};ac[bm].animate=function(e,d,bp,br){(aA.is(bp,"function")||!bp)&&(br=bp||null);var S=this.items[o],E=S,bs,bq=this,R;br&&(R=function(){!--S&&br.call(bq)});bp=aA.is(bp,aa)?bp:R;bs=this.items[--E].animate(e,d,bp,R);while(E--){this.items[E].animateWith(bs,e,d,bp,R)}return this};ac[bm].insertAfter=function(e){var d=this.items[o];while(d--){this.items[d].insertAfter(e)}return this};ac[bm].getBBox=function(){var d=[],bp=[],e=[],R=[];for(var E=this.items[o];E--;){var S=this.items[E].getBBox();d[f](S.x);bp[f](S.y);e[f](S.x+S.width);R[f](S.y+S.height)}d=a3[bk](0,d);bp=a3[bk](0,bp);return{x:d,y:bp,width:h[bk](0,e)-d,height:h[bk](0,R)-bp}};ac[bm].clone=function(E){E=new ac;for(var d=0,e=this.items[o];d<e;d++){E[f](this.items[d].clone())}return E};aA.registerFont=function(e){if(!e.face){return e}this.fonts=this.fonts||{};var E={w:e.w,face:{},glyphs:{}},i=e.face["font-family"];for(var bp in e.face){if(e.face[ab](bp)){E.face[bp]=e.face[bp]}}if(this.fonts[i]){this.fonts[i][f](E)}else{this.fonts[i]=[E]}if(!e.svg){E.face["units-per-em"]=N(e.face["units-per-em"],10);for(var R in e.glyphs){if(e.glyphs[ab](R)){var S=e.glyphs[R];E.glyphs[R]={w:S.w,k:{},d:S.d&&"M"+S.d[bb](/[mlcxtrv]/g,function(bq){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[bq]||"M"})+"z"};if(S.k){for(var d in S.k){if(S[ab](d)){E.glyphs[R].k[d]=S.k[d]}}}}}}return e};bh[bm].getFont=function(br,bs,e,R){R=R||"normal";e=e||"normal";bs=+bs||{normal:400,bold:700,lighter:300,bolder:800}[bs]||400;if(!aA.fonts){return}var S=aA.fonts[br];if(!S){var E=new RegExp("(^|\\s)"+br[bb](/[^\w\d\s+!~.:_-]/g,aG)+"(\\s|$)","i");for(var d in aA.fonts){if(aA.fonts[ab](d)){if(E.test(d)){S=aA.fonts[d];break}}}}var bp;if(S){for(var bq=0,bt=S[o];bq<bt;bq++){bp=S[bq];if(bp.face["font-weight"]==bs&&(bp.face["font-style"]==e||!bp.face["font-style"])&&bp.face["font-stretch"]==R){break}}}return bp};bh[bm].print=function(R,E,d,bq,br,bA){bA=bA||"middle";var bw=this.set(),bz=(d+aG)[F](aG),bx=0,bt=aG,bB;aA.is(bq,d)&&(bq=this.getFont(bq));if(bq){bB=(br||16)/bq.face["units-per-em"];var e=bq.face.bbox.split(a),bp=+e[0],bs=+e[1]+(bA=="baseline"?e[3]-e[1]+(+bq.face.descent):(e[3]-e[1])/2);for(var bv=0,S=bz[o];bv<S;bv++){var bu=bv&&bq.glyphs[bz[bv-1]]||{},by=bq.glyphs[bz[bv]];bx+=bv?(bu.w||bq.w)+(bu.k&&bu.k[bz[bv]]||0):0;by&&by.d&&bw[f](this.path(by.d).attr({fill:"#000",stroke:"none",translation:[bx,0]}))}bw.scale(bB,bB,bp,bs).translate(R-bp,E-bs)}return bw};var a7=/\{(\d+)\}/g;aA.format=function(e,i){var d=aA.is(i,aV)?[0][bf](i):arguments;e&&aA.is(e,aa)&&d[o]-1&&(e=e[bb](a7,function(R,E){return d[++E]==null?aG:d[E]}));return e||aG};aA.ninja=function(){n.was?(Raphael=n.is):delete Raphael;return aA};aA.el=aL[bm];return aA})();Transition={linear:function(e,f,a,h,g){return h*f/g+a},sinus:function(e,f,a,h,g){return Math.sin(f/g*2*Math.PI)*h+a},cosinus:function(e,f,a,h,g){return Math.cos(f/g*2*Math.PI)*h+a},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-Transition.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return Transition.easeInBounce(e,f*2,0,h,g)*0.5+a}return Transition.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}};