var Login={init:function(){$("#login_link").bind("click",Login.show);Login.hide()},show:function(){$("#login").show();$("#login_link").hide()},hide:function(){$("#login").hide();$("#login_link").show()},submit:function(){Form.disable($("#login"));Form.cleanInput($("#login_login"));Form.cleanInput($("#login_password"));var a=$("#login_login").val();var b=$("#login_password").val();if(a.lenght==0||b.length==0){alert("You must fill all the form's field to login !");return}else{var c={login:a,password:b};$.post(ROOT_PATH+"remote/login/submit",c,Login.submitCallback)}},submitCallback:function(a){if(a=="1"){window.location=ROOT_PATH}else{alert("Error: wrond login or password")}}};var Question={archivePage:1,workin:false,data:{vote:{},guess:{}},initList:function(){$("#morePollsButton").bind("mousedown",Question.showArchive)},removeMorePollButton:function(){$("#morePollsButton").remove()},showArchive:function(){if(Question.working){return}Question.working=true;var a={page:Question.archivePage,};$.post(ROOT_PATH+"remote/question/archive",a,Question.showArchiveCallback)},showArchiveCallback:function(a){Question.working=false;Question.archivePage++;$("#questionArchiveContainer").html(a)},selectAnswer:function(c,a,f,e){var b=$("#question_"+a+" button.answer");var d=$("#question_"+a+" button.save");b.removeClass("selected");c.addClass("selected");d.removeClass("hide");Question.data[e][a]=f},save:function(b,a,c){if(!Question.data[c][a]){return false}b.remove();var d={question_id:a,answer_id:Question.data[c][a],};$.post(ROOT_PATH+"remote/question/active/"+c,d,Question.saveCallback)},saveCallback:function(a){if(a=="register"){window.location=ROOT_PATH+"register"}else{a=$.parseJSON(a);$("#question_"+a.questionId+" .content").html(a.content)}},guessFriend:function(b,a){var e=$("#question_"+a+" .friends input.guess:checked:enabled");var c=null;var d={question_id:a};b.remove();e.each(function(f){c=$(this).val().split("-");d["guess["+c[0]+"]"]=c[1]});$.post(ROOT_PATH+"remote/question/active/friends",d,Question.guessFriendCallback)},guessFriendCallback:function(a){if(a=="register"){window.location=ROOT_PATH+"register"}else{a=$.parseJSON(a);$("#question_"+a.questionId+" .friends").html(a.content)}},initResults:function(){$("#questionResults ul.menu li.button").bind("click",Question.resultSelectTab);$("#questionResults div.tabs div.tab:not(:first-child)").hide()},resultSelectTab:function(c){var c=$(this).attr("name");var a=$("#questionResults div.tabs div.tab");a.hide();a.eq(c).show();var b=$("#questionResults ul.menu li.button");b.removeClass("selected");b.eq(2).addClass("selected")}};